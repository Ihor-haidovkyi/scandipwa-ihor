{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import ContactFormQuery from\"/home/marketihor/scandipwa/packages/scandipwa/src/query/ContactForm.query\";import{showNotification}from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Notification/Notification.action\";import{fetchMutation,getErrorMessage}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Request\";import{updateContactForm}from\"./ContactForm.action\";/**\n * ContactForm Dispatcher\n * @class ContactFormDispatcher\n * @extends QueryDispatcher\n * @namespace Store/ContactForm/Dispatcher\n */export var _ContactFormDispatcher=/*#__PURE__*/function(_Extensible){_inherits(_ContactFormDispatcher,_Extensible);var _super=_createSuper(_ContactFormDispatcher);function _ContactFormDispatcher(){_classCallCheck(this,_ContactFormDispatcher);return _super.apply(this,arguments);}_createClass(_ContactFormDispatcher,[{key:\"prepareRequest\",value:function prepareRequest(options,dispatch){var mutation=ContactFormQuery.getSendContactFormMutation(options);dispatch(updateContactForm({isLoading:true}));return fetchMutation(mutation).then(/** @namespace Store/ContactForm/Dispatcher/fetchMutationThen */middleware(function(data){dispatch(showNotification('success',data.contactForm.message));dispatch(updateContactForm({isLoading:false}));},\"Store/ContactForm/Dispatcher/fetchMutationThen\"),/** @namespace Store/ContactForm/Dispatcher/fetchMutationError */middleware(function(error){dispatch(showNotification('error',getErrorMessage(error)));dispatch(updateContactForm({isLoading:false}));},\"Store/ContactForm/Dispatcher/fetchMutationError\"));}}]);return _ContactFormDispatcher;}(Extensible());Object.defineProperty(_ContactFormDispatcher,'name',{value:'ContactFormDispatcher'});export var ContactFormDispatcher=middleware(_ContactFormDispatcher,\"Store/ContactForm/Dispatcher\");export default new ContactFormDispatcher();","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/store/ContactForm/ContactForm.dispatcher.js"],"names":["ContactFormQuery","showNotification","fetchMutation","getErrorMessage","updateContactForm","ContactFormDispatcher","options","dispatch","mutation","getSendContactFormMutation","isLoading","then","data","contactForm","message","error","Object","defineProperty","_ContactFormDispatcher","value"],"mappings":"ojBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAOA,CAAAA,gBAAP,iFACA,OAASC,gBAAT,gGACA,OAASC,aAAT,CAAwBC,eAAxB,sEAEA,OAASC,iBAAT,4BAEA;AACA;AACA;AACA;AACA;AACA,GACA,UAAaC,CAAAA,sBAAb,uTACI,wBAAeC,OAAf,CAAwBC,QAAxB,CAAkC,CAC9B,GAAMC,CAAAA,QAAQ,CAAGR,gBAAgB,CAACS,0BAAjB,CAA4CH,OAA5C,CAAjB,CAEAC,QAAQ,CAACH,iBAAiB,CAAC,CACvBM,SAAS,CAAE,IADY,CAAD,CAAlB,CAAR,CAIA,MAAOR,CAAAA,aAAa,CAACM,QAAD,CAAb,CACFG,IADE,CAEC,gEAFD,WAGC,SAACC,IAAD,CAAU,CACNL,QAAQ,CAACN,gBAAgB,CAAC,SAAD,CAAYW,IAAI,CAACC,WAAL,CAAiBC,OAA7B,CAAjB,CAAR,CACAP,QAAQ,CAACH,iBAAiB,CAAC,CACvBM,SAAS,CAAE,KADY,CAAD,CAAlB,CAAR,CAGH,CARF,mDASC,iEATD,WAUC,SAACK,KAAD,CAAW,CACPR,QAAQ,CAACN,gBAAgB,CAAC,OAAD,CAAUE,eAAe,CAACY,KAAD,CAAzB,CAAjB,CAAR,CACAR,QAAQ,CAACH,iBAAiB,CAAC,CACvBM,SAAS,CAAE,KADY,CAAD,CAAlB,CAAR,CAGH,CAfF,oDAAP,CAiBH,CAzBL,kDAvBAM,MAAM,CAACC,cAAP,CAAsBC,sBAAtB,CAA8C,MAA9C,CAAsD,CAAEC,KAAK,CAAE,uBAAT,CAAtD,E,mGAmDA,cAAe,IAAId,CAAAA,qBAAJ,EAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport ContactFormQuery from 'Query/ContactForm.query';\nimport { showNotification } from 'Store/Notification/Notification.action';\nimport { fetchMutation, getErrorMessage } from 'Util/Request';\n\nimport { updateContactForm } from './ContactForm.action';\n\n/**\n * ContactForm Dispatcher\n * @class ContactFormDispatcher\n * @extends QueryDispatcher\n * @namespace Store/ContactForm/Dispatcher\n */\nexport class ContactFormDispatcher {\n    prepareRequest(options, dispatch) {\n        const mutation = ContactFormQuery.getSendContactFormMutation(options);\n\n        dispatch(updateContactForm({\n            isLoading: true\n        }));\n\n        return fetchMutation(mutation)\n            .then(\n                /** @namespace Store/ContactForm/Dispatcher/fetchMutationThen */\n                (data) => {\n                    dispatch(showNotification('success', data.contactForm.message));\n                    dispatch(updateContactForm({\n                        isLoading: false\n                    }));\n                },\n                /** @namespace Store/ContactForm/Dispatcher/fetchMutationError */\n                (error) => {\n                    dispatch(showNotification('error', getErrorMessage(error)));\n                    dispatch(updateContactForm({\n                        isLoading: false\n                    }));\n                }\n            );\n    }\n}\n\nexport default new ContactFormDispatcher();\n"]},"metadata":{},"sourceType":"module"}