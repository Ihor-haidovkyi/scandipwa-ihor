{"ast":null,"code":"var _jsxFileName = \"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductReviewRating/ProductReviewRating.component.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\nimport { MixType } from \"/home/marketihor/scandipwa/packages/scandipwa/src/type/Common\";\nimport CSS from \"/home/marketihor/scandipwa/packages/scandipwa/src/util/CSS\";\nimport \"./ProductReviewRating.style\";\n/**\n * @class ProductReviewRating\n * @namespace Component/ProductReviewRating/Component\n */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport class _ProductReviewRating extends Extensible(PureComponent) {\n  constructor(...args) {\n    super(...args);\n    this.reviewRating = /*#__PURE__*/createRef();\n  }\n\n  componentDidMount() {\n    this.updateRating();\n  }\n\n  componentDidUpdate() {\n    this.updateRating();\n  }\n\n  getAriaText(summary, code) {\n    const ONE_FIFTH_OF_A_HUNDRED = 20;\n    const rating = parseFloat(summary / ONE_FIFTH_OF_A_HUNDRED).toFixed(2);\n    return code ? `Review's ${code} rating is ${rating} out of 5` : `Product's rating is ${rating} out of 5`;\n  }\n\n  updateRating() {\n    const {\n      summary\n    } = this.props;\n    CSS.setVariable(this.reviewRating, 'percentage', `${summary}%`);\n  }\n\n  renderPlaceholder() {\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"ProductReviewRating\",\n      ref: this.reviewRating,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    });\n  }\n\n  render() {\n    const {\n      summary,\n      code,\n      placeholder,\n      mix\n    } = this.props;\n    const ariaText = this.getAriaText(summary, code);\n\n    if (placeholder) {\n      return this.renderPlaceholder();\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"ProductReviewRating\",\n      title: `${summary}%`,\n      ref: this.reviewRating,\n      \"aria-label\": ariaText,\n      mix: mix,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\n_ProductReviewRating.propTypes = {\n  summary: PropTypes.number,\n  code: PropTypes.string,\n  placeholder: PropTypes.bool,\n  mix: MixType\n};\n_ProductReviewRating.defaultProps = {\n  summary: 0,\n  code: '',\n  placeholder: false,\n  mix: {}\n};\nObject.defineProperty(_ProductReviewRating, 'name', {\n  value: 'ProductReviewRating'\n});\n\nexport const ProductReviewRating = middleware(_ProductReviewRating, \"Component/ProductReviewRating/Component\");\nexport default ProductReviewRating;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductReviewRating/ProductReviewRating.component.js"],"names":["PropTypes","createRef","PureComponent","MixType","CSS","ProductReviewRating","reviewRating","componentDidMount","updateRating","componentDidUpdate","getAriaText","summary","code","ONE_FIFTH_OF_A_HUNDRED","rating","parseFloat","toFixed","props","setVariable","renderPlaceholder","render","placeholder","mix","ariaText","propTypes","number","string","bool","defaultProps","Object","defineProperty","_ProductReviewRating","value"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,SAAP,MAAsB,YAAtB;AACA,SAASC,SAAT,EAAoBC,aAApB,QAAyC,OAAzC;AAEA,SAASC,OAAT;AACA,OAAOC,GAAP;AAEA;AAEA;AACA;AACA;AACA;;;;AACA,OAAO,MAAMC,oBAAN,mCAAgD;AAAA;AAAA;AAAA,SAenDC,YAfmD,gBAepCL,SAAS,EAf2B;AAAA;;AAiBnDM,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,YAAL;AACH;;AAEDC,EAAAA,kBAAkB,GAAG;AACjB,SAAKD,YAAL;AACH;;AAEDE,EAAAA,WAAW,CAACC,OAAD,EAAUC,IAAV,EAAgB;AACvB,UAAMC,sBAAsB,GAAG,EAA/B;AACA,UAAMC,MAAM,GAAGC,UAAU,CAACJ,OAAO,GAAGE,sBAAX,CAAV,CAA6CG,OAA7C,CAAqD,CAArD,CAAf;AAEA,WAAOJ,IAAI,GACJ,YAAWA,IAAK,cAAaE,MAAO,WADhC,GAEJ,uBAAsBA,MAAO,WAFpC;AAGH;;AAEDN,EAAAA,YAAY,GAAG;AACX,UAAM;AAAEG,MAAAA;AAAF,QAAc,KAAKM,KAAzB;AAEAb,IAAAA,GAAG,CAACc,WAAJ,CACI,KAAKZ,YADT,EAEI,YAFJ,EAGK,GAAEK,OAAQ,GAHf;AAKH;;AAEDQ,EAAAA,iBAAiB,GAAG;AAChB;AAEM,MAAA,KAAK,EAAC,qBAFZ;AAGM,MAAA,GAAG,EAAG,KAAKb,YAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMH;;AAEDc,EAAAA,MAAM,GAAG;AACL,UAAM;AACFT,MAAAA,OADE;AAEFC,MAAAA,IAFE;AAGFS,MAAAA,WAHE;AAIFC,MAAAA;AAJE,QAKF,KAAKL,KALT;AAOA,UAAMM,QAAQ,GAAG,KAAKb,WAAL,CAAiBC,OAAjB,EAA0BC,IAA1B,CAAjB;;AAEA,QAAIS,WAAJ,EAAiB;AACb,aAAO,KAAKF,iBAAL,EAAP;AACH;;AAED;AAEM,MAAA,KAAK,EAAC,qBAFZ;AAGM,MAAA,KAAK,EAAI,GAAER,OAAQ,GAHzB;AAIM,MAAA,GAAG,EAAG,KAAKL,YAJjB;AAKM,oBAAaiB,QALnB;AAMM,MAAA,GAAG,EAAGD,GANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASH;;AA5EkD;AAA1CjB,oB,CACFmB,S,GAAY;AACfb,EAAAA,OAAO,EAAEX,SAAS,CAACyB,MADJ;AAEfb,EAAAA,IAAI,EAAEZ,SAAS,CAAC0B,MAFD;AAGfL,EAAAA,WAAW,EAAErB,SAAS,CAAC2B,IAHR;AAIfL,EAAAA,GAAG,EAAEnB;AAJU,C;AADVE,oB,CAQFuB,Y,GAAe;AAClBjB,EAAAA,OAAO,EAAE,CADS;AAElBC,EAAAA,IAAI,EAAE,EAFY;AAGlBS,EAAAA,WAAW,EAAE,KAHK;AAIlBC,EAAAA,GAAG,EAAE;AAJa,C;AA/B1BO,MAAM,CAACC,cAAP,CAAsBC,oBAAtB,EAA4C,MAA5C,EAAoD;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAApD;;;AAsGA,eAAe3B,mBAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\n\nimport { MixType } from 'Type/Common';\nimport CSS from 'Util/CSS';\n\nimport './ProductReviewRating.style';\n\n/**\n * @class ProductReviewRating\n * @namespace Component/ProductReviewRating/Component\n */\nexport class ProductReviewRating extends PureComponent {\n    static propTypes = {\n        summary: PropTypes.number,\n        code: PropTypes.string,\n        placeholder: PropTypes.bool,\n        mix: MixType\n    };\n\n    static defaultProps = {\n        summary: 0,\n        code: '',\n        placeholder: false,\n        mix: {}\n    };\n\n    reviewRating = createRef();\n\n    componentDidMount() {\n        this.updateRating();\n    }\n\n    componentDidUpdate() {\n        this.updateRating();\n    }\n\n    getAriaText(summary, code) {\n        const ONE_FIFTH_OF_A_HUNDRED = 20;\n        const rating = parseFloat(summary / ONE_FIFTH_OF_A_HUNDRED).toFixed(2);\n\n        return code\n            ? `Review's ${code} rating is ${rating} out of 5`\n            : `Product's rating is ${rating} out of 5`;\n    }\n\n    updateRating() {\n        const { summary } = this.props;\n\n        CSS.setVariable(\n            this.reviewRating,\n            'percentage',\n            `${summary}%`\n        );\n    }\n\n    renderPlaceholder() {\n        return (\n            <div\n              block=\"ProductReviewRating\"\n              ref={ this.reviewRating }\n            />\n        );\n    }\n\n    render() {\n        const {\n            summary,\n            code,\n            placeholder,\n            mix\n        } = this.props;\n\n        const ariaText = this.getAriaText(summary, code);\n\n        if (placeholder) {\n            return this.renderPlaceholder();\n        }\n\n        return (\n            <div\n              block=\"ProductReviewRating\"\n              title={ `${summary}%` }\n              ref={ this.reviewRating }\n              aria-label={ ariaText }\n              mix={ mix }\n            />\n        );\n    }\n}\n\nexport default ProductReviewRating;\n"]},"metadata":{},"sourceType":"module"}