{"ast":null,"code":"import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import PropTypes from'prop-types';import Form from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Form/Form.component\";/** @namespace Component/FormPortal/Component */export var _FormPortal=/*#__PURE__*/function(_Extensible){_inherits(_FormPortal,_Extensible);var _super=_createSuper(_FormPortal);function _FormPortal(){_classCallCheck(this,_FormPortal);return _super.apply(this,arguments);}_createClass(_FormPortal,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var prevId=prevProps.id;var _this$props=this.props,id=_this$props.id,name=_this$props.name;if(id!==prevId){this.unsubscribeToFormPortalCollector(prevId,name);this.subscribeToFormPortalCollector(id,name);}}},{key:\"subscribeToFormPortalCollector\",value:function subscribeToFormPortalCollector(id,name){if(window.formPortalCollector){window.formPortalCollector.subscribe(id,this.collectFieldsInformation,name);}}},{key:\"unsubscribeToFormPortalCollector\",value:function unsubscribeToFormPortalCollector(id,name){if(window.formPortalCollector){window.formPortalCollector.unsubscribe(id,name);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var _this$props2=this.props,id=_this$props2.id,name=_this$props2.name;this.unsubscribeToFormPortalCollector(id,name);}},{key:\"componentDidMount\",value:function componentDidMount(){var _this$props3=this.props,id=_this$props3.id,name=_this$props3.name;if(!id){throw new Error('Can not create a FormPortal without assignment to the Form ID!');}this.subscribeToFormPortalCollector(id,name);}},{key:\"render\",value:function render(){var children=this.state.children;return children;}}]);return _FormPortal;}(Extensible(Form));_FormPortal.propTypes=_objectSpread(_objectSpread({},Form.propTypes),{},{name:PropTypes.string.isRequired});Object.defineProperty(_FormPortal,'name',{value:'FormPortal'});export var FormPortal=middleware(_FormPortal,\"Component/FormPortal/Component\");export default FormPortal;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/FormPortal/FormPortal.component.js"],"names":["PropTypes","Form","FormPortal","prevProps","prevId","id","props","name","unsubscribeToFormPortalCollector","subscribeToFormPortalCollector","window","formPortalCollector","subscribe","collectFieldsInformation","unsubscribe","Error","children","state","propTypes","string","isRequired","Object","defineProperty","_FormPortal","value"],"mappings":"osBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAOA,CAAAA,SAAP,KAAsB,YAAtB,CAEA,MAAOC,CAAAA,IAAP,uFAEA,gDACA,UAAaC,CAAAA,WAAb,oQAMI,4BAAmBC,SAAnB,CAA8B,IACdC,CAAAA,MADc,CACHD,SADG,CAClBE,EADkB,iBAEL,KAAKC,KAFA,CAElBD,EAFkB,aAElBA,EAFkB,CAEdE,IAFc,aAEdA,IAFc,CAI1B,GAAIF,EAAE,GAAKD,MAAX,CAAmB,CACf,KAAKI,gCAAL,CAAsCJ,MAAtC,CAA8CG,IAA9C,EACA,KAAKE,8BAAL,CAAoCJ,EAApC,CAAwCE,IAAxC,EACH,CACJ,CAdL,8CAgBI,wCAA+BF,EAA/B,CAAmCE,IAAnC,CAAyC,CACrC,GAAIG,MAAM,CAACC,mBAAX,CAAgC,CAC5BD,MAAM,CAACC,mBAAP,CAA2BC,SAA3B,CAAqCP,EAArC,CAAyC,KAAKQ,wBAA9C,CAAwEN,IAAxE,EACH,CACJ,CApBL,gDAsBI,0CAAiCF,EAAjC,CAAqCE,IAArC,CAA2C,CACvC,GAAIG,MAAM,CAACC,mBAAX,CAAgC,CAC5BD,MAAM,CAACC,mBAAP,CAA2BG,WAA3B,CAAuCT,EAAvC,CAA2CE,IAA3C,EACH,CACJ,CA1BL,oCA4BI,+BAAuB,kBACE,KAAKD,KADP,CACXD,EADW,cACXA,EADW,CACPE,IADO,cACPA,IADO,CAEnB,KAAKC,gCAAL,CAAsCH,EAAtC,CAA0CE,IAA1C,EACH,CA/BL,iCAiCI,4BAAoB,kBACK,KAAKD,KADV,CACRD,EADQ,cACRA,EADQ,CACJE,IADI,cACJA,IADI,CAEhB,GAAI,CAACF,EAAL,CAAS,CACL,KAAM,IAAIU,CAAAA,KAAJ,CAAU,gEAAV,CAAN,CACH,CACD,KAAKN,8BAAL,CAAoCJ,EAApC,CAAwCE,IAAxC,EACH,CAvCL,sBAyCI,iBAAS,IACGS,CAAAA,QADH,CACgB,KAAKC,KADrB,CACGD,QADH,CAEL,MAAOA,CAAAA,QAAP,CACH,CA5CL,2CAAad,W,CACFgB,S,gCACAjB,IAAI,CAACiB,S,MACRX,IAAI,CAAEP,SAAS,CAACmB,MAAV,CAAiBC,U,GAnB/BC,MAAM,CAACC,cAAP,CAAsBC,WAAtB,CAAmC,MAAnC,CAA2C,CAAEC,KAAK,CAAE,YAAT,CAA3C,E,+EA+DA,cAAetB,CAAAA,UAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nimport Form from 'Component/Form/Form.component';\n\n/** @namespace Component/FormPortal/Component */\nexport class FormPortal extends Form {\n    static propTypes = {\n        ...Form.propTypes,\n        name: PropTypes.string.isRequired\n    };\n\n    componentDidUpdate(prevProps) {\n        const { id: prevId } = prevProps;\n        const { id, name } = this.props;\n\n        if (id !== prevId) {\n            this.unsubscribeToFormPortalCollector(prevId, name);\n            this.subscribeToFormPortalCollector(id, name);\n        }\n    }\n\n    subscribeToFormPortalCollector(id, name) {\n        if (window.formPortalCollector) {\n            window.formPortalCollector.subscribe(id, this.collectFieldsInformation, name);\n        }\n    }\n\n    unsubscribeToFormPortalCollector(id, name) {\n        if (window.formPortalCollector) {\n            window.formPortalCollector.unsubscribe(id, name);\n        }\n    }\n\n    componentWillUnmount() {\n        const { id, name } = this.props;\n        this.unsubscribeToFormPortalCollector(id, name);\n    }\n\n    componentDidMount() {\n        const { id, name } = this.props;\n        if (!id) {\n            throw new Error('Can not create a FormPortal without assignment to the Form ID!');\n        }\n        this.subscribeToFormPortalCollector(id, name);\n    }\n\n    render() {\n        const { children } = this.state;\n        return children;\n    }\n}\n\nexport default FormPortal;\n"]},"metadata":{},"sourceType":"module"}