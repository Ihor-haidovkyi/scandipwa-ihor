{"ast":null,"code":"/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport ProductListQuery from \"/home/marketihor/scandipwa/packages/scandipwa/src/query/ProductList.query\";\nimport { QueryDispatcher } from \"/home/marketihor/scandipwa/packages/scandipwa/src/util/Request\";\nimport { clearSearchResults, updateLoadStatus, updateSearchBar } from \"./SearchBar.action\";\n/**\n * Search Bar Dispatcher\n * @class SearchBarDispatcher\n * @extends QueryDispatcher\n * @namespace Store/SearchBar/Dispatcher\n */\n\nexport class _SearchBarDispatcher extends Extensible(QueryDispatcher) {\n  __construct() {\n    super.__construct('SearchBar');\n  }\n\n  onSuccess(data, dispatch) {\n    dispatch(updateLoadStatus(false));\n    dispatch(updateSearchBar(data));\n  }\n\n  onError(_, dispatch) {\n    dispatch(updateLoadStatus(false));\n  }\n\n  clearSearchResults(dispatch) {\n    dispatch(clearSearchResults());\n  }\n\n  prepareRequest(options, dispatch) {\n    dispatch(updateLoadStatus(true));\n    return ProductListQuery.getQuery({ ...options,\n      notRequireInfo: true\n    });\n  }\n\n}\nObject.defineProperty(_SearchBarDispatcher, 'name', {\n  value: 'SearchBarDispatcher'\n});\n\nexport const SearchBarDispatcher = middleware(_SearchBarDispatcher, \"Store/SearchBar/Dispatcher\");\nexport default new SearchBarDispatcher();","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/store/SearchBar/SearchBar.dispatcher.js"],"names":["ProductListQuery","QueryDispatcher","clearSearchResults","updateLoadStatus","updateSearchBar","SearchBarDispatcher","__construct","onSuccess","data","dispatch","onError","_","prepareRequest","options","getQuery","notRequireInfo","Object","defineProperty","_SearchBarDispatcher","value"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,gBAAP;AACA,SAASC,eAAT;AAEA,SAASC,kBAAT,EAA6BC,gBAA7B,EAA+CC,eAA/C;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,oBAAN,qCAAkD;AACrDC,EAAAA,WAAW,GAAG;AACV,UAAMA,WAAN,CAAkB,WAAlB;AACH;;AAEDC,EAAAA,SAAS,CAACC,IAAD,EAAOC,QAAP,EAAiB;AACtBA,IAAAA,QAAQ,CAACN,gBAAgB,CAAC,KAAD,CAAjB,CAAR;AACAM,IAAAA,QAAQ,CAACL,eAAe,CAACI,IAAD,CAAhB,CAAR;AACH;;AAEDE,EAAAA,OAAO,CAACC,CAAD,EAAIF,QAAJ,EAAc;AACjBA,IAAAA,QAAQ,CAACN,gBAAgB,CAAC,KAAD,CAAjB,CAAR;AACH;;AAEDD,EAAAA,kBAAkB,CAACO,QAAD,EAAW;AACzBA,IAAAA,QAAQ,CAACP,kBAAkB,EAAnB,CAAR;AACH;;AAEDU,EAAAA,cAAc,CAACC,OAAD,EAAUJ,QAAV,EAAoB;AAC9BA,IAAAA,QAAQ,CAACN,gBAAgB,CAAC,IAAD,CAAjB,CAAR;AAEA,WAAOH,gBAAgB,CAACc,QAAjB,CAA0B,EAC7B,GAAGD,OAD0B;AAE7BE,MAAAA,cAAc,EAAE;AAFa,KAA1B,CAAP;AAIH;;AAzBoD;AAtBzDC,MAAM,CAACC,cAAP,CAAsBC,oBAAtB,EAA4C,MAA5C,EAAoD;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAApD;;;AAkDA,eAAe,IAAId,mBAAJ,EAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport ProductListQuery from 'Query/ProductList.query';\nimport { QueryDispatcher } from 'Util/Request';\n\nimport { clearSearchResults, updateLoadStatus, updateSearchBar } from './SearchBar.action';\n\n/**\n * Search Bar Dispatcher\n * @class SearchBarDispatcher\n * @extends QueryDispatcher\n * @namespace Store/SearchBar/Dispatcher\n */\nexport class SearchBarDispatcher extends QueryDispatcher {\n    __construct() {\n        super.__construct('SearchBar');\n    }\n\n    onSuccess(data, dispatch) {\n        dispatch(updateLoadStatus(false));\n        dispatch(updateSearchBar(data));\n    }\n\n    onError(_, dispatch) {\n        dispatch(updateLoadStatus(false));\n    }\n\n    clearSearchResults(dispatch) {\n        dispatch(clearSearchResults());\n    }\n\n    prepareRequest(options, dispatch) {\n        dispatch(updateLoadStatus(true));\n\n        return ProductListQuery.getQuery({\n            ...options,\n            notRequireInfo: true\n        });\n    }\n}\n\nexport default new SearchBarDispatcher();\n"]},"metadata":{},"sourceType":"module"}