{"ast":null,"code":"import _defineProperty from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import PropTypes from'prop-types';import{connect}from'react-redux';import{MyAccountMyWishlistContainer}from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountMyWishlist/MyAccountMyWishlist.container\";import WishlistQuery from\"/home/marketihor/scandipwa/packages/scandipwa/src/query/Wishlist.query\";import{updateNoMatch}from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/NoMatch/NoMatch.action\";import{showNotification as _showNotification}from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Notification/Notification.action\";import{MatchType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Common\";import{getIndexedProduct}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Product\";import{prepareQuery}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Query\";import{executeGet,getErrorMessage}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Request\";import{FIVE_MINUTES_IN_SECONDS}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Request/QueryDispatcher\";import WishlistShared from\"./WishlistSharedPage.component\";export var BreadcrumbsDispatcher=import(/* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Breadcrumbs/Breadcrumbs.dispatcher\");export var WishlistDispatcher=import(/* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Wishlist/Wishlist.dispatcher\");/** @namespace Route/WishlistSharedPage/Container/mapDispatchToProps */export var mapDispatchToProps=middleware(function(dispatch){return{clearWishlist:function clearWishlist(){return WishlistDispatcher.then(function(_ref){var dispatcher=_ref.default;return dispatcher.clearWishlist(dispatch);});},moveWishlistToCart:function moveWishlistToCart(sharingCode){return WishlistDispatcher.then(function(_ref2){var dispatcher=_ref2.default;return dispatcher.moveWishlistToCart(dispatch,sharingCode);});},showNotification:function showNotification(message){return dispatch(_showNotification('success',message));},showError:function showError(message){return dispatch(_showNotification('error',message));},showNoMatch:function showNoMatch(){return dispatch(updateNoMatch(true));},updateBreadcrumbs:function updateBreadcrumbs(breadcrumbs){return BreadcrumbsDispatcher.then(function(_ref3){var dispatcher=_ref3.default;return dispatcher.update(breadcrumbs,dispatch);});}};},\"Route/WishlistSharedPage/Container/mapDispatchToProps\");/** @namespace Route/WishlistSharedPage/Container/wishlistSharedContainer */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _WishlistSharedPageContainer=/*#__PURE__*/function(_Extensible){_inherits(_WishlistSharedPageContainer,_Extensible);var _super=_createSuper(_WishlistSharedPageContainer);function _WishlistSharedPageContainer(){var _this;_classCallCheck(this,_WishlistSharedPageContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={creatorsName:'',wishlistItems:{},isWishlistLoading:true,isLoading:false};_this.addAllToCart=function(){var _this$props=_this.props,showError=_this$props.showError,moveWishlistToCart=_this$props.moveWishlistToCart;var sharingCode=_this.getCode();_this.setState({isLoading:true});return moveWishlistToCart(sharingCode).then(/** @namespace Route/WishlistSharedPage/Container/moveWishlistToCartThen */middleware(function(){return _this.showNotificationAndRemoveLoading('Wishlist moved to cart');},\"Route/WishlistSharedPage/Container/moveWishlistToCartThen\"),/** @namespace Route/WishlistSharedPage/Container/moveWishlistToCartCatch */middleware(function(error){return showError(getErrorMessage(error));},\"Route/WishlistSharedPage/Container/moveWishlistToCartCatch\"));};_this._getIsWishlistEmpty=function(){var wishlistItems=_this.state.wishlistItems;return Object.entries(wishlistItems).length<=0;};return _this;}_createClass(_WishlistSharedPageContainer,[{key:\"componentDidMount\",value:function componentDidMount(){this.requestWishlist();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var code=prevProps.match.params.code;if(this.getCode()!==code){this.requestWishlist();}}},{key:\"setLoading\",value:function setLoading(){var isLoading=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.setState({isWishlistLoading:isLoading,isLoading:isLoading});}},{key:\"requestWishlist\",value:function requestWishlist(){var _this2=this;var _this$props2=this.props,showError=_this$props2.showError,showNoMatch=_this$props2.showNoMatch,updateBreadcrumbs=_this$props2.updateBreadcrumbs;var code=this.getCode();var query=prepareQuery([WishlistQuery.getWishlistQuery(code)]);updateBreadcrumbs([]);this.setLoading();executeGet(query,'SharedWishlist',FIVE_MINUTES_IN_SECONDS).then(/** @namespace Route/WishlistSharedPage/Container/requestWishlistExecuteGetThen */middleware(function(_ref4){var wishlist=_ref4.wishlist,_ref4$wishlist=_ref4.wishlist;_ref4$wishlist=_ref4$wishlist===void 0?{}:_ref4$wishlist;var items_count=_ref4$wishlist.items_count,creatorsName=_ref4$wishlist.creators_name;if(!items_count){_this2.setLoading(false);return;}var wishlistItems=wishlist.items.reduce(function(prev,wishlistItem){var id=wishlistItem.id,sku=wishlistItem.sku,product=wishlistItem.product,description=wishlistItem.description,quantity=wishlistItem.qty;var indexedProduct=getIndexedProduct(product);return _objectSpread(_objectSpread({},prev),{},_defineProperty({},id,_objectSpread({quantity:quantity,wishlist:{id:id,sku:sku,quantity:quantity,description:description}},indexedProduct)));},{});updateBreadcrumbs([{name:creatorsName,url:\"/wishlist/shared/\".concat(code)},{name:__('Shared Wishlist'),url:'/'}]);_this2.setState({creatorsName:creatorsName,wishlistItems:wishlistItems,isLoading:false,isWishlistLoading:false});},\"Route/WishlistSharedPage/Container/requestWishlistExecuteGetThen\"),/** @namespace Route/WishlistSharedPage/Container/executeGetCatch */middleware(function(error){showError(getErrorMessage(error));showNoMatch();},\"Route/WishlistSharedPage/Container/executeGetCatch\"));}},{key:\"getCode\",value:function getCode(){var code=this.props.match.params.code;return code;}},{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,WishlistShared,Object.assign({},this.props,this.state,this.containerProps(),this.containerFunctions()));}}]);return _WishlistSharedPageContainer;}(Extensible(MyAccountMyWishlistContainer));/** @namespace Route/WishlistSharedPage/Container/mapStateToProps */ // eslint-disable-next-line no-unused-vars\n_WishlistSharedPageContainer.propTypes={match:MatchType.isRequired,showError:PropTypes.func.isRequired,showNoMatch:PropTypes.func.isRequired,updateBreadcrumbs:PropTypes.func.isRequired};Object.defineProperty(_WishlistSharedPageContainer,'name',{value:'WishlistSharedPageContainer'});export var WishlistSharedPageContainer=middleware(_WishlistSharedPageContainer,\"Route/WishlistSharedPage/Container/wishlistSharedContainer\");export var mapStateToProps=middleware(function(state){return{};},\"Route/WishlistSharedPage/Container/mapStateToProps\");export default connect(mapStateToProps,mapDispatchToProps)(WishlistSharedPageContainer);","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/route/WishlistSharedPage/WishlistSharedPage.container.js"],"names":["PropTypes","connect","MyAccountMyWishlistContainer","WishlistQuery","updateNoMatch","showNotification","MatchType","getIndexedProduct","prepareQuery","executeGet","getErrorMessage","FIVE_MINUTES_IN_SECONDS","WishlistShared","BreadcrumbsDispatcher","WishlistDispatcher","mapDispatchToProps","dispatch","clearWishlist","then","dispatcher","default","moveWishlistToCart","sharingCode","message","showError","showNoMatch","updateBreadcrumbs","breadcrumbs","update","WishlistSharedPageContainer","state","creatorsName","wishlistItems","isWishlistLoading","isLoading","addAllToCart","props","getCode","setState","showNotificationAndRemoveLoading","error","_getIsWishlistEmpty","Object","entries","length","requestWishlist","prevProps","code","match","params","query","getWishlistQuery","setLoading","wishlist","items_count","creators_name","items","reduce","prev","wishlistItem","id","sku","product","description","quantity","qty","indexedProduct","name","url","__","containerProps","containerFunctions","propTypes","isRequired","func","defineProperty","_WishlistSharedPageContainer","value","mapStateToProps"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { MyAccountMyWishlistContainer } from 'Component/MyAccountMyWishlist/MyAccountMyWishlist.container';\nimport WishlistQuery from 'Query/Wishlist.query';\nimport { updateNoMatch } from 'Store/NoMatch/NoMatch.action';\nimport { showNotification } from 'Store/Notification/Notification.action';\nimport { MatchType } from 'Type/Common';\nimport { getIndexedProduct } from 'Util/Product';\nimport { prepareQuery } from 'Util/Query';\nimport { executeGet, getErrorMessage } from 'Util/Request';\nimport { FIVE_MINUTES_IN_SECONDS } from 'Util/Request/QueryDispatcher';\n\nimport WishlistShared from './WishlistSharedPage.component';\n\nexport const BreadcrumbsDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Breadcrumbs/Breadcrumbs.dispatcher'\n);\nexport const WishlistDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Wishlist/Wishlist.dispatcher'\n);\n\n/** @namespace Route/WishlistSharedPage/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    clearWishlist: () => WishlistDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.clearWishlist(dispatch)\n    ),\n    moveWishlistToCart: (sharingCode) => WishlistDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.moveWishlistToCart(dispatch, sharingCode)\n    ),\n    showNotification: (message) => dispatch(showNotification('success', message)),\n    showError: (message) => dispatch(showNotification('error', message)),\n    showNoMatch: () => dispatch(updateNoMatch(true)),\n    updateBreadcrumbs: (breadcrumbs) => BreadcrumbsDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.update(breadcrumbs, dispatch)\n    )\n});\n\n/** @namespace Route/WishlistSharedPage/Container/wishlistSharedContainer */\nexport class WishlistSharedPageContainer extends MyAccountMyWishlistContainer {\n    static propTypes = {\n        match: MatchType.isRequired,\n        showError: PropTypes.func.isRequired,\n        showNoMatch: PropTypes.func.isRequired,\n        updateBreadcrumbs: PropTypes.func.isRequired\n    };\n\n    state = {\n        creatorsName: '',\n        wishlistItems: {},\n        isWishlistLoading: true,\n        isLoading: false\n    };\n\n    componentDidMount() {\n        this.requestWishlist();\n    }\n\n    componentDidUpdate(prevProps) {\n        const { match: { params: { code } } } = prevProps;\n\n        if (this.getCode() !== code) {\n            this.requestWishlist();\n        }\n    }\n\n    setLoading(isLoading = true) {\n        this.setState({ isWishlistLoading: isLoading, isLoading });\n    }\n\n    addAllToCart = () => {\n        const { showError, moveWishlistToCart } = this.props;\n        const sharingCode = this.getCode();\n\n        this.setState({ isLoading: true });\n\n        return moveWishlistToCart(sharingCode).then(\n            /** @namespace Route/WishlistSharedPage/Container/moveWishlistToCartThen */\n            () => this.showNotificationAndRemoveLoading('Wishlist moved to cart'),\n            /** @namespace Route/WishlistSharedPage/Container/moveWishlistToCartCatch */\n            (error) => showError(getErrorMessage(error))\n        );\n    };\n\n    requestWishlist() {\n        const { showError, showNoMatch, updateBreadcrumbs } = this.props;\n\n        const code = this.getCode();\n        const query = prepareQuery([WishlistQuery.getWishlistQuery(code)]);\n\n        updateBreadcrumbs([]);\n        this.setLoading();\n\n        executeGet(query, 'SharedWishlist', FIVE_MINUTES_IN_SECONDS).then(\n            /** @namespace Route/WishlistSharedPage/Container/requestWishlistExecuteGetThen */\n            ({ wishlist, wishlist: { items_count, creators_name: creatorsName } = {} }) => {\n                if (!items_count) {\n                    this.setLoading(false);\n                    return;\n                }\n\n                const wishlistItems = wishlist.items.reduce((prev, wishlistItem) => {\n                    const {\n                        id,\n                        sku,\n                        product,\n                        description,\n                        qty: quantity\n                    } = wishlistItem;\n\n                    const indexedProduct = getIndexedProduct(product);\n\n                    return {\n                        ...prev,\n                        [id]: {\n                            quantity,\n                            wishlist: {\n                                id,\n                                sku,\n                                quantity,\n                                description\n                            },\n                            ...indexedProduct\n                        }\n                    };\n                }, {});\n\n                updateBreadcrumbs([\n                    { name: creatorsName, url: `/wishlist/shared/${code}` },\n                    { name: __('Shared Wishlist'), url: '/' }\n                ]);\n\n                this.setState({\n                    creatorsName,\n                    wishlistItems,\n                    isLoading: false,\n                    isWishlistLoading: false\n                });\n            },\n            /** @namespace Route/WishlistSharedPage/Container/executeGetCatch */\n            (error) => {\n                showError(getErrorMessage(error));\n                showNoMatch();\n            }\n        );\n    }\n\n    _getIsWishlistEmpty = () => {\n        const { wishlistItems } = this.state;\n        return Object.entries(wishlistItems).length <= 0;\n    };\n\n    getCode() {\n        const { match: { params: { code } } } = this.props;\n        return code;\n    }\n\n    render() {\n        return (\n            <WishlistShared\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerProps() }\n              { ...this.containerFunctions() }\n            />\n        );\n    }\n}\n\n/** @namespace Route/WishlistSharedPage/Container/mapStateToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapStateToProps = (state) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WishlistSharedPageContainer);\n"]},"metadata":{},"sourceType":"module"}