{"ast":null,"code":"import _slicedToArray from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import ExpandableContent from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ExpandableContent\";import ProductAttributeValue from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductAttributeValue\";import ProductConfigurableAttributeDropdown from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductConfigurableAttributeDropdown\";import{MixType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Common\";import{AttributeType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/ProductList\";import\"./ProductConfigurableAttributes.style\";/** @namespace Component/ProductConfigurableAttributes/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _ProductConfigurableAttributes=/*#__PURE__*/function(_Extensible){_inherits(_ProductConfigurableAttributes,_Extensible);var _super=_createSuper(_ProductConfigurableAttributes);function _ProductConfigurableAttributes(){_classCallCheck(this,_ProductConfigurableAttributes);return _super.apply(this,arguments);}_createClass(_ProductConfigurableAttributes,[{key:\"renderConfigurableAttributeValue\",value:function renderConfigurableAttributeValue(attribute){var _this$props=this.props,getIsConfigurableAttributeAvailable=_this$props.getIsConfigurableAttributeAvailable,handleOptionClick=_this$props.handleOptionClick,getLink=_this$props.getLink,isSelected=_this$props.isSelected;var attribute_value=attribute.attribute_value;return/*#__PURE__*/_checkBEM(React,ProductAttributeValue,{key:attribute_value,attribute:attribute,isSelected:isSelected(attribute),isAvailable:getIsConfigurableAttributeAvailable(attribute),onClick:handleOptionClick,getLink:getLink});}},{key:\"renderSwatch\",value:function renderSwatch(option){var _this=this;var attribute_values=option.attribute_values;return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductConfigurableAttributes\",elem:\"SwatchList\"},attribute_values.map(function(attribute_value){return _this.renderConfigurableAttributeValue(_objectSpread(_objectSpread({},option),{},{attribute_value:attribute_value}));}));}},{key:\"renderDropdown\",value:function renderDropdown(option){var _this$props2=this.props,updateConfigurableVariant=_this$props2.updateConfigurableVariant,getIsConfigurableAttributeAvailable=_this$props2.getIsConfigurableAttributeAvailable,parameters=_this$props2.parameters;return/*#__PURE__*/_checkBEM(React,ProductConfigurableAttributeDropdown,{option:option,updateConfigurableVariant:updateConfigurableVariant,getIsConfigurableAttributeAvailable:getIsConfigurableAttributeAvailable,parameters:parameters});}},{key:\"renderPlaceholders\",value:function renderPlaceholders(){var _this$props3=this.props,numberOfPlaceholders=_this$props3.numberOfPlaceholders,isContentExpanded=_this$props3.isContentExpanded;return numberOfPlaceholders.map(function(length,i){return/*#__PURE__*/_checkBEM(React,ExpandableContent// eslint-disable-next-line react/no-array-index-key\n,{key:i,mix:{block:'ProductConfigurableAttributes',elem:'Expandable'},isContentExpanded:isContentExpanded},/*#__PURE__*/_checkBEM(React,\"div\",{// eslint-disable-next-line react/no-array-index-key\nkey:i,block:\"ProductConfigurableAttributes\",elem:\"SwatchList\"},Array.from({length:length},function(_,i){return/*#__PURE__*/_checkBEM(React,\"div\",{// eslint-disable-next-line react/no-array-index-key\nkey:i,block:\"ProductConfigurableAttributes\",elem:\"Placeholder\"});})));});}},{key:\"renderConfigurableAttributes\",value:function renderConfigurableAttributes(){var _this2=this;var _this$props4=this.props,configurable_options=_this$props4.configurable_options,isContentExpanded=_this$props4.isContentExpanded,getSubHeading=_this$props4.getSubHeading;return Object.values(configurable_options).map(function(option){var attribute_label=option.attribute_label,attribute_code=option.attribute_code,attribute_options=option.attribute_options;var _ref=attribute_options?Object.values(attribute_options):[{}],_ref2=_slicedToArray(_ref,1),swatch_data=_ref2[0].swatch_data;var isSwatch=!!swatch_data;return/*#__PURE__*/_checkBEM(React,ExpandableContent,{key:attribute_code,heading:attribute_label,subHeading:getSubHeading(option),mix:{block:'ProductConfigurableAttributes',elem:'Expandable'},isContentExpanded:isContentExpanded},isSwatch?_this2.renderSwatch(option):_this2.renderDropdown(option));});}},{key:\"render\",value:function render(){var _this$props5=this.props,isReady=_this$props5.isReady,mix=_this$props5.mix;return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductConfigurableAttributes\",mods:{isLoading:!isReady},mix:mix},isReady?this.renderConfigurableAttributes():this.renderPlaceholders());}}]);return _ProductConfigurableAttributes;}(Extensible(PureComponent));_ProductConfigurableAttributes.defaultProps={isReady:true,mix:{},// eslint-disable-next-line no-magic-numbers\nnumberOfPlaceholders:[6,10,7],isContentExpanded:false,getIsConfigurableAttributeAvailable:function getIsConfigurableAttributeAvailable(){return true;}};Object.defineProperty(_ProductConfigurableAttributes,'name',{value:'ProductConfigurableAttributes'});export var ProductConfigurableAttributes=middleware(_ProductConfigurableAttributes,\"Component/ProductConfigurableAttributes/Component\");export default ProductConfigurableAttributes;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductConfigurableAttributes/ProductConfigurableAttributes.component.js"],"names":["PureComponent","ExpandableContent","ProductAttributeValue","ProductConfigurableAttributeDropdown","MixType","AttributeType","ProductConfigurableAttributes","attribute","props","getIsConfigurableAttributeAvailable","handleOptionClick","getLink","isSelected","attribute_value","option","attribute_values","map","renderConfigurableAttributeValue","updateConfigurableVariant","parameters","numberOfPlaceholders","isContentExpanded","length","i","block","elem","Array","from","_","configurable_options","getSubHeading","Object","values","attribute_label","attribute_code","attribute_options","swatch_data","isSwatch","renderSwatch","renderDropdown","isReady","mix","isLoading","renderConfigurableAttributes","renderPlaceholders","defaultProps","defineProperty","_ProductConfigurableAttributes","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ExpandableContent from 'Component/ExpandableContent';\nimport ProductAttributeValue from 'Component/ProductAttributeValue';\nimport ProductConfigurableAttributeDropdown from 'Component/ProductConfigurableAttributeDropdown';\nimport { MixType } from 'Type/Common';\nimport { AttributeType } from 'Type/ProductList';\n\nimport './ProductConfigurableAttributes.style';\n\n/** @namespace Component/ProductConfigurableAttributes/Component */\nexport class ProductConfigurableAttributes extends PureComponent {\n    static propTypes = {\n        isContentExpanded: PropTypes.bool,\n        numberOfPlaceholders: PropTypes.arrayOf(PropTypes.number),\n        configurable_options: PropTypes.objectOf(AttributeType).isRequired,\n        parameters: PropTypes.shape({}).isRequired,\n        updateConfigurableVariant: PropTypes.func.isRequired,\n        isReady: PropTypes.bool,\n        mix: MixType,\n        getIsConfigurableAttributeAvailable: PropTypes.func,\n        handleOptionClick: PropTypes.func.isRequired,\n        getSubHeading: PropTypes.func.isRequired,\n        isSelected: PropTypes.func.isRequired,\n        getLink: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        isReady: true,\n        mix: {},\n        // eslint-disable-next-line no-magic-numbers\n        numberOfPlaceholders: [6, 10, 7],\n        isContentExpanded: false,\n        getIsConfigurableAttributeAvailable: () => true\n    };\n\n    renderConfigurableAttributeValue(attribute) {\n        const {\n            getIsConfigurableAttributeAvailable,\n            handleOptionClick,\n            getLink,\n            isSelected\n        } = this.props;\n\n        const { attribute_value } = attribute;\n\n        return (\n            <ProductAttributeValue\n              key={ attribute_value }\n              attribute={ attribute }\n              isSelected={ isSelected(attribute) }\n              isAvailable={ getIsConfigurableAttributeAvailable(attribute) }\n              onClick={ handleOptionClick }\n              getLink={ getLink }\n            />\n        );\n    }\n\n    renderSwatch(option) {\n        const { attribute_values } = option;\n\n        return (\n            <div\n              block=\"ProductConfigurableAttributes\"\n              elem=\"SwatchList\"\n            >\n                { attribute_values.map((attribute_value) => (\n                    this.renderConfigurableAttributeValue({ ...option, attribute_value })\n                )) }\n            </div>\n        );\n    }\n\n    renderDropdown(option) {\n        const {\n            updateConfigurableVariant,\n            getIsConfigurableAttributeAvailable,\n            parameters\n        } = this.props;\n\n        return (\n            <ProductConfigurableAttributeDropdown\n              option={ option }\n              updateConfigurableVariant={ updateConfigurableVariant }\n              getIsConfigurableAttributeAvailable={ getIsConfigurableAttributeAvailable }\n              parameters={ parameters }\n            />\n        );\n    }\n\n    renderPlaceholders() {\n        const { numberOfPlaceholders, isContentExpanded } = this.props;\n\n        return numberOfPlaceholders.map((length, i) => (\n            <ExpandableContent\n              // eslint-disable-next-line react/no-array-index-key\n              key={ i }\n              mix={ {\n                  block: 'ProductConfigurableAttributes',\n                  elem: 'Expandable'\n              } }\n              isContentExpanded={ isContentExpanded }\n            >\n                <div\n                  // eslint-disable-next-line react/no-array-index-key\n                  key={ i }\n                  block=\"ProductConfigurableAttributes\"\n                  elem=\"SwatchList\"\n                >\n                    { Array.from({ length }, (_, i) => (\n                        <div\n                          // eslint-disable-next-line react/no-array-index-key\n                          key={ i }\n                          block=\"ProductConfigurableAttributes\"\n                          elem=\"Placeholder\"\n                        />\n                    )) }\n                </div>\n            </ExpandableContent>\n        ));\n    }\n\n    renderConfigurableAttributes() {\n        const {\n            configurable_options,\n            isContentExpanded,\n            getSubHeading\n        } = this.props;\n\n        return Object.values(configurable_options).map((option) => {\n            const {\n                attribute_label,\n                attribute_code,\n                attribute_options\n            } = option;\n\n            const [{ swatch_data }] = attribute_options ? Object.values(attribute_options) : [{}];\n            const isSwatch = !!swatch_data;\n\n            return (\n                <ExpandableContent\n                  key={ attribute_code }\n                  heading={ attribute_label }\n                  subHeading={ getSubHeading(option) }\n                  mix={ {\n                      block: 'ProductConfigurableAttributes',\n                      elem: 'Expandable'\n                  } }\n                  isContentExpanded={ isContentExpanded }\n                >\n                    { isSwatch ? this.renderSwatch(option) : this.renderDropdown(option) }\n                </ExpandableContent>\n            );\n        });\n    }\n\n    render() {\n        const { isReady, mix } = this.props;\n\n        return (\n            <div\n              block=\"ProductConfigurableAttributes\"\n              mods={ { isLoading: !isReady } }\n              mix={ mix }\n            >\n                { isReady ? this.renderConfigurableAttributes() : this.renderPlaceholders() }\n            </div>\n        );\n    }\n}\n\nexport default ProductConfigurableAttributes;\n"]},"metadata":{},"sourceType":"module"}