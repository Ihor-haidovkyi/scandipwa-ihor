{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import Field from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Field\";import Loader from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Loader\";import\"./CartCoupon.style\";/** @namespace Component/CartCoupon/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _CartCoupon=/*#__PURE__*/function(_Extensible){_inherits(_CartCoupon,_Extensible);var _super=_createSuper(_CartCoupon);function _CartCoupon(){var _this;_classCallCheck(this,_CartCoupon);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={enteredCouponCode:''};_this.handleCouponCodeChange=function(enteredCouponCode){_this.setState({enteredCouponCode:enteredCouponCode});};_this.handleApplyCoupon=function(){var handleApplyCouponToCart=_this.props.handleApplyCouponToCart;var enteredCouponCode=_this.state.enteredCouponCode;handleApplyCouponToCart(enteredCouponCode);};_this.handleRemoveCoupon=function(){var handleRemoveCouponFromCart=_this.props.handleRemoveCouponFromCart;handleRemoveCouponFromCart();// We need to reset input field. If we do it in applyCouponCode,\n// then it will disappear if code is incorrect. We want to avoid it\n_this.setState({enteredCouponCode:''});};_this.handleFormSubmit=function(e){var couponCode=_this.props.couponCode;e.preventDefault();if(couponCode){_this.handleRemoveCoupon();return;}_this.handleApplyCoupon();};return _this;}_createClass(_CartCoupon,[{key:\"renderApplyCoupon\",value:function renderApplyCoupon(){var enteredCouponCode=this.state.enteredCouponCode;return/*#__PURE__*/_checkBEM(React,React.Fragment,null,/*#__PURE__*/_checkBEM(React,Field,{type:\"text\",id:\"couponCode\",name:\"couponCode\",value:enteredCouponCode,placeholder:__('Coupon Code'),onChange:this.handleCouponCodeChange,mix:{block:'CartCoupon',elem:'Input'},\"aria-label\":__('Coupon Code')}),/*#__PURE__*/_checkBEM(React,\"button\",{block:\"CartCoupon\",elem:\"Button\",type:\"button\",mix:{block:'Button'},disabled:!enteredCouponCode,onClick:this.handleApplyCoupon},__('Apply Coupon')));}},{key:\"renderRemoveCoupon\",value:function renderRemoveCoupon(){var couponCode=this.props.couponCode;return/*#__PURE__*/_checkBEM(React,React.Fragment,null,/*#__PURE__*/_checkBEM(React,\"p\",{block:\"CartCoupon\",elem:\"Message\"},__('Applied coupon code: '),/*#__PURE__*/_checkBEM(React,\"strong\",null,couponCode.toUpperCase())),/*#__PURE__*/_checkBEM(React,\"button\",{block:\"CartCoupon\",elem:\"Button\",type:\"button\",mix:{block:'Button'},onClick:this.handleRemoveCoupon},__('Remove Coupon')));}},{key:\"renderTitle\",value:function renderTitle(){var title=this.props.title;if(!title){return null;}return/*#__PURE__*/_checkBEM(React,\"h3\",{block:\"CartCoupon\",elem:\"Title\"},title);}},{key:\"render\",value:function render(){var _this$props=this.props,isLoading=_this$props.isLoading,couponCode=_this$props.couponCode,mix=_this$props.mix;return/*#__PURE__*/_checkBEM(React,\"form\",{block:\"CartCoupon\",onSubmit:this.handleFormSubmit,mix:mix},/*#__PURE__*/_checkBEM(React,Loader,{isLoading:isLoading}),this.renderTitle(),couponCode?this.renderRemoveCoupon():this.renderApplyCoupon());}}]);return _CartCoupon;}(Extensible(PureComponent));_CartCoupon.defaultProps={couponCode:'',mix:{},title:''};Object.defineProperty(_CartCoupon,'name',{value:'CartCoupon'});export var CartCoupon=middleware(_CartCoupon,\"Component/CartCoupon/Component\");export default CartCoupon;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/CartCoupon/CartCoupon.component.js"],"names":["PureComponent","Field","Loader","CartCoupon","state","enteredCouponCode","handleCouponCodeChange","setState","handleApplyCoupon","handleApplyCouponToCart","props","handleRemoveCoupon","handleRemoveCouponFromCart","handleFormSubmit","e","couponCode","preventDefault","__","block","elem","toUpperCase","title","isLoading","mix","renderTitle","renderRemoveCoupon","renderApplyCoupon","defaultProps","Object","defineProperty","_CartCoupon","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Field from 'Component/Field';\nimport Loader from 'Component/Loader';\n\nimport './CartCoupon.style';\n\n/** @namespace Component/CartCoupon/Component */\nexport class CartCoupon extends PureComponent {\n    static propTypes = {\n        isLoading: PropTypes.bool.isRequired,\n        couponCode: PropTypes.string,\n        handleApplyCouponToCart: PropTypes.func.isRequired,\n        handleRemoveCouponFromCart: PropTypes.func.isRequired,\n        mix: PropTypes.object,\n        title: PropTypes.string\n    };\n\n    static defaultProps = {\n        couponCode: '',\n        mix: {},\n        title: ''\n    };\n\n    state = {\n        enteredCouponCode: ''\n    };\n\n    handleCouponCodeChange = (enteredCouponCode) => {\n        this.setState({\n            enteredCouponCode\n        });\n    };\n\n    handleApplyCoupon = () => {\n        const { handleApplyCouponToCart } = this.props;\n        const { enteredCouponCode } = this.state;\n\n        handleApplyCouponToCart(enteredCouponCode);\n    };\n\n    handleRemoveCoupon = () => {\n        const { handleRemoveCouponFromCart } = this.props;\n\n        handleRemoveCouponFromCart();\n\n        // We need to reset input field. If we do it in applyCouponCode,\n        // then it will disappear if code is incorrect. We want to avoid it\n        this.setState({\n            enteredCouponCode: ''\n        });\n    };\n\n    handleFormSubmit = (e) => {\n        const { couponCode } = this.props;\n        e.preventDefault();\n\n        if (couponCode) {\n            this.handleRemoveCoupon();\n            return;\n        }\n\n        this.handleApplyCoupon();\n    };\n\n    renderApplyCoupon() {\n        const { enteredCouponCode } = this.state;\n\n        return (\n            <>\n                <Field\n                  type=\"text\"\n                  id=\"couponCode\"\n                  name=\"couponCode\"\n                  value={ enteredCouponCode }\n                  placeholder={ __('Coupon Code') }\n                  onChange={ this.handleCouponCodeChange }\n                  mix={ { block: 'CartCoupon', elem: 'Input' } }\n                  aria-label={ __('Coupon Code') }\n                />\n                <button\n                  block=\"CartCoupon\"\n                  elem=\"Button\"\n                  type=\"button\"\n                  mix={ { block: 'Button' } }\n                  disabled={ !enteredCouponCode }\n                  onClick={ this.handleApplyCoupon }\n                >\n                    { __('Apply Coupon') }\n                </button>\n            </>\n        );\n    }\n\n    renderRemoveCoupon() {\n        const { couponCode } = this.props;\n\n        return (\n            <>\n                <p block=\"CartCoupon\" elem=\"Message\">\n                    { __('Applied coupon code: ') }\n                    <strong>{ couponCode.toUpperCase() }</strong>\n                </p>\n                <button\n                  block=\"CartCoupon\"\n                  elem=\"Button\"\n                  type=\"button\"\n                  mix={ { block: 'Button' } }\n                  onClick={ this.handleRemoveCoupon }\n                >\n                    { __('Remove Coupon') }\n                </button>\n            </>\n        );\n    }\n\n    renderTitle() {\n        const { title } = this.props;\n\n        if (!title) {\n            return null;\n        }\n\n        return (\n            <h3 block=\"CartCoupon\" elem=\"Title\">\n                { title }\n            </h3>\n        );\n    }\n\n    render() {\n        const { isLoading, couponCode, mix } = this.props;\n\n        return (\n            <form block=\"CartCoupon\" onSubmit={ this.handleFormSubmit } mix={ mix }>\n                <Loader isLoading={ isLoading } />\n                { this.renderTitle() }\n                { (couponCode\n                    ? this.renderRemoveCoupon()\n                    : this.renderApplyCoupon()\n                ) }\n            </form>\n        );\n    }\n}\n\nexport default CartCoupon;\n"]},"metadata":{},"sourceType":"module"}