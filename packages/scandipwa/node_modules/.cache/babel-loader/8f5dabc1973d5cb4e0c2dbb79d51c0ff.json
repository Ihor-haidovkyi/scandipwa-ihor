{"ast":null,"code":"import _defineProperty from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{createRef,PureComponent}from'react';import AddToCart from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/AddToCart\";import Image from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Image\";import Link from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Link\";import Loader from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Loader\";import ProductAttributeValue from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductAttributeValue\";import ProductCompareButton from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductCompareButton\";import ProductPrice from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductPrice\";import ProductReviewRating from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductReviewRating\";import ProductWishlistButton from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductWishlistButton\";import TextPlaceholder from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/TextPlaceholder\";import TierPrices from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/TierPrices\";import{GRID_LAYOUT,LIST_LAYOUT}from\"/home/marketihor/scandipwa/packages/scandipwa/src/route/CategoryPage/CategoryPage.config\";import{DeviceType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Device\";import{ProductType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/ProductList\";import{BUNDLE,CONFIGURABLE,GROUPED}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Product\";import{OPTION_TYPE_COLOR,OPTION_TYPE_IMAGE,validOptionTypes}from\"./ProductCard.config\";import\"./ProductCard.style\";/**\n * Product card\n * @class ProductCard\n * @namespace Component/ProductCard/Component\n */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _ProductCard=/*#__PURE__*/function(_Extensible){_inherits(_ProductCard,_Extensible);var _super=_createSuper(_ProductCard);function _ProductCard(){var _this$productTypeRend;var _this;_classCallCheck(this,_ProductCard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.contentObject={renderCardLinkWrapper:_this.renderCardLinkWrapper.bind(_assertThisInitialized(_this)),pictureBlock:{picture:_this.renderPicture.bind(_assertThisInitialized(_this))},content:{review:_this.renderReviews.bind(_assertThisInitialized(_this)),productPrice:_this.renderProductPrice.bind(_assertThisInitialized(_this)),confOptions:_this.renderVisualConfigurableOptions.bind(_assertThisInitialized(_this)),tierPrice:_this.renderTierPrice.bind(_assertThisInitialized(_this)),mainDetails:_this.renderMainDetails.bind(_assertThisInitialized(_this)),additionalProductDetails:_this.renderAdditionalProductDetails.bind(_assertThisInitialized(_this))}};_this.productTypeRenderMap=(_this$productTypeRend={},_defineProperty(_this$productTypeRend,GROUPED,__('Starting from')),_defineProperty(_this$productTypeRend,CONFIGURABLE,__('As Low as')),_this$productTypeRend);_this.imageRef=/*#__PURE__*/createRef();_this.registerSharedElement=function(){var registerSharedElement=_this.props.registerSharedElement;registerSharedElement(_this.imageRef);};_this.renderVisualOption=function(_ref,i){var label=_ref.label,value=_ref.value,type=_ref.type;if(type===OPTION_TYPE_IMAGE){return _this.renderImageVisualOption(label,value,i);}var isColor=type===OPTION_TYPE_COLOR;return/*#__PURE__*/_checkBEM(React,\"span\",{block:\"ProductCard\",elem:isColor?'Color':'String',key:i,style:isColor?{backgroundColor:value}:{},\"aria-label\":isColor?label:'',title:isColor?'':label},isColor?'':value);};return _this;}_createClass(_ProductCard,[{key:\"renderProductTypePriceBadge\",value:function renderProductTypePriceBadge(){var _this$props=this.props,type_id=_this$props.product.type_id,siblingsHavePriceBadge=_this$props.siblingsHavePriceBadge,setSiblingsHavePriceBadge=_this$props.setSiblingsHavePriceBadge;var label=this.productTypeRenderMap[type_id];if(!label){return null;}if(!siblingsHavePriceBadge){setSiblingsHavePriceBadge();}return/*#__PURE__*/_checkBEM(React,\"p\",{mix:{block:'ProductCard',elem:'PriceBadge'}},label);}},{key:\"renderEmptyProductPrice\",value:function renderEmptyProductPrice(){return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"PriceWrapper\",mods:{isEmpty:true}});}},{key:\"renderProductPrice\",value:function renderProductPrice(){var _this$props2=this.props,_this$props2$product=_this$props2.product,price_range=_this$props2$product.price_range,type_id=_this$props2$product.type_id,isConfigurableProductOutOfStock=_this$props2.isConfigurableProductOutOfStock,isBundleProductOutOfStock=_this$props2.isBundleProductOutOfStock;if(!price_range){return/*#__PURE__*/_checkBEM(React,TextPlaceholder,null);}switch(type_id){case CONFIGURABLE:if(isConfigurableProductOutOfStock()){return this.renderEmptyProductPrice();}break;case BUNDLE:if(isBundleProductOutOfStock()){return this.renderEmptyProductPrice();}break;default:break;}return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"PriceWrapper\"},this.renderTierPrice(),this.renderProductTypePriceBadge(),/*#__PURE__*/_checkBEM(React,ProductPrice,{price:price_range,mix:{block:'ProductCard',elem:'Price'}}));}},{key:\"renderTierPrice\",value:function renderTierPrice(){var _this$props3=this.props,productOrVariant=_this$props3.productOrVariant,siblingsHaveTierPrice=_this$props3.siblingsHaveTierPrice,setSiblingsHaveTierPrice=_this$props3.setSiblingsHaveTierPrice;var price_tiers=productOrVariant.price_tiers;if(!price_tiers||!price_tiers.length){return null;}if(!siblingsHaveTierPrice){setSiblingsHaveTierPrice();}return/*#__PURE__*/_checkBEM(React,TierPrices,{product:productOrVariant,isLowestPrice:true});}},{key:\"renderImageVisualOption\",value:function renderImageVisualOption(label,value,i){return/*#__PURE__*/_checkBEM(React,\"img\",{key:i,block:\"ProductCard\",elem:\"Image\",src:\"/media/attribute/swatch/swatch_thumb/110x90\".concat(value),alt:label});}},{key:\"renderVisualConfigurableOptions\",value:function renderVisualConfigurableOptions(){var _this$props4=this.props,siblingsHaveConfigurableOptions=_this$props4.siblingsHaveConfigurableOptions,setSiblingsHaveConfigurableOptions=_this$props4.setSiblingsHaveConfigurableOptions,availableVisualOptions=_this$props4.availableVisualOptions,device=_this$props4.device,isPreview=_this$props4.isPreview;if(isPreview){return/*#__PURE__*/_checkBEM(React,TextPlaceholder,null);}if(device.isMobile||!availableVisualOptions.length){return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"ConfigurableOptions\"});}if(!validOptionTypes.includes(availableVisualOptions[0].type)){return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"ConfigurableOptions\"});}if(!siblingsHaveConfigurableOptions){setSiblingsHaveConfigurableOptions();}return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"ConfigurableOptions\"},availableVisualOptions.map(this.renderVisualOption));}},{key:\"renderPicture\",value:function renderPicture(){var mix=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _this$props5=this.props,_this$props5$product=_this$props5.product,id=_this$props5$product.id,name=_this$props5$product.name,thumbnail=_this$props5.thumbnail;this.sharedComponent=/*#__PURE__*/_checkBEM(React,Image,{imageRef:this.imageRef,src:thumbnail,alt:name,ratio:\"custom\",mix:{block:'ProductCard',elem:'Picture',mix:mix},isPlaceholder:!id});return/*#__PURE__*/_checkBEM(React,React.Fragment,null,this.sharedComponent,/*#__PURE__*/_checkBEM(React,\"img\",{style:{display:'none'},alt:name,src:thumbnail}));}},{key:\"renderReviews\",value:function renderReviews(){var _this$props6=this.props,_this$props6$product$=_this$props6.product.review_summary;_this$props6$product$=_this$props6$product$===void 0?{}:_this$props6$product$;var rating_summary=_this$props6$product$.rating_summary,layout=_this$props6.layout;if(!rating_summary){return null;}return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"Reviews\",mods:{layout:layout}},/*#__PURE__*/_checkBEM(React,ProductReviewRating,{summary:rating_summary||0}));}},{key:\"renderProductCompareButton\",value:function renderProductCompareButton(){var _this$props7=this.props,id=_this$props7.product.id,hideCompareButton=_this$props7.hideCompareButton;if(hideCompareButton){return null;}return/*#__PURE__*/_checkBEM(React,ProductCompareButton,{productId:id,mix:{block:'ProductCompareButton',mods:{isGrey:true}}});}},{key:\"renderProductCardWishlistButton\",value:function renderProductCardWishlistButton(){var _this$props8=this.props,product=_this$props8.product,hideWishlistButton=_this$props8.hideWishlistButton,isWishlistEnabled=_this$props8.isWishlistEnabled;if(hideWishlistButton||!isWishlistEnabled){return null;}return/*#__PURE__*/_checkBEM(React,ProductWishlistButton,{product:product,mix:{block:'ProductCard',elem:'WishListButton'}});}},{key:\"renderProductActions\",value:function renderProductActions(){return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"ProductActions\"},this.renderProductCardWishlistButton(),this.renderProductCompareButton());}},{key:\"renderBrandValue\",value:function renderBrandValue(){var _this$props9=this.props,getAttribute=_this$props9.getAttribute,siblingsHaveBrands=_this$props9.siblingsHaveBrands,setSiblingsHaveBrands=_this$props9.setSiblingsHaveBrands;var _window$contentConfig=window.contentConfiguration.product_list_content;_window$contentConfig=_window$contentConfig===void 0?{}:_window$contentConfig;var attribute_to_display=_window$contentConfig.attribute_to_display;var brand=getAttribute(attribute_to_display||'brand');if(!brand){return null;}if(!siblingsHaveBrands){setSiblingsHaveBrands();}return/*#__PURE__*/_checkBEM(React,ProductAttributeValue,{attribute:brand,isFormattedAsText:true,mix:{block:'ProductCard',elem:'BrandAttributeValue'}});}},{key:\"renderAdditionalProductDetails\",value:function renderAdditionalProductDetails(){return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"Brand\"},this.renderBrandValue());}},{key:\"renderMainDetails\",value:function renderMainDetails(){var layout=this.props.layout;if(layout===GRID_LAYOUT){return this.renderProductName();}return this.renderCardLinkWrapper(this.renderProductName());}},{key:\"renderProductName\",value:function renderProductName(){var name=this.props.product.name;return/*#__PURE__*/_checkBEM(React,\"p\",{block:\"ProductCard\",elem:\"Name\",mods:{isLoaded:!!name}},/*#__PURE__*/_checkBEM(React,TextPlaceholder,{content:name,length:\"medium\"}));}},{key:\"renderCardLinkWrapper\",value:function renderCardLinkWrapper(children){var mix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _this$props10=this.props,linkTo=_this$props10.linkTo,url=_this$props10.product.url;if(!url){return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"Link\"},children);}return/*#__PURE__*/_checkBEM(React,Link,{block:\"ProductCard\",elem:\"Link\",to:linkTo,onClick:this.registerSharedElement,mix:mix},children);}},{key:\"renderAddToCart\",value:function renderAddToCart(){var _this$props11=this.props,product=_this$props11.product,type_id=_this$props11.product.type_id;var configurableVariantIndex=-1;var quantity=1;var groupedProductQuantity={};var productOptionsData={};if(type_id!=='simple'){return this.renderCardLinkWrapper(/*#__PURE__*/_checkBEM(React,\"button\",{block:\"Button\"},__('Add To Cart')));}return/*#__PURE__*/_checkBEM(React,AddToCart,{product:product,configurableVariantIndex:configurableVariantIndex,mix:{block:'ProductActions',elem:'AddToCart'},quantity:quantity,groupedProductQuantity:groupedProductQuantity,productOptionsData:productOptionsData});}},{key:\"renderCardContent\",value:function renderCardContent(){var renderContent=this.props.renderContent;if(renderContent){return renderContent(this.contentObject);}return this.renderCardLinkWrapper(/*#__PURE__*/_checkBEM(React,React.Fragment,null,/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"FigureReview\"},/*#__PURE__*/_checkBEM(React,\"figure\",{block:\"ProductCard\",elem:\"Figure\"},this.renderPicture()),this.renderReviews()),/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"Content\"},this.renderAdditionalProductDetails(),this.renderMainDetails(),this.renderProductPrice(),this.renderVisualConfigurableOptions())));}},{key:\"renderCardListContent\",value:function renderCardListContent(){var _this$props12=this.props,children=_this$props12.children,layout=_this$props12.layout,renderContent=_this$props12.renderContent;if(renderContent){return renderContent(this.contentObject);}return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"Link\"},this.renderCardLinkWrapper(/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"FigureReview\"},/*#__PURE__*/_checkBEM(React,\"figure\",{block:\"ProductCard\",elem:\"Figure\"},this.renderPicture()))),/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"Content\",mods:{layout:layout}},/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"MainInfo\"},this.renderAdditionalProductDetails(),this.renderMainDetails(),this.renderReviews()),/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"AttributeWrapper\"},this.renderProductPrice(),this.renderVisualConfigurableOptions()),/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"ActionWrapper\"},this.renderAddToCart(),this.renderProductActions()),/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"AdditionalContent\"},children)));}},{key:\"render\",value:function render(){var _this$props13=this.props,children=_this$props13.children,mix=_this$props13.mix,isLoading=_this$props13.isLoading,siblingsHaveBrands=_this$props13.siblingsHaveBrands,siblingsHavePriceBadge=_this$props13.siblingsHavePriceBadge,siblingsHaveTierPrice=_this$props13.siblingsHaveTierPrice,siblingsHaveConfigurableOptions=_this$props13.siblingsHaveConfigurableOptions,layout=_this$props13.layout;var mods={siblingsHaveBrands:siblingsHaveBrands,siblingsHavePriceBadge:siblingsHavePriceBadge,siblingsHaveTierPrice:siblingsHaveTierPrice,siblingsHaveConfigurableOptions:siblingsHaveConfigurableOptions};if(layout===LIST_LAYOUT){return/*#__PURE__*/_checkBEM(React,\"li\",{block:\"ProductCard\",mods:mods,mix:mix},/*#__PURE__*/_checkBEM(React,Loader,{isLoading:isLoading}),this.renderCardListContent());}return/*#__PURE__*/_checkBEM(React,\"li\",{block:\"ProductCard\",mods:mods,mix:mix},/*#__PURE__*/_checkBEM(React,Loader,{isLoading:isLoading}),this.renderCardContent(),this.renderProductActions(),/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductCard\",elem:\"AdditionalContent\"},children));}}]);return _ProductCard;}(Extensible(PureComponent));_ProductCard.defaultProps={thumbnail:'',linkTo:{},children:null,isLoading:false,mix:{},renderContent:false,hideWishlistButton:false,hideCompareButton:false,siblingsHaveBrands:false,setSiblingsHaveBrands:function setSiblingsHaveBrands(){return null;},siblingsHavePriceBadge:false,setSiblingsHavePriceBadge:function setSiblingsHavePriceBadge(){return null;},siblingsHaveTierPrice:false,setSiblingsHaveTierPrice:function setSiblingsHaveTierPrice(){return null;},siblingsHaveConfigurableOptions:false,setSiblingsHaveConfigurableOptions:function setSiblingsHaveConfigurableOptions(){return null;},layout:GRID_LAYOUT};Object.defineProperty(_ProductCard,'name',{value:'ProductCard'});export var ProductCard=middleware(_ProductCard,\"Component/ProductCard/Component\");export default ProductCard;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductCard/ProductCard.component.js"],"names":["createRef","PureComponent","AddToCart","Image","Link","Loader","ProductAttributeValue","ProductCompareButton","ProductPrice","ProductReviewRating","ProductWishlistButton","TextPlaceholder","TierPrices","GRID_LAYOUT","LIST_LAYOUT","DeviceType","ProductType","BUNDLE","CONFIGURABLE","GROUPED","OPTION_TYPE_COLOR","OPTION_TYPE_IMAGE","validOptionTypes","ProductCard","contentObject","renderCardLinkWrapper","bind","pictureBlock","picture","renderPicture","content","review","renderReviews","productPrice","renderProductPrice","confOptions","renderVisualConfigurableOptions","tierPrice","renderTierPrice","mainDetails","renderMainDetails","additionalProductDetails","renderAdditionalProductDetails","productTypeRenderMap","__","imageRef","registerSharedElement","props","renderVisualOption","i","label","value","type","renderImageVisualOption","isColor","backgroundColor","type_id","product","siblingsHavePriceBadge","setSiblingsHavePriceBadge","block","elem","isEmpty","price_range","isConfigurableProductOutOfStock","isBundleProductOutOfStock","renderEmptyProductPrice","renderProductTypePriceBadge","productOrVariant","siblingsHaveTierPrice","setSiblingsHaveTierPrice","price_tiers","length","siblingsHaveConfigurableOptions","setSiblingsHaveConfigurableOptions","availableVisualOptions","device","isPreview","isMobile","includes","map","mix","id","name","thumbnail","sharedComponent","display","review_summary","rating_summary","layout","hideCompareButton","mods","isGrey","hideWishlistButton","isWishlistEnabled","renderProductCardWishlistButton","renderProductCompareButton","getAttribute","siblingsHaveBrands","setSiblingsHaveBrands","window","contentConfiguration","product_list_content","attribute_to_display","brand","renderBrandValue","renderProductName","isLoaded","children","linkTo","url","configurableVariantIndex","quantity","groupedProductQuantity","productOptionsData","renderContent","renderAddToCart","renderProductActions","isLoading","renderCardListContent","renderCardContent","defaultProps","Object","defineProperty","_ProductCard"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\n\nimport AddToCart from 'Component/AddToCart';\nimport Image from 'Component/Image';\nimport Link from 'Component/Link';\nimport Loader from 'Component/Loader';\nimport ProductAttributeValue from 'Component/ProductAttributeValue';\nimport ProductCompareButton from 'Component/ProductCompareButton';\nimport ProductPrice from 'Component/ProductPrice';\nimport ProductReviewRating from 'Component/ProductReviewRating';\nimport ProductWishlistButton from 'Component/ProductWishlistButton';\nimport TextPlaceholder from 'Component/TextPlaceholder';\nimport TierPrices from 'Component/TierPrices';\nimport { GRID_LAYOUT, LIST_LAYOUT } from 'Route/CategoryPage/CategoryPage.config';\nimport { DeviceType } from 'Type/Device';\nimport { ProductType } from 'Type/ProductList';\nimport { BUNDLE, CONFIGURABLE, GROUPED } from 'Util/Product';\n\nimport {\n    OPTION_TYPE_COLOR,\n    OPTION_TYPE_IMAGE,\n    validOptionTypes\n} from './ProductCard.config';\n\nimport './ProductCard.style';\n/**\n * Product card\n * @class ProductCard\n * @namespace Component/ProductCard/Component\n */\nexport class ProductCard extends PureComponent {\n    static propTypes = {\n        linkTo: PropTypes.shape({}),\n        product: ProductType.isRequired,\n        device: DeviceType.isRequired,\n        productOrVariant: ProductType.isRequired,\n        thumbnail: PropTypes.string,\n        availableVisualOptions: PropTypes.arrayOf(PropTypes.shape({\n            label: PropTypes.string,\n            value: PropTypes.string,\n            type: PropTypes.string\n        })).isRequired,\n        getAttribute: PropTypes.func.isRequired,\n        registerSharedElement: PropTypes.func.isRequired,\n        children: PropTypes.element,\n        isLoading: PropTypes.bool,\n        mix: PropTypes.shape({}),\n        renderContent: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n        isConfigurableProductOutOfStock: PropTypes.func.isRequired,\n        isBundleProductOutOfStock: PropTypes.func.isRequired,\n        hideWishlistButton: PropTypes.bool,\n        isWishlistEnabled: PropTypes.bool.isRequired,\n        hideCompareButton: PropTypes.bool,\n        siblingsHaveBrands: PropTypes.bool,\n        setSiblingsHaveBrands: PropTypes.func,\n        siblingsHavePriceBadge: PropTypes.bool,\n        setSiblingsHavePriceBadge: PropTypes.func,\n        siblingsHaveTierPrice: PropTypes.bool,\n        setSiblingsHaveTierPrice: PropTypes.func,\n        siblingsHaveConfigurableOptions: PropTypes.bool,\n        setSiblingsHaveConfigurableOptions: PropTypes.func,\n        layout: PropTypes.string,\n        isPreview: PropTypes.bool.isRequired\n    };\n\n    static defaultProps = {\n        thumbnail: '',\n        linkTo: {},\n        children: null,\n        isLoading: false,\n        mix: {},\n        renderContent: false,\n        hideWishlistButton: false,\n        hideCompareButton: false,\n        siblingsHaveBrands: false,\n        setSiblingsHaveBrands: () => null,\n        siblingsHavePriceBadge: false,\n        setSiblingsHavePriceBadge: () => null,\n        siblingsHaveTierPrice: false,\n        setSiblingsHaveTierPrice: () => null,\n        siblingsHaveConfigurableOptions: false,\n        setSiblingsHaveConfigurableOptions: () => null,\n        layout: GRID_LAYOUT\n    };\n\n    contentObject = {\n        renderCardLinkWrapper: this.renderCardLinkWrapper.bind(this),\n        pictureBlock: {\n            picture: this.renderPicture.bind(this)\n        },\n        content: {\n            review: this.renderReviews.bind(this),\n            productPrice: this.renderProductPrice.bind(this),\n            confOptions: this.renderVisualConfigurableOptions.bind(this),\n            tierPrice: this.renderTierPrice.bind(this),\n            mainDetails: this.renderMainDetails.bind(this),\n            additionalProductDetails: this.renderAdditionalProductDetails.bind(this)\n        }\n    };\n\n    productTypeRenderMap = {\n        [GROUPED]: __('Starting from'),\n        [CONFIGURABLE]: __('As Low as')\n    };\n\n    imageRef = createRef();\n\n    registerSharedElement = () => {\n        const { registerSharedElement } = this.props;\n        registerSharedElement(this.imageRef);\n    };\n\n    renderProductTypePriceBadge() {\n        const {\n            product: { type_id },\n            siblingsHavePriceBadge,\n            setSiblingsHavePriceBadge\n        } = this.props;\n\n        const label = this.productTypeRenderMap[type_id];\n        if (!label) {\n            return null;\n        }\n\n        if (!siblingsHavePriceBadge) {\n            setSiblingsHavePriceBadge();\n        }\n\n        return (\n            <p\n              mix={ {\n                  block: 'ProductCard',\n                  elem: 'PriceBadge'\n              } }\n            >\n                { label }\n            </p>\n        );\n    }\n\n    renderEmptyProductPrice() {\n        return (\n            <div\n              block=\"ProductCard\"\n              elem=\"PriceWrapper\"\n              mods={ { isEmpty: true } }\n            />\n        );\n    }\n\n    renderProductPrice() {\n        const {\n            product: { price_range, type_id },\n            isConfigurableProductOutOfStock,\n            isBundleProductOutOfStock\n        } = this.props;\n\n        if (!price_range) {\n            return <TextPlaceholder />;\n        }\n\n        switch (type_id) {\n        case CONFIGURABLE:\n            if (isConfigurableProductOutOfStock()) {\n                return this.renderEmptyProductPrice();\n            }\n            break;\n        case BUNDLE:\n            if (isBundleProductOutOfStock()) {\n                return this.renderEmptyProductPrice();\n            }\n            break;\n        default:\n            break;\n        }\n\n        return (\n            <div block=\"ProductCard\" elem=\"PriceWrapper\">\n                { this.renderTierPrice() }\n                { this.renderProductTypePriceBadge() }\n                <ProductPrice\n                  price={ price_range }\n                  mix={ { block: 'ProductCard', elem: 'Price' } }\n                />\n            </div>\n        );\n    }\n\n    renderTierPrice() {\n        const {\n            productOrVariant,\n            siblingsHaveTierPrice,\n            setSiblingsHaveTierPrice\n        } = this.props;\n        const { price_tiers } = productOrVariant;\n\n        if (!price_tiers || !price_tiers.length) {\n            return null;\n        }\n\n        if (!siblingsHaveTierPrice) {\n            setSiblingsHaveTierPrice();\n        }\n\n        return (\n            <TierPrices\n              product={ productOrVariant }\n              isLowestPrice\n            />\n        );\n    }\n\n    renderImageVisualOption(label, value, i) {\n        return (\n          <img\n            key={ i }\n            block=\"ProductCard\"\n            elem=\"Image\"\n            src={ `/media/attribute/swatch/swatch_thumb/110x90${value}` }\n            alt={ label }\n          />\n        );\n    }\n\n    renderVisualOption = ({ label, value, type }, i) => {\n        if (type === OPTION_TYPE_IMAGE) {\n            return this.renderImageVisualOption(label, value, i);\n        }\n\n        const isColor = type === OPTION_TYPE_COLOR;\n\n        return (\n            <span\n              block=\"ProductCard\"\n              elem={ isColor ? 'Color' : 'String' }\n              key={ i }\n              style={ isColor ? { backgroundColor: value } : {} }\n              aria-label={ isColor ? label : '' }\n              title={ isColor ? '' : label }\n            >\n                { isColor ? '' : value }\n            </span>\n        );\n    };\n\n    renderVisualConfigurableOptions() {\n        const {\n            siblingsHaveConfigurableOptions,\n            setSiblingsHaveConfigurableOptions,\n            availableVisualOptions,\n            device,\n            isPreview\n        } = this.props;\n\n        if (isPreview) {\n            return <TextPlaceholder />;\n        }\n\n        if (device.isMobile || !availableVisualOptions.length) {\n            return <div block=\"ProductCard\" elem=\"ConfigurableOptions\" />;\n        }\n\n        if (!validOptionTypes.includes(availableVisualOptions[0].type)) {\n            return <div block=\"ProductCard\" elem=\"ConfigurableOptions\" />;\n        }\n\n        if (!siblingsHaveConfigurableOptions) {\n            setSiblingsHaveConfigurableOptions();\n        }\n\n        return (\n            <div block=\"ProductCard\" elem=\"ConfigurableOptions\">\n                { availableVisualOptions.map(this.renderVisualOption) }\n            </div>\n        );\n    }\n\n    renderPicture(mix = {}) {\n        const { product: { id, name }, thumbnail } = this.props;\n\n        this.sharedComponent = (\n            <Image\n              imageRef={ this.imageRef }\n              src={ thumbnail }\n              alt={ name }\n              ratio=\"custom\"\n              mix={ { block: 'ProductCard', elem: 'Picture', mix } }\n              isPlaceholder={ !id }\n            />\n        );\n\n        return (\n            <>\n                { this.sharedComponent }\n                <img\n                  style={ { display: 'none' } }\n                  alt={ name }\n                  src={ thumbnail }\n                />\n            </>\n        );\n    }\n\n    renderReviews() {\n        const {\n            product: {\n                review_summary: {\n                    rating_summary\n                } = {}\n            },\n            layout\n        } = this.props;\n\n        if (!rating_summary) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductCard\"\n              elem=\"Reviews\"\n              mods={ { layout } }\n            >\n                <ProductReviewRating summary={ rating_summary || 0 } />\n            </div>\n        );\n    }\n\n    renderProductCompareButton() {\n        const {\n            product: { id },\n            hideCompareButton\n        } = this.props;\n\n        if (hideCompareButton) {\n            return null;\n        }\n\n        return (\n            <ProductCompareButton\n              productId={ id }\n              mix={ {\n                  block: 'ProductCompareButton',\n                  mods: { isGrey: true }\n              } }\n            />\n        );\n    }\n\n    renderProductCardWishlistButton() {\n        const { product, hideWishlistButton, isWishlistEnabled } = this.props;\n\n        if (hideWishlistButton || !isWishlistEnabled) {\n            return null;\n        }\n\n        return (\n            <ProductWishlistButton\n              product={ product }\n              mix={ { block: 'ProductCard', elem: 'WishListButton' } }\n            />\n        );\n    }\n\n    renderProductActions() {\n        return (\n            <div block=\"ProductCard\" elem=\"ProductActions\">\n                { this.renderProductCardWishlistButton() }\n                { this.renderProductCompareButton() }\n            </div>\n        );\n    }\n\n    renderBrandValue() {\n        const {\n            getAttribute,\n            siblingsHaveBrands,\n            setSiblingsHaveBrands\n        } = this.props;\n        const {\n            product_list_content: {\n                attribute_to_display\n            } = {}\n        } = window.contentConfiguration;\n        const brand = getAttribute(attribute_to_display || 'brand');\n\n        if (!brand) {\n            return null;\n        }\n\n        if (!siblingsHaveBrands) {\n            setSiblingsHaveBrands();\n        }\n\n        return (\n            <ProductAttributeValue\n              attribute={ brand }\n              isFormattedAsText\n              mix={ {\n                  block: 'ProductCard',\n                  elem: 'BrandAttributeValue'\n              } }\n            />\n        );\n    }\n\n    renderAdditionalProductDetails() {\n        return (\n            <div block=\"ProductCard\" elem=\"Brand\">\n                { this.renderBrandValue() }\n            </div>\n        );\n    }\n\n    renderMainDetails() {\n        const { layout } = this.props;\n\n        if (layout === GRID_LAYOUT) {\n            return this.renderProductName();\n        }\n\n        return this.renderCardLinkWrapper(\n            this.renderProductName()\n        );\n    }\n\n    renderProductName() {\n        const { product: { name } } = this.props;\n\n        return (\n            <p\n              block=\"ProductCard\"\n              elem=\"Name\"\n              mods={ { isLoaded: !!name } }\n            >\n                <TextPlaceholder content={ name } length=\"medium\" />\n            </p>\n        );\n    }\n\n    renderCardLinkWrapper(children, mix = {}) {\n        const { linkTo, product: { url } } = this.props;\n\n        if (!url) {\n            return (\n                <div\n                  block=\"ProductCard\"\n                  elem=\"Link\"\n                >\n                    { children }\n                </div>\n            );\n        }\n\n        return (\n            <Link\n              block=\"ProductCard\"\n              elem=\"Link\"\n              to={ linkTo }\n              onClick={ this.registerSharedElement }\n              mix={ mix }\n            >\n              { children }\n            </Link>\n        );\n    }\n\n    renderAddToCart() {\n        const {\n            product,\n            product: {\n                type_id\n            }\n        } = this.props;\n        const configurableVariantIndex = -1;\n        const quantity = 1;\n        const groupedProductQuantity = {};\n        const productOptionsData = {};\n\n        if (type_id !== 'simple') {\n            return this.renderCardLinkWrapper(\n                <button block=\"Button\">{ __('Add To Cart') }</button>\n            );\n        }\n\n        return (\n            <AddToCart\n              product={ product }\n              configurableVariantIndex={ configurableVariantIndex }\n              mix={ { block: 'ProductActions', elem: 'AddToCart' } }\n              quantity={ quantity }\n              groupedProductQuantity={ groupedProductQuantity }\n              productOptionsData={ productOptionsData }\n            />\n        );\n    }\n\n    renderCardContent() {\n        const { renderContent } = this.props;\n\n        if (renderContent) {\n            return renderContent(this.contentObject);\n        }\n\n        return (\n            this.renderCardLinkWrapper((\n                <>\n                    <div block=\"ProductCard\" elem=\"FigureReview\">\n                        <figure block=\"ProductCard\" elem=\"Figure\">\n                            { this.renderPicture() }\n                        </figure>\n                        { this.renderReviews() }\n                    </div>\n                    <div block=\"ProductCard\" elem=\"Content\">\n                        { this.renderAdditionalProductDetails() }\n                        { this.renderMainDetails() }\n                        { this.renderProductPrice() }\n                        { this.renderVisualConfigurableOptions() }\n                    </div>\n                </>\n            ))\n        );\n    }\n\n    renderCardListContent() {\n        const { children, layout, renderContent } = this.props;\n\n        if (renderContent) {\n            return renderContent(this.contentObject);\n        }\n\n        return (\n            <div block=\"ProductCard\" elem=\"Link\">\n                { this.renderCardLinkWrapper(\n                    <div block=\"ProductCard\" elem=\"FigureReview\">\n                        <figure block=\"ProductCard\" elem=\"Figure\">\n                            { this.renderPicture() }\n                        </figure>\n                    </div>\n                ) }\n                <div block=\"ProductCard\" elem=\"Content\" mods={ { layout } }>\n                    <div block=\"ProductCard\" elem=\"MainInfo\">\n                        { this.renderAdditionalProductDetails() }\n                        { this.renderMainDetails() }\n                        { this.renderReviews() }\n                    </div>\n                    <div block=\"ProductCard\" elem=\"AttributeWrapper\">\n                        { this.renderProductPrice() }\n                        { this.renderVisualConfigurableOptions() }\n                    </div>\n                    <div block=\"ProductCard\" elem=\"ActionWrapper\">\n                        { this.renderAddToCart() }\n                        { this.renderProductActions() }\n                    </div>\n                    <div block=\"ProductCard\" elem=\"AdditionalContent\">\n                        { children }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        const {\n            children,\n            mix,\n            isLoading,\n            siblingsHaveBrands,\n            siblingsHavePriceBadge,\n            siblingsHaveTierPrice,\n            siblingsHaveConfigurableOptions,\n            layout\n        } = this.props;\n\n        const mods = {\n            siblingsHaveBrands,\n            siblingsHavePriceBadge,\n            siblingsHaveTierPrice,\n            siblingsHaveConfigurableOptions\n        };\n\n        if (layout === LIST_LAYOUT) {\n            return (\n                <li\n                  block=\"ProductCard\"\n                  mods={ mods }\n                  mix={ mix }\n                >\n                    <Loader isLoading={ isLoading } />\n                    { this.renderCardListContent() }\n                </li>\n            );\n        }\n\n        return (\n            <li\n              block=\"ProductCard\"\n              mods={ mods }\n              mix={ mix }\n            >\n                <Loader isLoading={ isLoading } />\n                { this.renderCardContent() }\n                { this.renderProductActions() }\n                <div block=\"ProductCard\" elem=\"AdditionalContent\">\n                    { children }\n                </div>\n            </li>\n        );\n    }\n}\n\nexport default ProductCard;\n"]},"metadata":{},"sourceType":"module"}