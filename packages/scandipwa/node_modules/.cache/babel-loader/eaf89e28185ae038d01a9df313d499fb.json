{"ast":null,"code":"import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _assertThisInitialized from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";/* eslint-disable max-classes-per-file */import generateGetHandler from\"./lib/handlers/generateGetHandler\";// Key for processable classes to determine whether they are already extensible\nvar extensible=Symbol('Extensible');var cacheIdentityKey=Symbol('CacheIdentityKey');// Cache to optimise class generation\nvar generated=[];// eslint-disable-next-line @scandipwa/scandipwa-guidelines/derived-class-names\nvar EmptyBase=function EmptyBase(){_classCallCheck(this,EmptyBase);};export default(function(){var BaseClass=arguments.length>0&&arguments[0]!==undefined?arguments[0]:EmptyBase;// NOTE! Base class is original class which class extends\n// Handle already extensible classes\nif(BaseClass[extensible]){return BaseClass;}var name=BaseClass.name;// Get the cache identity for the base class, omit inherited prop\nvar _ref=Object.getOwnPropertyDescriptor(BaseClass,cacheIdentityKey)||{},_ref$value=_ref.value,cacheIdentity=_ref$value===void 0?Symbol(\"Cache Identity \".concat(name)):_ref$value;// If such class is not yet generated => generate the class\nif(!generated[cacheIdentity]){/**\n         * What this class does, is:\n         * - extends what original class did extend\n         * - defines a constructor which calls original parent\n         */var GeneratedClass=/*#__PURE__*/function(_BaseClass){_inherits(Extensible,_BaseClass);var _super=_createSuper(Extensible);function Extensible(){var _this;_classCallCheck(this,Extensible);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));var _Object$getPrototypeO=Object.getPrototypeOf(_assertThisInitialized(_this)),__namespaces__=_Object$getPrototypeO.__namespaces__;return _possibleConstructorReturn(_this,new Proxy(_assertThisInitialized(_this),{get:generateGetHandler('instance',__namespaces__)}));}_createClass(Extensible,[{key:\"__construct\",value:function __construct(){}}]);return Extensible;}(BaseClass);GeneratedClass[extensible]=true;generated[cacheIdentity]=GeneratedClass;Object.defineProperty(BaseClass,cacheIdentityKey,{value:cacheIdentity,writable:false});}return generated[cacheIdentity];});","map":{"version":3,"sources":["/home/marketihor/scandipwa/node_modules/@scandipwa/scandipwa-extensibility/Extensible.js"],"names":["generateGetHandler","extensible","Symbol","cacheIdentityKey","generated","EmptyBase","BaseClass","name","Object","getOwnPropertyDescriptor","value","cacheIdentity","GeneratedClass","args","getPrototypeOf","__namespaces__","Proxy","get","defineProperty","writable"],"mappings":"83BAAA,yCACA,MAAOA,CAAAA,kBAAP,yCAEA;AACA,GAAMC,CAAAA,UAAU,CAAGC,MAAM,CAAC,YAAD,CAAzB,CACA,GAAMC,CAAAA,gBAAgB,CAAGD,MAAM,CAAC,kBAAD,CAA/B,CAEA;AACA,GAAME,CAAAA,SAAS,CAAG,EAAlB,CAEA;GACMC,CAAAA,S,wDAEN,eAAe,UAA2B,IAA1BC,CAAAA,SAA0B,2DAAdD,SAAc,CACtC;AAEA;AACA,GAAIC,SAAS,CAACL,UAAD,CAAb,CAA2B,CACvB,MAAOK,CAAAA,SAAP,CACH,CANqC,GAQ9BC,CAAAA,IAR8B,CAQrBD,SARqB,CAQ9BC,IAR8B,CAStC;AATsC,SAalCC,MAAM,CAACC,wBAAP,CAAgCH,SAAhC,CAA2CH,gBAA3C,GAAgE,EAb9B,iBAYlCO,KAZkC,CAY3BC,aAZ2B,qBAYXT,MAAM,0BAAmBK,IAAnB,EAZK,YAetC;AACA,GAAI,CAACH,SAAS,CAACO,aAAD,CAAd,CAA+B,CAC3B;AACR;AACA;AACA;AACA,WAEQ,GAAMC,CAAAA,cAAc,wGAChB,qBAAqB,0EAANC,IAAM,0CAANA,IAAM,wBACjB,6CAASA,IAAT,GADiB,0BAEUL,MAAM,CAACM,cAAP,+BAFV,CAETC,cAFS,uBAETA,cAFS,CAIjB,wCAAO,GAAIC,CAAAA,KAAJ,+BAAgB,CACnBC,GAAG,CAAEjB,kBAAkB,CAAC,UAAD,CAAae,cAAb,CADJ,CAAhB,CAAP,EAGH,CARe,kDAUhB,sBAAc,CAAE,CAVA,wBAA4BT,SAA5B,CAApB,CAaAM,cAAc,CAACX,UAAD,CAAd,CAA6B,IAA7B,CACAG,SAAS,CAACO,aAAD,CAAT,CAA2BC,cAA3B,CACAJ,MAAM,CAACU,cAAP,CACIZ,SADJ,CAEIH,gBAFJ,CAGI,CAAEO,KAAK,CAAEC,aAAT,CAAwBQ,QAAQ,CAAE,KAAlC,CAHJ,EAKH,CAED,MAAOf,CAAAA,SAAS,CAACO,aAAD,CAAhB,CACH,CA9CD","sourcesContent":["/* eslint-disable max-classes-per-file */\nimport generateGetHandler from './lib/handlers/generateGetHandler';\n\n// Key for processable classes to determine whether they are already extensible\nconst extensible = Symbol('Extensible');\nconst cacheIdentityKey = Symbol('CacheIdentityKey');\n\n// Cache to optimise class generation\nconst generated = [];\n\n// eslint-disable-next-line @scandipwa/scandipwa-guidelines/derived-class-names\nclass EmptyBase {}\n\nexport default (BaseClass = EmptyBase) => {\n    // NOTE! Base class is original class which class extends\n\n    // Handle already extensible classes\n    if (BaseClass[extensible]) {\n        return BaseClass;\n    }\n\n    const { name } = BaseClass;\n    // Get the cache identity for the base class, omit inherited prop\n    const {\n        // Generate unique cache identities as default value\n        value: cacheIdentity = Symbol(`Cache Identity ${name}`)\n    } = Object.getOwnPropertyDescriptor(BaseClass, cacheIdentityKey) || {};\n\n    // If such class is not yet generated => generate the class\n    if (!generated[cacheIdentity]) {\n        /**\n         * What this class does, is:\n         * - extends what original class did extend\n         * - defines a constructor which calls original parent\n         */\n\n        const GeneratedClass = class Extensible extends BaseClass {\n            constructor(...args) {\n                super(...args);\n                const { __namespaces__ } = Object.getPrototypeOf(this);\n\n                return new Proxy(this, {\n                    get: generateGetHandler('instance', __namespaces__)\n                });\n            }\n\n            __construct() {}\n        };\n\n        GeneratedClass[extensible] = true;\n        generated[cacheIdentity] = GeneratedClass;\n        Object.defineProperty(\n            BaseClass,\n            cacheIdentityKey,\n            { value: cacheIdentity, writable: false }\n        );\n    }\n\n    return generated[cacheIdentity];\n};\n"]},"metadata":{},"sourceType":"module"}