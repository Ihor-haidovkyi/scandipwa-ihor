{"ast":null,"code":"var _jsxFileName = \"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductListPage/ProductListPage.component.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport ProductCard from \"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductCard\";\nimport { GRID_LAYOUT } from \"/home/marketihor/scandipwa/packages/scandipwa/src/route/CategoryPage/CategoryPage.config\";\nimport { MixType } from \"/home/marketihor/scandipwa/packages/scandipwa/src/type/Common\";\nimport { FilterType, ProductType } from \"/home/marketihor/scandipwa/packages/scandipwa/src/type/ProductList\";\nimport { DEFAULT_PLACEHOLDER_COUNT } from \"./ProductListPage.config\";\nimport \"./ProductListPage.style\";\n/**\n * Placeholder for List of category product\n * @namespace Component/ProductListPage/Component\n * @class ProductListPage\n */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport class _ProductListPage extends Extensible(PureComponent) {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      siblingsHaveBrands: false,\n      siblingsHavePriceBadge: false,\n      siblingsHaveTierPrice: false,\n      siblingsHaveConfigurableOptions: false\n    };\n  }\n\n  componentDidMount() {\n    this.startObserving();\n  }\n\n  componentDidUpdate() {\n    this.startObserving();\n  }\n\n  componentWillUnmount() {\n    this.stopObserving();\n  }\n\n  containerProps() {\n    var _this = this;\n\n    const {\n      siblingsHaveBrands,\n      siblingsHavePriceBadge,\n      siblingsHaveTierPrice,\n      siblingsHaveConfigurableOptions\n    } = this.state;\n    return {\n      productCardFunctions: {\n        setSiblingsHaveBrands: function () {\n          return _this.setState({\n            siblingsHaveBrands: true\n          });\n        },\n        setSiblingsHavePriceBadge: function () {\n          return _this.setState({\n            siblingsHavePriceBadge: true\n          });\n        },\n        setSiblingsHaveTierPrice: function () {\n          return _this.setState({\n            siblingsHaveTierPrice: true\n          });\n        },\n        setSiblingsHaveConfigurableOptions: function () {\n          return _this.setState({\n            siblingsHaveConfigurableOptions: true\n          });\n        }\n      },\n      productCardProps: {\n        siblingsHaveBrands,\n        siblingsHavePriceBadge,\n        siblingsHaveTierPrice,\n        siblingsHaveConfigurableOptions\n      }\n    };\n  }\n\n  startObserving() {\n    var _this2 = this;\n\n    const {\n      items,\n      updatePages,\n      isInfiniteLoaderEnabled\n    } = this.props;\n\n    if (!isInfiniteLoaderEnabled || items.length) {\n      return;\n    }\n\n    if (this.node && !this.observer && 'IntersectionObserver' in window) {\n      const options = {\n        rootMargin: '0px',\n        threshold: 0.1\n      };\n      this.observer = new IntersectionObserver(function ([{\n        intersectionRatio\n      }]) {\n        const {\n          items,\n          isLoading\n        } = _this2.props; // must not be a product items list, and must not be loading\n\n        if (intersectionRatio > 0 && !items.length && !isLoading) {\n          _this2.stopObserving();\n\n          updatePages();\n        }\n      }, options);\n      this.observer.observe(this.node);\n    }\n  }\n\n  stopObserving() {\n    if (this.observer) {\n      if (this.observer.unobserve && this.node) {\n        this.observer.unobserve(this.node);\n      }\n\n      if (this.observer.disconnect) {\n        this.observer.disconnect();\n      }\n\n      this.observer = null;\n    }\n  }\n\n  renderPlaceholders() {\n    var _this3 = this;\n\n    const {\n      numberOfPlaceholders\n    } = this.props;\n    return Array.from({\n      length: numberOfPlaceholders\n    }, function (_, i) {\n      return /*#__PURE__*/_checkBEM(React, ProductCard, {\n        key: i,\n        product: {},\n        __self: _this3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }\n      });\n    });\n  }\n\n  getPlaceholderRef() {\n    var _this4 = this;\n\n    const {\n      isVisible\n    } = this.props;\n\n    if (!isVisible) {\n      return undefined;\n    }\n\n    return function (node) {\n      _this4.node = node;\n    };\n  }\n\n  renderPageItems() {\n    var _this5 = this;\n\n    const {\n      items,\n      selectedFilters,\n      mix: {\n        mods: {\n          layout = GRID_LAYOUT\n        } = {}\n      }\n    } = this.props;\n    return items.map(function (product, i) {\n      return /*#__PURE__*/_checkBEM(React, ProductCard, Object.assign({\n        product: product // eslint-disable-next-line react/no-array-index-key\n        ,\n        key: i,\n        selectedFilters: selectedFilters,\n        layout: layout\n      }, _this5.containerProps(), {\n        __self: _this5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }\n      }));\n    });\n  }\n\n  renderPlaceholderItems() {\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, \"li\", {\n      block: \"ProductListPage\",\n      elem: \"Offset\",\n      ref: this.getPlaceholderRef(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }\n    }), this.renderPlaceholders());\n  }\n\n  renderItems() {\n    const {\n      items,\n      isLoading\n    } = this.props;\n\n    if (!items.length || isLoading) {\n      return this.renderPlaceholderItems();\n    }\n\n    return this.renderPageItems();\n  }\n\n  render() {\n    const {\n      pageNumber,\n      wrapperRef,\n      mix\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"ul\", {\n      block: \"ProductListPage\",\n      mix: { ...mix,\n        elem: 'Page'\n      },\n      key: pageNumber,\n      ref: wrapperRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 13\n      }\n    }, this.renderItems());\n  }\n\n}\n_ProductListPage.propTypes = {\n  isInfiniteLoaderEnabled: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  isVisible: PropTypes.bool.isRequired,\n  updatePages: PropTypes.func.isRequired,\n  numberOfPlaceholders: PropTypes.number,\n  selectedFilters: FilterType,\n  wrapperRef: PropTypes.func,\n  pageNumber: PropTypes.number,\n  items: PropTypes.arrayOf(ProductType),\n  mix: MixType\n};\n_ProductListPage.defaultProps = {\n  numberOfPlaceholders: DEFAULT_PLACEHOLDER_COUNT,\n  wrapperRef: function () {},\n  selectedFilters: {},\n  pageNumber: null,\n  items: [],\n  mix: {}\n};\nObject.defineProperty(_ProductListPage, 'name', {\n  value: 'ProductListPage'\n});\n\nexport const ProductListPage = middleware(_ProductListPage, \"Component/ProductListPage/Component\");\nexport default _c = withRouter(ProductListPage);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductListPage/ProductListPage.component.js"],"names":["PropTypes","PureComponent","withRouter","ProductCard","GRID_LAYOUT","MixType","FilterType","ProductType","DEFAULT_PLACEHOLDER_COUNT","ProductListPage","state","siblingsHaveBrands","siblingsHavePriceBadge","siblingsHaveTierPrice","siblingsHaveConfigurableOptions","componentDidMount","startObserving","componentDidUpdate","componentWillUnmount","stopObserving","containerProps","productCardFunctions","setSiblingsHaveBrands","setState","setSiblingsHavePriceBadge","setSiblingsHaveTierPrice","setSiblingsHaveConfigurableOptions","productCardProps","items","updatePages","isInfiniteLoaderEnabled","props","length","node","observer","window","options","rootMargin","threshold","IntersectionObserver","intersectionRatio","isLoading","observe","unobserve","disconnect","renderPlaceholders","numberOfPlaceholders","Array","from","_","i","getPlaceholderRef","isVisible","undefined","renderPageItems","selectedFilters","mix","mods","layout","map","product","renderPlaceholderItems","renderItems","render","pageNumber","wrapperRef","elem","propTypes","bool","isRequired","func","number","arrayOf","defaultProps","Object","defineProperty","_ProductListPage","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport ProductCard from 'Component/ProductCard';\nimport { GRID_LAYOUT } from 'Route/CategoryPage/CategoryPage.config';\nimport { MixType } from 'Type/Common';\nimport { FilterType, ProductType } from 'Type/ProductList';\n\nimport { DEFAULT_PLACEHOLDER_COUNT } from './ProductListPage.config';\n\nimport './ProductListPage.style';\n\n/**\n * Placeholder for List of category product\n * @namespace Component/ProductListPage/Component\n * @class ProductListPage\n */\nexport class ProductListPage extends PureComponent {\n    static propTypes = {\n        isInfiniteLoaderEnabled: PropTypes.bool.isRequired,\n        isLoading: PropTypes.bool.isRequired,\n        isVisible: PropTypes.bool.isRequired,\n        updatePages: PropTypes.func.isRequired,\n        numberOfPlaceholders: PropTypes.number,\n        selectedFilters: FilterType,\n        wrapperRef: PropTypes.func,\n        pageNumber: PropTypes.number,\n        items: PropTypes.arrayOf(ProductType),\n        mix: MixType\n    };\n\n    static defaultProps = {\n        numberOfPlaceholders: DEFAULT_PLACEHOLDER_COUNT,\n        wrapperRef: () => {},\n        selectedFilters: {},\n        pageNumber: null,\n        items: [],\n        mix: {}\n    };\n\n    state = {\n        siblingsHaveBrands: false,\n        siblingsHavePriceBadge: false,\n        siblingsHaveTierPrice: false,\n        siblingsHaveConfigurableOptions: false\n    };\n\n    componentDidMount() {\n        this.startObserving();\n    }\n\n    componentDidUpdate() {\n        this.startObserving();\n    }\n\n    componentWillUnmount() {\n        this.stopObserving();\n    }\n\n    containerProps() {\n        const {\n            siblingsHaveBrands,\n            siblingsHavePriceBadge,\n            siblingsHaveTierPrice,\n            siblingsHaveConfigurableOptions\n        } = this.state;\n\n        return {\n            productCardFunctions: {\n                setSiblingsHaveBrands: () => this.setState({ siblingsHaveBrands: true }),\n                setSiblingsHavePriceBadge: () => this.setState({ siblingsHavePriceBadge: true }),\n                setSiblingsHaveTierPrice: () => this.setState({ siblingsHaveTierPrice: true }),\n                setSiblingsHaveConfigurableOptions: () => this.setState({ siblingsHaveConfigurableOptions: true })\n            },\n            productCardProps: {\n                siblingsHaveBrands,\n                siblingsHavePriceBadge,\n                siblingsHaveTierPrice,\n                siblingsHaveConfigurableOptions\n            }\n        };\n    }\n\n    startObserving() {\n        const {\n            items,\n            updatePages,\n            isInfiniteLoaderEnabled\n        } = this.props;\n\n        if (!isInfiniteLoaderEnabled || items.length) {\n            return;\n        }\n\n        if (this.node && !this.observer && 'IntersectionObserver' in window) {\n            const options = {\n                rootMargin: '0px',\n                threshold: 0.1\n            };\n\n            this.observer = new IntersectionObserver(([{ intersectionRatio }]) => {\n                const { items, isLoading } = this.props;\n\n                // must not be a product items list, and must not be loading\n                if (intersectionRatio > 0 && !items.length && !isLoading) {\n                    this.stopObserving();\n                    updatePages();\n                }\n            }, options);\n\n            this.observer.observe(this.node);\n        }\n    }\n\n    stopObserving() {\n        if (this.observer) {\n            if (this.observer.unobserve && this.node) {\n                this.observer.unobserve(this.node);\n            }\n\n            if (this.observer.disconnect) {\n                this.observer.disconnect();\n            }\n\n            this.observer = null;\n        }\n    }\n\n    renderPlaceholders() {\n        const { numberOfPlaceholders } = this.props;\n\n        return Array.from(\n            { length: numberOfPlaceholders },\n            (_, i) => (\n                <ProductCard\n                  key={ i }\n                  product={ {} }\n                />\n            )\n        );\n    }\n\n    getPlaceholderRef() {\n        const { isVisible } = this.props;\n\n        if (!isVisible) {\n            return undefined;\n        }\n\n        return (node) => {\n            this.node = node;\n        };\n    }\n\n    renderPageItems() {\n        const {\n            items,\n            selectedFilters,\n            mix: {\n                mods: {\n                    layout = GRID_LAYOUT\n                } = {}\n            }\n        } = this.props;\n\n        return items.map((product, i) => (\n            <ProductCard\n              product={ product }\n              // eslint-disable-next-line react/no-array-index-key\n              key={ i }\n              selectedFilters={ selectedFilters }\n              layout={ layout }\n              { ...this.containerProps() }\n            />\n        ));\n    }\n\n    renderPlaceholderItems() {\n        return (\n            <>\n                <li\n                  block=\"ProductListPage\"\n                  elem=\"Offset\"\n                  ref={ this.getPlaceholderRef() }\n                />\n                { this.renderPlaceholders() }\n            </>\n        );\n    }\n\n    renderItems() {\n        const { items, isLoading } = this.props;\n\n        if (!items.length || isLoading) {\n            return this.renderPlaceholderItems();\n        }\n\n        return this.renderPageItems();\n    }\n\n    render() {\n        const {\n            pageNumber,\n            wrapperRef,\n            mix\n        } = this.props;\n\n        return (\n            <ul\n              block=\"ProductListPage\"\n              mix={ { ...mix, elem: 'Page' } }\n              key={ pageNumber }\n              ref={ wrapperRef }\n            >\n                { this.renderItems() }\n            </ul>\n        );\n    }\n}\n\nexport default withRouter(ProductListPage);\n"]},"metadata":{},"sourceType":"module"}