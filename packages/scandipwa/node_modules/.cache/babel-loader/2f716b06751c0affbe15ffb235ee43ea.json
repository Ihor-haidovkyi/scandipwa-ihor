{"ast":null,"code":"import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _get from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get\";import _getPrototypeOf from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import PropTypes from'prop-types';import FieldForm from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/FieldForm\";import{customerType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Account\";import\"./MyAccountNewsletterSubscription.style.scss\";/** @namespace Component/MyAccountNewsletterSubscription/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _MyAccountNewsletterSubscription=/*#__PURE__*/function(_Extensible){_inherits(_MyAccountNewsletterSubscription,_Extensible);var _super=_createSuper(_MyAccountNewsletterSubscription);function _MyAccountNewsletterSubscription(){var _this;_classCallCheck(this,_MyAccountNewsletterSubscription);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onFormSuccess=function(fields){var onCustomerSave=_this.props.onCustomerSave;onCustomerSave(fields);};return _this;}_createClass(_MyAccountNewsletterSubscription,[{key:\"getDefaultValues\",value:function getDefaultValues(fieldEntry){var _fieldEntry=_slicedToArray(fieldEntry,1),key=_fieldEntry[0];var value=this.props.customer[key];return _objectSpread(_objectSpread({},_get(_getPrototypeOf(_MyAccountNewsletterSubscription.prototype),\"getDefaultValues\",this).call(this,fieldEntry)),{},{value:value});}},{key:\"fieldMap\",get:function get(){var is_subscribed=this.props.customer.is_subscribed;return{is_subscribed:{type:'checkbox',label:__('General subscription'),value:'is_subscribed',checked:is_subscribed}};}},{key:\"renderFields\",value:function renderFields(){return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"FieldForm\",elem:\"Fields\",mix:{block:'MyAccountNewsletterSubscription'}},Object.entries(this.fieldMap).map(this.renderField));}},{key:\"renderActions\",value:function renderActions(){return/*#__PURE__*/_checkBEM(React,\"button\",{type:\"submit\",block:\"Button\",mix:{block:'MyAccountNewsletterSubscription',elem:'Button'}},__('Save changes'));}}]);return _MyAccountNewsletterSubscription;}(Extensible(FieldForm));_MyAccountNewsletterSubscription.propTypes={customer:customerType.isRequired,onCustomerSave:PropTypes.func.isRequired};Object.defineProperty(_MyAccountNewsletterSubscription,'name',{value:'MyAccountNewsletterSubscription'});export var MyAccountNewsletterSubscription=middleware(_MyAccountNewsletterSubscription,\"Component/MyAccountNewsletterSubscription/Component\");export default MyAccountNewsletterSubscription;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountNewsletterSubscription/MyAccountNewsletterSubscription.component.js"],"names":["PropTypes","FieldForm","customerType","MyAccountNewsletterSubscription","onFormSuccess","fields","onCustomerSave","props","fieldEntry","key","value","customer","is_subscribed","type","label","__","checked","block","Object","entries","fieldMap","map","renderField","elem","propTypes","isRequired","func","defineProperty","_MyAccountNewsletterSubscription"],"mappings":"qmCAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAOA,CAAAA,SAAP,KAAsB,YAAtB,CAEA,MAAOC,CAAAA,SAAP,6EACA,OAASC,YAAT,sEAEA,qDAEA,qE,wEACA,UAAaC,CAAAA,gCAAb,qaAMIC,aANJ,CAMoB,SAACC,MAAD,CAAY,IAChBC,CAAAA,cADgB,CACG,MAAKC,KADR,CAChBD,cADgB,CAExBA,cAAc,CAACD,MAAD,CAAd,CACH,CATL,4FAWI,0BAAiBG,UAAjB,CAA6B,gCACXA,UADW,IAClBC,GADkB,mBAEEC,CAAAA,KAFF,CAEc,KAAKH,KAFnB,CAEjBI,QAFiB,CAEJF,GAFI,EAIzB,0IAC8BD,UAD9B,OAEIE,KAAK,CAALA,KAFJ,GAIH,CAnBL,sBAqBI,cAAe,IACSE,CAAAA,aADT,CAC6B,KAAKL,KADlC,CACHI,QADG,CACSC,aADT,CAGX,MAAO,CACHA,aAAa,CAAE,CACXC,IAAI,CAAE,UADK,CAEXC,KAAK,CAAEC,EAAE,CAAC,sBAAD,CAFE,CAGXL,KAAK,CAAE,eAHI,CAIXM,OAAO,CAAEJ,aAJE,CADZ,CAAP,CAQH,CAhCL,4BAkCI,uBAAe,CACX,0CAEM,KAAK,CAAC,WAFZ,CAGM,IAAI,CAAC,QAHX,CAIM,GAAG,CAAG,CAAEK,KAAK,CAAE,iCAAT,CAJZ,EAMUC,MAAM,CAACC,OAAP,CAAe,KAAKC,QAApB,EAA8BC,GAA9B,CAAkC,KAAKC,WAAvC,CANV,EASH,CA5CL,6BA8CI,wBAAgB,CACZ,6CAEM,IAAI,CAAC,QAFX,CAGM,KAAK,CAAC,QAHZ,CAIM,GAAG,CAAG,CAAEL,KAAK,CAAE,iCAAT,CAA4CM,IAAI,CAAE,QAAlD,CAJZ,EAMUR,EAAE,CAAC,cAAD,CANZ,EASH,CAxDL,qEAAaZ,gC,CACFqB,S,CAAY,CACfb,QAAQ,CAAET,YAAY,CAACuB,UADR,CAEfnB,cAAc,CAAEN,SAAS,CAAC0B,IAAV,CAAeD,UAFhB,C,CApBvBP,MAAM,CAACS,cAAP,CAAsBC,gCAAtB,CAAwD,MAAxD,CAAgE,CAAElB,KAAK,CAAE,iCAAT,CAAhE,E,8IA8EA,cAAeP,CAAAA,+BAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nimport FieldForm from 'Component/FieldForm';\nimport { customerType } from 'Type/Account';\n\nimport './MyAccountNewsletterSubscription.style.scss';\n\n/** @namespace Component/MyAccountNewsletterSubscription/Component */\nexport class MyAccountNewsletterSubscription extends FieldForm {\n    static propTypes = {\n        customer: customerType.isRequired,\n        onCustomerSave: PropTypes.func.isRequired\n    };\n\n    onFormSuccess = (fields) => {\n        const { onCustomerSave } = this.props;\n        onCustomerSave(fields);\n    };\n\n    getDefaultValues(fieldEntry) {\n        const [key] = fieldEntry;\n        const { customer: { [key]: value } } = this.props;\n\n        return {\n            ...super.getDefaultValues(fieldEntry),\n            value\n        };\n    }\n\n    get fieldMap() {\n        const { customer: { is_subscribed } } = this.props;\n\n        return {\n            is_subscribed: {\n                type: 'checkbox',\n                label: __('General subscription'),\n                value: 'is_subscribed',\n                checked: is_subscribed\n            }\n        };\n    }\n\n    renderFields() {\n        return (\n            <div\n              block=\"FieldForm\"\n              elem=\"Fields\"\n              mix={ { block: 'MyAccountNewsletterSubscription' } }\n            >\n                { Object.entries(this.fieldMap).map(this.renderField) }\n            </div>\n        );\n    }\n\n    renderActions() {\n        return (\n            <button\n              type=\"submit\"\n              block=\"Button\"\n              mix={ { block: 'MyAccountNewsletterSubscription', elem: 'Button' } }\n            >\n                { __('Save changes') }\n            </button>\n        );\n    }\n}\n\nexport default MyAccountNewsletterSubscription;\n"]},"metadata":{},"sourceType":"module"}