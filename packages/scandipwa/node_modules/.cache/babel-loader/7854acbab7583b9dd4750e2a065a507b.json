{"ast":null,"code":"import getPluginsForMember from\"../helpers/getPluginsForMember\";import generateMiddlewaredFunction from\"../middlewarers/generateMiddlewaredFunction\";/**\n * @param {string} targetType class | instance\n * @param {string} namespaces\n */export default(function(targetType,namespaces){return function(target,memberName,proxy){// Get the original member\nvar origMember=Reflect.get(target,memberName,proxy);// GET handler intercepts static members on classes\n// And instance members (member-functions) on instances\nvar targetSpecifier=targetType==='class'?'static-member':'member-function';// Get the plugins\nvar memberPluginsGet=getPluginsForMember(namespaces,targetSpecifier,memberName);// If no plugins - return the original member\nif(!memberPluginsGet.length){return origMember;}// Generate a function which is original member wrapped into the plugins\nvar middlewaredFunction=generateMiddlewaredFunction(origMember,memberPluginsGet,proxy);// If original member was an object - return the value from the function call\nif(typeof origMember==='object'){return middlewaredFunction();}// Return the function wrapped into plugins\nreturn middlewaredFunction;};});","map":{"version":3,"sources":["/home/marketihor/scandipwa/node_modules/@scandipwa/scandipwa-extensibility/lib/handlers/generateGetHandler.js"],"names":["getPluginsForMember","generateMiddlewaredFunction","targetType","namespaces","target","memberName","proxy","origMember","Reflect","get","targetSpecifier","memberPluginsGet","length","middlewaredFunction"],"mappings":"AAAA,MAAOA,CAAAA,mBAAP,sCACA,MAAOC,CAAAA,2BAAP,mDAEA;AACA;AACA;AACA,GACA,eAAe,SAACC,UAAD,CAAaC,UAAb,QAA4B,UAACC,MAAD,CAASC,UAAT,CAAqBC,KAArB,CAA+B,CACtE;AACA,GAAMC,CAAAA,UAAU,CAAGC,OAAO,CAACC,GAAR,CAAYL,MAAZ,CAAoBC,UAApB,CAAgCC,KAAhC,CAAnB,CAEA;AACA;AACA,GAAMI,CAAAA,eAAe,CAAGR,UAAU,GAAK,OAAf,CAClB,eADkB,CAElB,iBAFN,CAIA;AACA,GAAMS,CAAAA,gBAAgB,CAAGX,mBAAmB,CAACG,UAAD,CAAaO,eAAb,CAA8BL,UAA9B,CAA5C,CAEA;AACA,GAAI,CAACM,gBAAgB,CAACC,MAAtB,CAA8B,CAC1B,MAAOL,CAAAA,UAAP,CACH,CAED;AACA,GAAMM,CAAAA,mBAAmB,CAAGZ,2BAA2B,CACnDM,UADmD,CAEnDI,gBAFmD,CAGnDL,KAHmD,CAAvD,CAMA;AACA,GAAI,MAAOC,CAAAA,UAAP,GAAsB,QAA1B,CAAoC,CAChC,MAAOM,CAAAA,mBAAmB,EAA1B,CACH,CAED;AACA,MAAOA,CAAAA,mBAAP,CACH,CAhCc,EAAf","sourcesContent":["import getPluginsForMember from '../helpers/getPluginsForMember';\nimport generateMiddlewaredFunction from '../middlewarers/generateMiddlewaredFunction';\n\n/**\n * @param {string} targetType class | instance\n * @param {string} namespaces\n */\nexport default (targetType, namespaces) => (target, memberName, proxy) => {\n    // Get the original member\n    const origMember = Reflect.get(target, memberName, proxy);\n\n    // GET handler intercepts static members on classes\n    // And instance members (member-functions) on instances\n    const targetSpecifier = targetType === 'class'\n        ? 'static-member'\n        : 'member-function';\n\n    // Get the plugins\n    const memberPluginsGet = getPluginsForMember(namespaces, targetSpecifier, memberName);\n\n    // If no plugins - return the original member\n    if (!memberPluginsGet.length) {\n        return origMember;\n    }\n\n    // Generate a function which is original member wrapped into the plugins\n    const middlewaredFunction = generateMiddlewaredFunction(\n        origMember,\n        memberPluginsGet,\n        proxy\n    );\n\n    // If original member was an object - return the value from the function call\n    if (typeof origMember === 'object') {\n        return middlewaredFunction();\n    }\n\n    // Return the function wrapped into plugins\n    return middlewaredFunction;\n};\n"]},"metadata":{},"sourceType":"module"}