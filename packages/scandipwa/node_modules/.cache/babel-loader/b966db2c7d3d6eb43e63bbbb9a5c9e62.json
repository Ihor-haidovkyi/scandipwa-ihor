{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import ExpandableContent from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ExpandableContent\";import Field from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Field\";import Link from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Link\";import{formatPrice}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Price\";import\"./ProductDownloadableLinks.style.scss\";/** @namespace Component/ProductDownloadableLinks/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _ProductDownloadableLinks=/*#__PURE__*/function(_Extensible){_inherits(_ProductDownloadableLinks,_Extensible);var _super=_createSuper(_ProductDownloadableLinks);function _ProductDownloadableLinks(){var _this;_classCallCheck(this,_ProductDownloadableLinks);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderLink=function(link){var id=link.id;return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductDownloadableLink\",key:id},_this.renderCheckBox(link),/*#__PURE__*/_checkBEM(React,\"span\",{block:\"ProductDownloadableLink\",elem:\"SampleLabel\"},_this.renderLabel(link)));};return _this;}_createClass(_ProductDownloadableLinks,[{key:\"getLabel\",value:function getLabel(link){var title=link.title,price=link.price;var isRequired=this.props.isRequired;if(!isRequired){return/*#__PURE__*/_checkBEM(React,\"span\",{block:\"ProductDownloadableLink\",elem:\"SampleTitle\"},title);}return/*#__PURE__*/_checkBEM(React,\"span\",{block:\"ProductDownloadableLink\",elem:\"SampleTitle\"},title,\"(+\".concat(formatPrice(price),\")\"));}},{key:\"renderLabel\",value:function renderLabel(link){var isOpenInNewTab=this.props.isOpenInNewTab;var sample_url=link.sample_url;if(!sample_url){return this.getLabel(link);}return/*#__PURE__*/_checkBEM(React,React.Fragment,null,this.getLabel(link),/*#__PURE__*/_checkBEM(React,Link,{to:sample_url,isOpenInNewTab:isOpenInNewTab,block:\"ProductDownloadableLink\",elem:\"SampleLink\"},__('Sample')));}},{key:\"renderCheckBox\",value:function renderCheckBox(link){var _this$props=this.props,setSelectedCheckboxValues=_this$props.setSelectedCheckboxValues,isRequired=_this$props.isRequired;var id=link.id;if(!isRequired){return null;}return/*#__PURE__*/_checkBEM(React,Field,{type:\"checkbox\",key:id,id:\"link-\".concat(id),name:\"link-\".concat(id),value:id,onChange:setSelectedCheckboxValues});}},{key:\"renderRequired\",value:function renderRequired(isRequired){var selectedLinks=this.props.selectedLinks;if(isRequired!==true||selectedLinks.length>0){return null;}return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductDownloadableLink\",elem:\"Required\"},__('This field is required!'));}},{key:\"renderLinks\",value:function renderLinks(){var _this$props2=this.props,links=_this$props2.links,isRequired=_this$props2.isRequired;return/*#__PURE__*/_checkBEM(React,React.Fragment,null,links.map(this.renderLink),this.renderRequired(isRequired));}},{key:\"renderTitle\",value:function renderTitle(){var title=this.props.title;return/*#__PURE__*/_checkBEM(React,\"h3\",{block:\"ProductDownloadableLinks\",elem:\"Title\"},title);}},{key:\"renderContent\",value:function renderContent(){return/*#__PURE__*/_checkBEM(React,React.Fragment,null,this.renderTitle(),this.renderLinks());}},{key:\"renderPlaceholder\",value:function renderPlaceholder(){var isLoading=this.props.isLoading;return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductDownloadableLinks\",mods:{isLoading:isLoading,isPlaceholder:true}});}},{key:\"render\",value:function render(){var _this$props3=this.props,isLoading=_this$props3.isLoading,title=_this$props3.title;if(isLoading){return this.renderPlaceholder();}return/*#__PURE__*/_checkBEM(React,ExpandableContent,{block:\"ProductDownloadableLinks\",heading:title,mix:{block:'ProductDownloadableLinks'}},this.renderContent());}}]);return _ProductDownloadableLinks;}(Extensible(PureComponent));_ProductDownloadableLinks.defaultProps={links:[],selectedLinks:[]};Object.defineProperty(_ProductDownloadableLinks,'name',{value:'ProductDownloadableLinks'});export var ProductDownloadableLinks=middleware(_ProductDownloadableLinks,\"Component/ProductDownloadableLinks/Component\");export default ProductDownloadableLinks;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductDownloadableLinks/ProductDownloadableLinks.component.js"],"names":["PureComponent","ExpandableContent","Field","Link","formatPrice","ProductDownloadableLinks","renderLink","link","id","renderCheckBox","renderLabel","title","price","isRequired","props","isOpenInNewTab","sample_url","getLabel","__","setSelectedCheckboxValues","selectedLinks","length","links","map","renderRequired","renderTitle","renderLinks","isLoading","isPlaceholder","renderPlaceholder","block","renderContent","defaultProps","Object","defineProperty","_ProductDownloadableLinks","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Field from 'Component/Field';\nimport Link from 'Component/Link';\nimport { formatPrice } from 'Util/Price';\n\nimport './ProductDownloadableLinks.style.scss';\n\n/** @namespace Component/ProductDownloadableLinks/Component */\nexport class ProductDownloadableLinks extends PureComponent {\n    static propTypes = {\n        isLoading: PropTypes.bool.isRequired,\n        isRequired: PropTypes.bool.isRequired,\n        links: PropTypes.array,\n        title: PropTypes.string.isRequired,\n        setSelectedCheckboxValues: PropTypes.func.isRequired,\n        isOpenInNewTab: PropTypes.bool.isRequired,\n        selectedLinks: PropTypes.array\n    };\n\n    static defaultProps = {\n        links: [],\n        selectedLinks: []\n    };\n\n    getLabel(link) {\n        const { title, price } = link;\n        const { isRequired } = this.props;\n\n        if (!isRequired) {\n            return (\n            <span block=\"ProductDownloadableLink\" elem=\"SampleTitle\">\n                { title }\n            </span>\n            );\n        }\n\n        return (\n            <span block=\"ProductDownloadableLink\" elem=\"SampleTitle\">\n                { title }\n                { `(+${ formatPrice(price) })` }\n            </span>\n        );\n    }\n\n    renderLabel(link) {\n        const { isOpenInNewTab } = this.props;\n        const { sample_url } = link;\n\n        if (!sample_url) {\n            return this.getLabel(link);\n        }\n\n        return (\n            <>\n                { this.getLabel(link) }\n                <Link\n                  to={ sample_url }\n                  isOpenInNewTab={ isOpenInNewTab }\n                  block=\"ProductDownloadableLink\"\n                  elem=\"SampleLink\"\n                >\n                    { __('Sample') }\n                </Link>\n            </>\n        );\n    }\n\n    renderCheckBox(link) {\n        const { setSelectedCheckboxValues, isRequired } = this.props;\n        const { id } = link;\n\n        if (!isRequired) {\n            return null;\n        }\n\n        return (\n            <Field\n              type=\"checkbox\"\n              key={ id }\n              id={ `link-${ id }` }\n              name={ `link-${ id }` }\n              value={ id }\n              onChange={ setSelectedCheckboxValues }\n            />\n        );\n    }\n\n    renderLink = (link) => {\n        const { id } = link;\n\n        return (\n            <div block=\"ProductDownloadableLink\" key={ id }>\n                { this.renderCheckBox(link) }\n                <span block=\"ProductDownloadableLink\" elem=\"SampleLabel\">\n                    { this.renderLabel(link) }\n                </span>\n            </div>\n        );\n    };\n\n    renderRequired(isRequired) {\n        const { selectedLinks } = this.props;\n\n        if (isRequired !== true || selectedLinks.length > 0) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductDownloadableLink\"\n              elem=\"Required\"\n            >\n                { __('This field is required!') }\n            </div>\n        );\n    }\n\n    renderLinks() {\n        const { links, isRequired } = this.props;\n        return (\n            <>\n                { links.map(this.renderLink) }\n                { this.renderRequired(isRequired) }\n            </>\n        );\n    }\n\n    renderTitle() {\n        const { title } = this.props;\n\n        return (\n            <h3 block=\"ProductDownloadableLinks\" elem=\"Title\">\n                { title }\n            </h3>\n        );\n    }\n\n    renderContent() {\n        return (\n            <>\n            { this.renderTitle() }\n            { this.renderLinks() }\n            </>\n        );\n    }\n\n    renderPlaceholder() {\n        const { isLoading } = this.props;\n\n        return (\n            <div\n              block=\"ProductDownloadableLinks\"\n              mods={ { isLoading, isPlaceholder: true } }\n            />\n        );\n    }\n\n    render() {\n        const { isLoading, title } = this.props;\n\n        if (isLoading) {\n            return this.renderPlaceholder();\n        }\n\n        return (\n            <ExpandableContent\n              block=\"ProductDownloadableLinks\"\n              heading={ title }\n              mix={ { block: 'ProductDownloadableLinks' } }\n            >\n                { this.renderContent() }\n            </ExpandableContent>\n        );\n    }\n}\n\nexport default ProductDownloadableLinks;\n"]},"metadata":{},"sourceType":"module"}