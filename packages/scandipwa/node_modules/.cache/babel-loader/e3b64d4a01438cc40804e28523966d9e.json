{"ast":null,"code":"import _toConsumableArray from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import ProductListQuery from\"/home/marketihor/scandipwa/packages/scandipwa/src/query/ProductList.query\";import{isSignedIn}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Auth\";import{getGuestQuoteId}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Cart\";import{Field}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Query\";/** @namespace Query/Wishlist */export var _WishlistQuery=/*#__PURE__*/function(_Extensible){_inherits(_WishlistQuery,_Extensible);var _super=_createSuper(_WishlistQuery);function _WishlistQuery(){_classCallCheck(this,_WishlistQuery);return _super.apply(this,arguments);}_createClass(_WishlistQuery,[{key:\"getWishlistQuery\",value:function getWishlistQuery(sharingCode){var field=new Field('s_wishlist').setAlias('wishlist').addFieldList(this._getWishlistFields());if(sharingCode){field.addArgument('sharing_code','ID',sharingCode);}return field;}},{key:\"getSaveWishlistItemMutation\",value:function getSaveWishlistItemMutation(wishlistItem){return new Field('s_saveWishlistItem').setAlias('saveWishlistItem').addArgument('wishlistItem','WishlistItemInput!',wishlistItem).addFieldList(this._getWishlistItemsFields());}},{key:\"getShareWishlistMutation\",value:function getShareWishlistMutation(input){return new Field('s_shareWishlist').setAlias('shareWishlist').addArgument('input','ShareWishlistInput!',input);}},{key:\"getClearWishlist\",value:function getClearWishlist(){return new Field('s_clearWishlist').setAlias('clearWishlist');}},{key:\"getMoveWishlistToCart\",value:function getMoveWishlistToCart(sharingCode){var field=new Field('s_moveWishlistToCart').setAlias('moveWishlistToCart');if(sharingCode){field.addArgument('sharingCode','ID',sharingCode);if(!isSignedIn()){var guestQuoteId=getGuestQuoteId();field.addArgument('guestCartId','ID',guestQuoteId);}}return field;}},{key:\"getRemoveProductFromWishlistMutation\",value:function getRemoveProductFromWishlistMutation(item_id){return new Field('s_removeProductFromWishlist').setAlias('removeProductFromWishlist').addArgument('itemId','ID!',item_id);}},{key:\"_getWishlistFields\",value:function _getWishlistFields(){return['updated_at','items_count','creators_name',this._getItemsField()];}},{key:\"_getItemOptionsFields\",value:function _getItemOptionsFields(){return['label','value'];}},{key:\"_getItemOptionsField\",value:function _getItemOptionsField(){return new Field('options').addFieldList(this._getItemOptionsFields());}},{key:\"_getWishlistItemsFields\",value:function _getWishlistItemsFields(){return['id','sku','qty','description','price','price_without_tax','buy_request',this._getItemOptionsField()];}},{key:\"_getItemsFields\",value:function _getItemsFields(){return[].concat(_toConsumableArray(this._getWishlistItemsFields()),[this._getProductField()]);}},{key:\"_getProductField\",value:function _getProductField(){return new Field('product').addFieldList(ProductListQuery._getProductInterfaceFields());}},{key:\"_getItemsField\",value:function _getItemsField(){return new Field('items').addFieldList(this._getItemsFields());}}]);return _WishlistQuery;}(Extensible());Object.defineProperty(_WishlistQuery,'name',{value:'WishlistQuery'});export var WishlistQuery=middleware(_WishlistQuery,\"Query/Wishlist\");export default new WishlistQuery();","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/query/Wishlist.query.js"],"names":["ProductListQuery","isSignedIn","getGuestQuoteId","Field","WishlistQuery","sharingCode","field","setAlias","addFieldList","_getWishlistFields","addArgument","wishlistItem","_getWishlistItemsFields","input","guestQuoteId","item_id","_getItemsField","_getItemOptionsFields","_getItemOptionsField","_getProductField","_getProductInterfaceFields","_getItemsFields","Object","defineProperty","_WishlistQuery","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport ProductListQuery from 'Query/ProductList.query';\nimport { isSignedIn } from 'Util/Auth';\nimport { getGuestQuoteId } from 'Util/Cart';\nimport { Field } from 'Util/Query';\n\n/** @namespace Query/Wishlist */\nexport class WishlistQuery {\n    getWishlistQuery(sharingCode) {\n        const field = new Field('s_wishlist')\n            .setAlias('wishlist')\n            .addFieldList(this._getWishlistFields());\n\n        if (sharingCode) {\n            field.addArgument('sharing_code', 'ID', sharingCode);\n        }\n\n        return field;\n    }\n\n    getSaveWishlistItemMutation(wishlistItem) {\n        return new Field('s_saveWishlistItem')\n            .setAlias('saveWishlistItem')\n            .addArgument('wishlistItem', 'WishlistItemInput!', wishlistItem)\n            .addFieldList(this._getWishlistItemsFields());\n    }\n\n    getShareWishlistMutation(input) {\n        return new Field('s_shareWishlist')\n            .setAlias('shareWishlist')\n            .addArgument('input', 'ShareWishlistInput!', input);\n    }\n\n    getClearWishlist() {\n        return new Field('s_clearWishlist')\n            .setAlias('clearWishlist');\n    }\n\n    getMoveWishlistToCart(sharingCode) {\n        const field = new Field('s_moveWishlistToCart')\n            .setAlias('moveWishlistToCart');\n\n        if (sharingCode) {\n            field.addArgument('sharingCode', 'ID', sharingCode);\n\n            if (!isSignedIn()) {\n                const guestQuoteId = getGuestQuoteId();\n                field.addArgument('guestCartId', 'ID', guestQuoteId);\n            }\n        }\n\n        return field;\n    }\n\n    getRemoveProductFromWishlistMutation(item_id) {\n        return new Field('s_removeProductFromWishlist')\n            .setAlias('removeProductFromWishlist')\n            .addArgument('itemId', 'ID!', item_id);\n    }\n\n    _getWishlistFields() {\n        return [\n            'updated_at',\n            'items_count',\n            'creators_name',\n            this._getItemsField()\n        ];\n    }\n\n    _getItemOptionsFields() {\n        return [\n            'label',\n            'value'\n        ];\n    }\n\n    _getItemOptionsField() {\n        return new Field('options')\n            .addFieldList(this._getItemOptionsFields());\n    }\n\n    _getWishlistItemsFields() {\n        return [\n            'id',\n            'sku',\n            'qty',\n            'description',\n            'price',\n            'price_without_tax',\n            'buy_request',\n            this._getItemOptionsField()\n        ];\n    }\n\n    _getItemsFields() {\n        return [\n            ...this._getWishlistItemsFields(),\n            this._getProductField()\n        ];\n    }\n\n    _getProductField() {\n        return new Field('product')\n            .addFieldList(ProductListQuery._getProductInterfaceFields());\n    }\n\n    _getItemsField() {\n        return new Field('items')\n            .addFieldList(this._getItemsFields());\n    }\n}\n\nexport default new WishlistQuery();\n"]},"metadata":{},"sourceType":"module"}