{"ast":null,"code":"var _jsxFileName = \"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductCompare/ProductCompare.container.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { ProductItemsType } from \"/home/marketihor/scandipwa/packages/scandipwa/src/type/ProductList\";\nimport ProductCompare from \"./ProductCompare.component\";\nexport const ProductCompareDispatcher = import(\n/* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n\"/home/marketihor/scandipwa/packages/scandipwa/src/store/ProductCompare/ProductCompare.dispatcher\");\n/** @namespace Component/ProductCompare/Container/mapStateToProps  */\n\nexport const mapStateToProps = middleware(function (state) {\n  return {\n    products: state.ProductCompareReducer.products,\n    items: state.ProductCompareReducer.items,\n    attributes: state.ProductCompareReducer.attributes,\n    isLoading: state.ProductCompareReducer.isLoading,\n    device: state.ConfigReducer.device\n  };\n}, \"Component/ProductCompare/Container/mapStateToProps\");\n/** @namespace Component/ProductCompare/Container/mapDispatchToProps  */\n\nexport const mapDispatchToProps = middleware(function (dispatch) {\n  return {\n    fetchCompareList: function () {\n      return ProductCompareDispatcher.then(function ({\n        default: dispatcher\n      }) {\n        return dispatcher.getCompareList(dispatch);\n      });\n    },\n    clearCompareList: function () {\n      return ProductCompareDispatcher.then(function ({\n        default: dispatcher\n      }) {\n        return dispatcher.clearComparedProducts(dispatch);\n      });\n    }\n  };\n}, \"Component/ProductCompare/Container/mapDispatchToProps\");\n/** @namespace Component/ProductCompare/Container */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport class _ProductCompareContainer extends Extensible(PureComponent) {\n  constructor(...args) {\n    super(...args);\n    this.containerFunctions = {\n      getAttributes: this.getAttributes.bind(this),\n      clearCompareList: this.clearCompareList.bind(this)\n    };\n  }\n\n  componentDidMount() {\n    this.fetchCompareList();\n  }\n\n  fetchCompareList() {\n    const {\n      fetchCompareList\n    } = this.props;\n    fetchCompareList();\n  }\n\n  clearCompareList() {\n    const {\n      clearCompareList\n    } = this.props;\n    clearCompareList();\n  }\n\n  getAttributes() {\n    const {\n      attributes,\n      items\n    } = this.props;\n\n    if (!items.length || !attributes.length) {\n      return [];\n    }\n\n    return attributes.map(function ({\n      code,\n      label\n    }) {\n      return {\n        attribute_id: code,\n        attribute_code: code,\n        attribute_label: label,\n        attribute_values: items.map(function ({\n          attributes\n        }) {\n          return attributes.find(function (attribute) {\n            return attribute.code === code;\n          }).value;\n        })\n      };\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_checkBEM(React, ProductCompare, Object.assign({}, this.props, this.containerFunctions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n_ProductCompareContainer.propTypes = {\n  fetchCompareList: PropTypes.func.isRequired,\n  clearCompareList: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool,\n  products: ProductItemsType,\n  items: PropTypes.object,\n  attributes: PropTypes.object\n};\n_ProductCompareContainer.defaultProps = {\n  isLoading: false,\n  products: [],\n  items: [],\n  attributes: []\n};\nObject.defineProperty(_ProductCompareContainer, 'name', {\n  value: 'ProductCompareContainer'\n});\n\nexport const ProductCompareContainer = middleware(_ProductCompareContainer, \"Component/ProductCompare/Container\");\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductCompareContainer);","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductCompare/ProductCompare.container.js"],"names":["PropTypes","PureComponent","connect","ProductItemsType","ProductCompare","ProductCompareDispatcher","mapStateToProps","state","products","ProductCompareReducer","items","attributes","isLoading","device","ConfigReducer","mapDispatchToProps","dispatch","fetchCompareList","then","default","dispatcher","getCompareList","clearCompareList","clearComparedProducts","ProductCompareContainer","containerFunctions","getAttributes","bind","componentDidMount","props","length","map","code","label","attribute_id","attribute_code","attribute_label","attribute_values","find","attribute","value","render","propTypes","func","isRequired","bool","object","defaultProps","Object","defineProperty","_ProductCompareContainer"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { ProductItemsType } from 'Type/ProductList';\n\nimport ProductCompare from './ProductCompare.component';\n\nexport const ProductCompareDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/ProductCompare/ProductCompare.dispatcher'\n);\n\n/** @namespace Component/ProductCompare/Container/mapStateToProps  */\nexport const mapStateToProps = (state) => ({\n    products: state.ProductCompareReducer.products,\n    items: state.ProductCompareReducer.items,\n    attributes: state.ProductCompareReducer.attributes,\n    isLoading: state.ProductCompareReducer.isLoading,\n    device: state.ConfigReducer.device\n});\n\n/** @namespace Component/ProductCompare/Container/mapDispatchToProps  */\nexport const mapDispatchToProps = (dispatch) => ({\n    fetchCompareList: () => ProductCompareDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.getCompareList(dispatch)\n    ),\n    clearCompareList: () => ProductCompareDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.clearComparedProducts(dispatch)\n    )\n});\n\n/** @namespace Component/ProductCompare/Container */\nexport class ProductCompareContainer extends PureComponent {\n    static propTypes = {\n        fetchCompareList: PropTypes.func.isRequired,\n        clearCompareList: PropTypes.func.isRequired,\n        isLoading: PropTypes.bool,\n        products: ProductItemsType,\n        items: PropTypes.object,\n        attributes: PropTypes.object\n    };\n\n    static defaultProps = {\n        isLoading: false,\n        products: [],\n        items: [],\n        attributes: []\n    };\n\n    containerFunctions = {\n        getAttributes: this.getAttributes.bind(this),\n        clearCompareList: this.clearCompareList.bind(this)\n    };\n\n    componentDidMount() {\n        this.fetchCompareList();\n    }\n\n    fetchCompareList() {\n        const { fetchCompareList } = this.props;\n\n        fetchCompareList();\n    }\n\n    clearCompareList() {\n        const { clearCompareList } = this.props;\n\n        clearCompareList();\n    }\n\n    getAttributes() {\n        const { attributes, items } = this.props;\n\n        if (!items.length || !attributes.length) {\n            return [];\n        }\n\n        return attributes.map(({ code, label }) => ({\n            attribute_id: code,\n            attribute_code: code,\n            attribute_label: label,\n            attribute_values: items.map(\n                ({ attributes }) => attributes.find((attribute) => attribute.code === code).value\n            )\n        }));\n    }\n\n    render() {\n        return (\n            <ProductCompare\n              { ...this.props }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductCompareContainer);\n"]},"metadata":{},"sourceType":"module"}