{"ast":null,"code":"import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _get from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get\";import _getPrototypeOf from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import PropTypes from'prop-types';import FieldForm from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/FieldForm\";import{customerType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Account\";/** @namespace Component/MyAccountCustomerForm/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _MyAccountCustomerForm=/*#__PURE__*/function(_Extensible){_inherits(_MyAccountCustomerForm,_Extensible);var _super=_createSuper(_MyAccountCustomerForm);function _MyAccountCustomerForm(){var _this;_classCallCheck(this,_MyAccountCustomerForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onFormSuccess=function(fields){var onSave=_this.props.onSave;onSave(fields);};return _this;}_createClass(_MyAccountCustomerForm,[{key:\"getDefaultValues\",value:function getDefaultValues(fieldEntry){var _fieldEntry=_slicedToArray(fieldEntry,1),key=_fieldEntry[0];var value=this.props.customer[key];return _objectSpread(_objectSpread({},_get(_getPrototypeOf(_MyAccountCustomerForm.prototype),\"getDefaultValues\",this).call(this,fieldEntry)),{},{value:value});}},{key:\"fieldMap\",get:function get(){return _objectSpread({firstname:{label:__('First name'),validation:['notEmpty']},lastname:{label:__('Last name'),validation:['notEmpty']}},this.getVatField());}},{key:\"getVatField\",value:function getVatField(){var _this$props=this.props,showTaxVatNumber=_this$props.showTaxVatNumber,vatNumberValidation=_this$props.vatNumberValidation;if(!showTaxVatNumber){return{};}return{taxvat:{label:__('Tax/VAT Number'),validation:vatNumberValidation}};}},{key:\"renderActions\",value:function renderActions(){return/*#__PURE__*/_checkBEM(React,\"button\",{type:\"submit\",block:\"Button\",mix:{block:'MyAccount',elem:'Button'}},__('Save customer'));}}]);return _MyAccountCustomerForm;}(Extensible(FieldForm));_MyAccountCustomerForm.propTypes={customer:customerType.isRequired,onSave:PropTypes.func.isRequired,vatNumberValidation:PropTypes.array.isRequired};Object.defineProperty(_MyAccountCustomerForm,'name',{value:'MyAccountCustomerForm'});export var MyAccountCustomerForm=middleware(_MyAccountCustomerForm,\"Component/MyAccountCustomerForm/Component\");export default MyAccountCustomerForm;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountCustomerForm/MyAccountCustomerForm.component.js"],"names":["PropTypes","FieldForm","customerType","MyAccountCustomerForm","onFormSuccess","fields","onSave","props","fieldEntry","key","value","customer","firstname","label","__","validation","lastname","getVatField","showTaxVatNumber","vatNumberValidation","taxvat","block","elem","propTypes","isRequired","func","array","Object","defineProperty","_MyAccountCustomerForm"],"mappings":"qmCAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAOA,CAAAA,SAAP,KAAsB,YAAtB,CAEA,MAAOC,CAAAA,SAAP,6EACA,OAASC,YAAT,sEAEA,2D,wEACA,UAAaC,CAAAA,sBAAb,6XAOIC,aAPJ,CAOoB,SAACC,MAAD,CAAY,IAChBC,CAAAA,MADgB,CACL,MAAKC,KADA,CAChBD,MADgB,CAExBA,MAAM,CAACD,MAAD,CAAN,CACH,CAVL,kFAYI,0BAAiBG,UAAjB,CAA6B,gCACXA,UADW,IAClBC,GADkB,mBAEEC,CAAAA,KAFF,CAEc,KAAKH,KAFnB,CAEjBI,QAFiB,CAEJF,GAFI,EAIzB,gIAC8BD,UAD9B,OAEIE,KAAK,CAALA,KAFJ,GAIH,CApBL,sBAsBI,cAAe,CACX,sBACIE,SAAS,CAAE,CACPC,KAAK,CAAEC,EAAE,CAAC,YAAD,CADF,CAEPC,UAAU,CAAE,CAAC,UAAD,CAFL,CADf,CAKIC,QAAQ,CAAE,CACNH,KAAK,CAAEC,EAAE,CAAC,WAAD,CADH,CAENC,UAAU,CAAE,CAAC,UAAD,CAFN,CALd,EASO,KAAKE,WAAL,EATP,EAWH,CAlCL,2BAoCI,sBAAc,iBACwC,KAAKV,KAD7C,CACFW,gBADE,aACFA,gBADE,CACgBC,mBADhB,aACgBA,mBADhB,CAGV,GAAI,CAACD,gBAAL,CAAuB,CACnB,MAAO,EAAP,CACH,CAED,MAAO,CACHE,MAAM,CAAE,CACJP,KAAK,CAAEC,EAAE,CAAC,gBAAD,CADL,CAEJC,UAAU,CAAEI,mBAFR,CADL,CAAP,CAMH,CAjDL,6BAmDI,wBAAgB,CACZ,6CAEM,IAAI,CAAC,QAFX,CAGM,KAAK,CAAC,QAHZ,CAIM,GAAG,CAAG,CAAEE,KAAK,CAAE,WAAT,CAAsBC,IAAI,CAAE,QAA5B,CAJZ,EAMUR,EAAE,CAAC,eAAD,CANZ,EASH,CA7DL,2DAAaX,sB,CACFoB,S,CAAY,CACfZ,QAAQ,CAAET,YAAY,CAACsB,UADR,CAEflB,MAAM,CAAEN,SAAS,CAACyB,IAAV,CAAeD,UAFR,CAGfL,mBAAmB,CAAEnB,SAAS,CAAC0B,KAAV,CAAgBF,UAHtB,C,CAlBvBG,MAAM,CAACC,cAAP,CAAsBC,sBAAtB,CAA8C,MAA9C,CAAsD,CAAEnB,KAAK,CAAE,uBAAT,CAAtD,E,gHAiFA,cAAeP,CAAAA,qBAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nimport FieldForm from 'Component/FieldForm';\nimport { customerType } from 'Type/Account';\n\n/** @namespace Component/MyAccountCustomerForm/Component */\nexport class MyAccountCustomerForm extends FieldForm {\n    static propTypes = {\n        customer: customerType.isRequired,\n        onSave: PropTypes.func.isRequired,\n        vatNumberValidation: PropTypes.array.isRequired\n    };\n\n    onFormSuccess = (fields) => {\n        const { onSave } = this.props;\n        onSave(fields);\n    };\n\n    getDefaultValues(fieldEntry) {\n        const [key] = fieldEntry;\n        const { customer: { [key]: value } } = this.props;\n\n        return {\n            ...super.getDefaultValues(fieldEntry),\n            value\n        };\n    }\n\n    get fieldMap() {\n        return {\n            firstname: {\n                label: __('First name'),\n                validation: ['notEmpty']\n            },\n            lastname: {\n                label: __('Last name'),\n                validation: ['notEmpty']\n            },\n            ...this.getVatField()\n        };\n    }\n\n    getVatField() {\n        const { showTaxVatNumber, vatNumberValidation } = this.props;\n\n        if (!showTaxVatNumber) {\n            return {};\n        }\n\n        return {\n            taxvat: {\n                label: __('Tax/VAT Number'),\n                validation: vatNumberValidation\n            }\n        };\n    }\n\n    renderActions() {\n        return (\n            <button\n              type=\"submit\"\n              block=\"Button\"\n              mix={ { block: 'MyAccount', elem: 'Button' } }\n            >\n                { __('Save customer') }\n            </button>\n        );\n    }\n}\n\nexport default MyAccountCustomerForm;\n"]},"metadata":{},"sourceType":"module"}