{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import{connect}from'react-redux';import RecentlyViewedProductsDispatcher from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/RecentlyViewedProducts/RecentlyViewedProducts.dispatcher\";import{ItemsType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/ProductList\";import RecentlyViewedWidget from\"./RecentlyViewedWidget.component\";/** @namespace Component/RecentlyViewedWidget/Container/mapStateToProps */export var mapStateToProps=middleware(function(state){return{recentProducts:state.RecentlyViewedProductsReducer.recentlyViewedProducts,shouldBeUpdated:state.RecentlyViewedProductsReducer.shouldBeUpdated,store:state.ConfigReducer.code};},\"Component/RecentlyViewedWidget/Container/mapStateToProps\");/** @namespace Component/RecentlyViewedWidget/Container/mapDispatchToProps */ // eslint-disable-next-line no-unused-vars\nexport var mapDispatchToProps=middleware(function(dispatch){return{updateRecentViewedProductsInfo:function updateRecentViewedProductsInfo(options){return RecentlyViewedProductsDispatcher.handleData(dispatch,options);}};},\"Component/RecentlyViewedWidget/Container/mapDispatchToProps\");/** @namespace Component/RecentlyViewedWidget/Container */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _RecentlyViewedWidgetContainer=/*#__PURE__*/function(_Extensible){_inherits(_RecentlyViewedWidgetContainer,_Extensible);var _super=_createSuper(_RecentlyViewedWidgetContainer);function _RecentlyViewedWidgetContainer(){var _this;_classCallCheck(this,_RecentlyViewedWidgetContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={siblingsHaveBrands:false,siblingsHavePriceBadge:false,siblingsHaveTierPrice:false,siblingsHaveConfigurableOptions:false};return _this;}_createClass(_RecentlyViewedWidgetContainer,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props=this.props,shouldBeUpdated=_this$props.shouldBeUpdated,updateRecentViewedProductsInfo=_this$props.updateRecentViewedProductsInfo,recentProducts=_this$props.recentProducts,store=_this$props.store;if(shouldBeUpdated&&Object.entries(recentProducts).length!==0){updateRecentViewedProductsInfo({recentProducts:recentProducts,store:store});}}},{key:\"containerProps\",value:function containerProps(){var _recentProducts$store,_this2=this;var _this$state=this.state,siblingsHaveBrands=_this$state.siblingsHaveBrands,siblingsHavePriceBadge=_this$state.siblingsHavePriceBadge,siblingsHaveTierPrice=_this$state.siblingsHaveTierPrice,siblingsHaveConfigurableOptions=_this$state.siblingsHaveConfigurableOptions;var _this$props2=this.props,store=_this$props2.store,recentProducts=_this$props2.recentProducts;var products=(_recentProducts$store=recentProducts[store])!==null&&_recentProducts$store!==void 0?_recentProducts$store:[];return{productCardFunctions:{setSiblingsHaveBrands:function setSiblingsHaveBrands(){return _this2.setState({siblingsHaveBrands:true});},setSiblingsHavePriceBadge:function setSiblingsHavePriceBadge(){return _this2.setState({siblingsHavePriceBadge:true});},setSiblingsHaveTierPrice:function setSiblingsHaveTierPrice(){return _this2.setState({siblingsHaveTierPrice:true});},setSiblingsHaveConfigurableOptions:function setSiblingsHaveConfigurableOptions(){return _this2.setState({siblingsHaveConfigurableOptions:true});}},productCardProps:{siblingsHaveBrands:siblingsHaveBrands,siblingsHavePriceBadge:siblingsHavePriceBadge,siblingsHaveTierPrice:siblingsHaveTierPrice,siblingsHaveConfigurableOptions:siblingsHaveConfigurableOptions},products:products};}},{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,RecentlyViewedWidget,Object.assign({},this.props,this.containerProps()));}}]);return _RecentlyViewedWidgetContainer;}(Extensible(PureComponent));Object.defineProperty(_RecentlyViewedWidgetContainer,'name',{value:'RecentlyViewedWidgetContainer'});export var RecentlyViewedWidgetContainer=middleware(_RecentlyViewedWidgetContainer,\"Component/RecentlyViewedWidget/Container\");export default connect(mapStateToProps,mapDispatchToProps)(RecentlyViewedWidgetContainer);","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/RecentlyViewedWidget/RecentlyViewedWidget.container.js"],"names":["PureComponent","connect","RecentlyViewedProductsDispatcher","ItemsType","RecentlyViewedWidget","mapStateToProps","state","recentProducts","RecentlyViewedProductsReducer","recentlyViewedProducts","shouldBeUpdated","store","ConfigReducer","code","mapDispatchToProps","dispatch","updateRecentViewedProductsInfo","options","handleData","RecentlyViewedWidgetContainer","siblingsHaveBrands","siblingsHavePriceBadge","siblingsHaveTierPrice","siblingsHaveConfigurableOptions","props","Object","entries","length","products","productCardFunctions","setSiblingsHaveBrands","setState","setSiblingsHavePriceBadge","setSiblingsHaveTierPrice","setSiblingsHaveConfigurableOptions","productCardProps","containerProps","defineProperty","_RecentlyViewedWidgetContainer","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport RecentlyViewedProductsDispatcher from 'Store/RecentlyViewedProducts/RecentlyViewedProducts.dispatcher';\nimport { ItemsType } from 'Type/ProductList';\n\nimport RecentlyViewedWidget from './RecentlyViewedWidget.component';\n\n/** @namespace Component/RecentlyViewedWidget/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    recentProducts: state.RecentlyViewedProductsReducer.recentlyViewedProducts,\n    shouldBeUpdated: state.RecentlyViewedProductsReducer.shouldBeUpdated,\n    store: state.ConfigReducer.code\n});\n\n/** @namespace Component/RecentlyViewedWidget/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({\n    updateRecentViewedProductsInfo:\n        (options) => RecentlyViewedProductsDispatcher.handleData(dispatch, options)\n});\n\n/** @namespace Component/RecentlyViewedWidget/Container */\nexport class RecentlyViewedWidgetContainer extends PureComponent {\n    static propTypes = {\n        updateRecentViewedProductsInfo: PropTypes.func.isRequired,\n        recentProducts: PropTypes.objectOf(ItemsType).isRequired,\n        shouldBeUpdated: PropTypes.bool.isRequired,\n        store: PropTypes.string.isRequired\n    };\n\n    state = {\n        siblingsHaveBrands: false,\n        siblingsHavePriceBadge: false,\n        siblingsHaveTierPrice: false,\n        siblingsHaveConfigurableOptions: false\n    };\n\n    componentDidMount() {\n        const {\n            shouldBeUpdated,\n            updateRecentViewedProductsInfo,\n            recentProducts,\n            store\n        } = this.props;\n\n        if (shouldBeUpdated && Object.entries(recentProducts).length !== 0) {\n            updateRecentViewedProductsInfo({ recentProducts, store });\n        }\n    }\n\n    containerProps() {\n        const {\n            siblingsHaveBrands,\n            siblingsHavePriceBadge,\n            siblingsHaveTierPrice,\n            siblingsHaveConfigurableOptions\n        } = this.state;\n\n        const {\n            store,\n            recentProducts\n        } = this.props;\n\n        const products = recentProducts[store] ?? [];\n\n        return {\n            productCardFunctions: {\n                setSiblingsHaveBrands: () => this.setState({ siblingsHaveBrands: true }),\n                setSiblingsHavePriceBadge: () => this.setState({ siblingsHavePriceBadge: true }),\n                setSiblingsHaveTierPrice: () => this.setState({ siblingsHaveTierPrice: true }),\n                setSiblingsHaveConfigurableOptions: () => this.setState({ siblingsHaveConfigurableOptions: true })\n            },\n            productCardProps: {\n                siblingsHaveBrands,\n                siblingsHavePriceBadge,\n                siblingsHaveTierPrice,\n                siblingsHaveConfigurableOptions\n            },\n            products\n        };\n    }\n\n    render() {\n        return (\n            <RecentlyViewedWidget\n              { ...this.props }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RecentlyViewedWidgetContainer);\n"]},"metadata":{},"sourceType":"module"}