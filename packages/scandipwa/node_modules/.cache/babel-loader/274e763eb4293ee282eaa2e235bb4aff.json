{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _get from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get\";import _getPrototypeOf from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";/* eslint-disable @scandipwa/scandipwa-guidelines/jsx-no-props-destruction */ /**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import PropTypes from'prop-types';import{connect}from'react-redux';import{CUSTOMER_ACCOUNT,FORGOT_PASSWORD,REGISTER}from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Header/Header.config\";import{mapDispatchToProps as sourceMapDispatchToProps,mapStateToProps,MyAccountOverlayContainer}from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountOverlay/MyAccountOverlay.container\";import{toggleBreadcrumbs as _toggleBreadcrumbs}from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Breadcrumbs/Breadcrumbs.action\";import{isSignedIn}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Auth\";import history from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/History\";import{appendWithStoreCode}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Url\";import LoginAccount from\"./LoginAccount.component\";/** @namespace Component/LoginAccount/Container/mapDispatchToProps */export var mapDispatchToProps=middleware(function(dispatch){return _objectSpread(_objectSpread({},sourceMapDispatchToProps(dispatch)),{},{toggleBreadcrumbs:function toggleBreadcrumbs(isVisible){return dispatch(_toggleBreadcrumbs(isVisible));}});},\"Component/LoginAccount/Container/mapDispatchToProps\");/** @namespace Scandipwa/Route/LoginAccount/Container/LoginAccountContainer */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _LoginAccountContainer=/*#__PURE__*/function(_Extensible){_inherits(_LoginAccountContainer,_Extensible);var _super=_createSuper(_LoginAccountContainer);function _LoginAccountContainer(){var _this;_classCallCheck(this,_LoginAccountContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.containerFunctions=_objectSpread(_objectSpread({},_this.containerFunctions),{},{onCreateAccountClick:_this.onCreateAccountClick.bind(_assertThisInitialized(_this))});return _this;}_createClass(_LoginAccountContainer,[{key:\"onCreateAccountClick\",value:function onCreateAccountClick(){history.replace(appendWithStoreCode(\"\".concat(REGISTER)));}},{key:\"handleForgotPassword\",value:function handleForgotPassword(){history.replace(appendWithStoreCode(\"\".concat(FORGOT_PASSWORD)));}},{key:\"componentDidMount\",value:function componentDidMount(){var _this$props=this.props,setHeaderState=_this$props.setHeaderState,toggleBreadcrumbs=_this$props.toggleBreadcrumbs;if(isSignedIn()){history.push(appendWithStoreCode('/'));}setHeaderState({name:CUSTOMER_ACCOUNT,title:__('Sign in')});toggleBreadcrumbs(false);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(isSignedIn()){history.push(appendWithStoreCode('/'));return;}_get(_getPrototypeOf(_LoginAccountContainer.prototype),\"componentDidUpdate\",this).call(this,prevProps,prevState);}},{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,LoginAccount,Object.assign({},this.props,this.state,this.containerFunctions));}}]);return _LoginAccountContainer;}(Extensible(MyAccountOverlayContainer));_LoginAccountContainer.propTypes=_objectSpread(_objectSpread({},MyAccountOverlayContainer.propTypes),{},{toggleBreadcrumbs:PropTypes.func.isRequired});Object.defineProperty(_LoginAccountContainer,'name',{value:'LoginAccountContainer'});export var LoginAccountContainer=middleware(_LoginAccountContainer,\"Scandipwa/Route/LoginAccount/Container/LoginAccountContainer\");export default connect(mapStateToProps,mapDispatchToProps)(LoginAccountContainer);","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/route/LoginAccount/LoginAccount.container.js"],"names":["PropTypes","connect","CUSTOMER_ACCOUNT","FORGOT_PASSWORD","REGISTER","mapDispatchToProps","sourceMapDispatchToProps","mapStateToProps","MyAccountOverlayContainer","toggleBreadcrumbs","isSignedIn","history","appendWithStoreCode","LoginAccount","dispatch","isVisible","LoginAccountContainer","containerFunctions","onCreateAccountClick","bind","replace","props","setHeaderState","push","name","title","__","prevProps","prevState","state","propTypes","func","isRequired","Object","defineProperty","_LoginAccountContainer","value"],"mappings":"qnCAAA,6E,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAOA,CAAAA,SAAP,KAAsB,YAAtB,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,gBAAT,CAA2BC,eAA3B,CAA4CC,QAA5C,wFACA,OACIC,kBAAkB,GAAIC,CAAAA,wBAD1B,CAEIC,eAFJ,CAGIC,yBAHJ,+GAKA,OAASC,iBAAiB,GAAjBA,CAAAA,kBAAT,8FACA,OAASC,UAAT,mEACA,MAAOC,CAAAA,OAAP,sEACA,OAASC,mBAAT,kEAEA,MAAOC,CAAAA,YAAP,gCAEA,qEACA,MAAO,IAAMR,CAAAA,kBAAkB,YAAG,SAACS,QAAD,wCAC3BR,wBAAwB,CAACQ,QAAD,CADG,MAE9BL,iBAAiB,CAAE,2BAACM,SAAD,QAAeD,CAAAA,QAAQ,CAACL,kBAAiB,CAACM,SAAD,CAAlB,CAAvB,EAFW,IAAH,uDAAxB,CAKP,8E,wEACA,UAAaC,CAAAA,sBAAb,6XAMIC,kBANJ,gCAOW,MAAKA,kBAPhB,MAQQC,oBAAoB,CAAE,MAAKA,oBAAL,CAA0BC,IAA1B,+BAR9B,wFAWI,+BAAuB,CACnBR,OAAO,CAACS,OAAR,CAAgBR,mBAAmB,WAAKR,QAAL,EAAnC,EACH,CAbL,oCAeI,+BAAuB,CACnBO,OAAO,CAACS,OAAR,CAAgBR,mBAAmB,WAAKT,eAAL,EAAnC,EACH,CAjBL,iCAmBI,4BAAoB,iBAC8B,KAAKkB,KADnC,CACRC,cADQ,aACRA,cADQ,CACQb,iBADR,aACQA,iBADR,CAGhB,GAAIC,UAAU,EAAd,CAAkB,CACdC,OAAO,CAACY,IAAR,CAAaX,mBAAmB,CAAC,GAAD,CAAhC,EACH,CAEDU,cAAc,CAAC,CAAEE,IAAI,CAAEtB,gBAAR,CAA0BuB,KAAK,CAAEC,EAAE,CAAC,SAAD,CAAnC,CAAD,CAAd,CACAjB,iBAAiB,CAAC,KAAD,CAAjB,CACH,CA5BL,kCA8BI,4BAAmBkB,SAAnB,CAA8BC,SAA9B,CAAyC,CACrC,GAAIlB,UAAU,EAAd,CAAkB,CACdC,OAAO,CAACY,IAAR,CAAaX,mBAAmB,CAAC,GAAD,CAAhC,EAEA,OACH,CAED,4FAAyBe,SAAzB,CAAoCC,SAApC,EACH,CAtCL,sBAwCI,iBAAS,CACL,mCACK,YADL,kBAEW,KAAKP,KAFhB,CAGW,KAAKQ,KAHhB,CAIW,KAAKZ,kBAJhB,GAOH,CAhDL,2EAAaD,sB,CACFc,S,gCACAtB,yBAAyB,CAACsB,S,MAC7BrB,iBAAiB,CAAET,SAAS,CAAC+B,IAAV,CAAeC,U,GAtC1CC,MAAM,CAACC,cAAP,CAAsBC,sBAAtB,CAA8C,MAA9C,CAAsD,CAAEC,KAAK,CAAE,uBAAT,CAAtD,E,mIAsFA,cAAenC,CAAAA,OAAO,CAACM,eAAD,CAAkBF,kBAAlB,CAAP,CAA6CW,qBAA7C,CAAf","sourcesContent":["/* eslint-disable @scandipwa/scandipwa-guidelines/jsx-no-props-destruction */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { CUSTOMER_ACCOUNT, FORGOT_PASSWORD, REGISTER } from 'Component/Header/Header.config';\nimport {\n    mapDispatchToProps as sourceMapDispatchToProps,\n    mapStateToProps,\n    MyAccountOverlayContainer\n} from 'Component/MyAccountOverlay/MyAccountOverlay.container';\nimport { toggleBreadcrumbs } from 'Store/Breadcrumbs/Breadcrumbs.action';\nimport { isSignedIn } from 'Util/Auth';\nimport history from 'Util/History';\nimport { appendWithStoreCode } from 'Util/Url';\n\nimport LoginAccount from './LoginAccount.component';\n\n/** @namespace Component/LoginAccount/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    ...sourceMapDispatchToProps(dispatch),\n    toggleBreadcrumbs: (isVisible) => dispatch(toggleBreadcrumbs(isVisible))\n});\n\n/** @namespace Scandipwa/Route/LoginAccount/Container/LoginAccountContainer */\nexport class LoginAccountContainer extends MyAccountOverlayContainer {\n    static propTypes = {\n        ...MyAccountOverlayContainer.propTypes,\n        toggleBreadcrumbs: PropTypes.func.isRequired\n    };\n\n    containerFunctions = {\n        ...this.containerFunctions,\n        onCreateAccountClick: this.onCreateAccountClick.bind(this)\n    };\n\n    onCreateAccountClick() {\n        history.replace(appendWithStoreCode(`${ REGISTER }`));\n    }\n\n    handleForgotPassword() {\n        history.replace(appendWithStoreCode(`${ FORGOT_PASSWORD }`));\n    }\n\n    componentDidMount() {\n        const { setHeaderState, toggleBreadcrumbs } = this.props;\n\n        if (isSignedIn()) {\n            history.push(appendWithStoreCode('/'));\n        }\n\n        setHeaderState({ name: CUSTOMER_ACCOUNT, title: __('Sign in') });\n        toggleBreadcrumbs(false);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (isSignedIn()) {\n            history.push(appendWithStoreCode('/'));\n\n            return;\n        }\n\n        super.componentDidUpdate(prevProps, prevState);\n    }\n\n    render() {\n        return (\n            <LoginAccount\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginAccountContainer);\n"]},"metadata":{},"sourceType":"module"}