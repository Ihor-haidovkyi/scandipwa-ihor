{"ast":null,"code":"/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{isSignedIn}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Auth\";import BrowserDatabase from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/BrowserDatabase\";export var GUEST_QUOTE_ID='guest_quote_id';/** @namespace Util/Token/setGuestQuoteId */export var setGuestQuoteId=middleware(function(token){BrowserDatabase.setItem({token:token,isCustomerToken:isSignedIn()},GUEST_QUOTE_ID);},\"Util/Token/setGuestQuoteId\");/** @namespace Util/Token/getGuestQuoteId */export var getGuestQuoteId=middleware(function(){var _ref=BrowserDatabase.getItem(GUEST_QUOTE_ID)||{},token=_ref.token,isCustomerToken=_ref.isCustomerToken;if(isCustomerToken&&!isSignedIn()){return null;}return token;},\"Util/Token/getGuestQuoteId\");/** @namespace Util/Token/deleteGuestQuoteId */export var deleteGuestQuoteId=middleware(function(){return BrowserDatabase.deleteItem(GUEST_QUOTE_ID);},\"Util/Token/deleteGuestQuoteId\");","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/util/Cart/Token.js"],"names":["isSignedIn","BrowserDatabase","GUEST_QUOTE_ID","setGuestQuoteId","token","setItem","isCustomerToken","getGuestQuoteId","getItem","deleteGuestQuoteId","deleteItem"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,OAASA,UAAT,mEACA,MAAOC,CAAAA,eAAP,8EAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,gBAAvB,CAEP,4CACA,MAAO,IAAMC,CAAAA,eAAe,YAAG,SAACC,KAAD,CAAW,CACtCH,eAAe,CAACI,OAAhB,CAAwB,CACpBD,KAAK,CAALA,KADoB,CAEpBE,eAAe,CAAEN,UAAU,EAFP,CAAxB,CAGGE,cAHH,EAIH,CAL2B,8BAArB,CAOP,4CACA,MAAO,IAAMK,CAAAA,eAAe,YAAG,UAAM,UAI7BN,eAAe,CAACO,OAAhB,CAAwBN,cAAxB,GAA2C,EAJd,CAE7BE,KAF6B,MAE7BA,KAF6B,CAG7BE,eAH6B,MAG7BA,eAH6B,CAMjC,GAAIA,eAAe,EAAI,CAACN,UAAU,EAAlC,CAAsC,CAClC,MAAO,KAAP,CACH,CAED,MAAOI,CAAAA,KAAP,CACH,CAX2B,8BAArB,CAaP,+CACA,MAAO,IAAMK,CAAAA,kBAAkB,YAAG,iBAAMR,CAAAA,eAAe,CAACS,UAAhB,CAA2BR,cAA3B,CAAN,EAAH,iCAAxB","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { isSignedIn } from 'Util/Auth';\nimport BrowserDatabase from 'Util/BrowserDatabase';\n\nexport const GUEST_QUOTE_ID = 'guest_quote_id';\n\n/** @namespace Util/Token/setGuestQuoteId */\nexport const setGuestQuoteId = (token) => {\n    BrowserDatabase.setItem({\n        token,\n        isCustomerToken: isSignedIn()\n    }, GUEST_QUOTE_ID);\n};\n\n/** @namespace Util/Token/getGuestQuoteId */\nexport const getGuestQuoteId = () => {\n    const {\n        token,\n        isCustomerToken\n    } = BrowserDatabase.getItem(GUEST_QUOTE_ID) || {};\n\n    if (isCustomerToken && !isSignedIn()) {\n        return null;\n    }\n\n    return token;\n};\n\n/** @namespace Util/Token/deleteGuestQuoteId */\nexport const deleteGuestQuoteId = () => BrowserDatabase.deleteItem(GUEST_QUOTE_ID);\n"]},"metadata":{},"sourceType":"module"}