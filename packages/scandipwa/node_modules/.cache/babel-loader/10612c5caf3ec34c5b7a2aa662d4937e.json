{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import NoMatch from\"/home/marketihor/scandipwa/packages/scandipwa/src/route/NoMatch\";import{ChildrenType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Common\";import{LocationType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Router\";/** @namespace Route/NoMatchHandler/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _NoMatchHandler=/*#__PURE__*/function(_Extensible){_inherits(_NoMatchHandler,_Extensible);var _super=_createSuper(_NoMatchHandler);function _NoMatchHandler(){_classCallCheck(this,_NoMatchHandler);return _super.apply(this,arguments);}_createClass(_NoMatchHandler,[{key:\"componentDidMount\",value:function componentDidMount(){window.scrollTo(0,0);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var newPathname=this.props.location.pathname;var pathname=prevProps.location.pathname;if(newPathname!==pathname){// 'window.scrollTo' is used to set correct scroll position for newly opened page. Previously we passed (0, 0)\n// It caused scroll issue in Firefox, when navigating back from ProductPage to CategoryPage\n// Not calling 'window.scrollTo' did not help, but passing dummy value for 'y' seems to fix it\nif(navigator.userAgent.toLowerCase().indexOf('firefox')>-1){window.scrollTo(0,1);}else{window.scrollTo(0,0);}this.onRouteChanged();}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var _this$props=this.props,noMatch=_this$props.noMatch,updateNoMatch=_this$props.updateNoMatch;if(noMatch){updateNoMatch({noMatch:false});}}/**\n     * On browser route change\n     * @return {void}\n     */},{key:\"onRouteChanged\",value:function onRouteChanged(){var _this$props2=this.props,noMatch=_this$props2.noMatch,updateNoMatch=_this$props2.updateNoMatch;if(noMatch){updateNoMatch({noMatch:false});}}},{key:\"render\",value:function render(){var _this$props3=this.props,children=_this$props3.children,noMatch=_this$props3.noMatch;if(noMatch){return/*#__PURE__*/_checkBEM(React,NoMatch,null);}return children;}}]);return _NoMatchHandler;}(Extensible(PureComponent));Object.defineProperty(_NoMatchHandler,'name',{value:'NoMatchHandler'});export var NoMatchHandler=middleware(_NoMatchHandler,\"Route/NoMatchHandler/Component\");export default NoMatchHandler;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/route/NoMatchHandler/NoMatchHandler.component.js"],"names":["PureComponent","NoMatch","ChildrenType","LocationType","NoMatchHandler","window","scrollTo","prevProps","newPathname","props","location","pathname","navigator","userAgent","toLowerCase","indexOf","onRouteChanged","noMatch","updateNoMatch","children","Object","defineProperty","_NoMatchHandler","value"],"mappings":"ojBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAGA,OAASA,aAAT,KAA8B,OAA9B,CAEA,MAAOC,CAAAA,OAAP,uEACA,OAASC,YAAT,qEACA,OAASC,YAAT,qEAEA,gD,wEACA,UAAaC,CAAAA,eAAb,uRAQI,4BAAoB,CAChBC,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EACH,CAVL,kCAYI,4BAAmBC,SAAnB,CAA8B,IACIC,CAAAA,WADJ,CACsB,KAAKC,KAD3B,CAClBC,QADkB,CACNC,QADM,IAENA,CAAAA,QAFM,CAESJ,SAFT,CAElBG,QAFkB,CAENC,QAFM,CAI1B,GAAIH,WAAW,GAAKG,QAApB,CAA8B,CAC1B;AACA;AACA;AACA,GAAIC,SAAS,CAACC,SAAV,CAAoBC,WAApB,GAAkCC,OAAlC,CAA0C,SAA1C,EAAuD,CAAC,CAA5D,CAA+D,CAC3DV,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EACH,CAFD,IAEO,CACHD,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EACH,CAED,KAAKU,cAAL,GACH,CACJ,CA5BL,oCA8BI,+BAAuB,iBAIf,KAAKP,KAJU,CAEfQ,OAFe,aAEfA,OAFe,CAGfC,aAHe,aAGfA,aAHe,CAMnB,GAAID,OAAJ,CAAa,CACTC,aAAa,CAAC,CAAED,OAAO,CAAE,KAAX,CAAD,CAAb,CACH,CACJ,CAED;AACJ;AACA;AACA,OA5CA,8BA6CI,yBAAiB,kBAIT,KAAKR,KAJI,CAETQ,OAFS,cAETA,OAFS,CAGTC,aAHS,cAGTA,aAHS,CAMb,GAAID,OAAJ,CAAa,CACTC,aAAa,CAAC,CAAED,OAAO,CAAE,KAAX,CAAD,CAAb,CACH,CACJ,CAtDL,sBAwDI,iBAAS,kBACyB,KAAKR,KAD9B,CACGU,QADH,cACGA,QADH,CACaF,OADb,cACaA,OADb,CAEL,GAAIA,OAAJ,CAAa,CACT,mCAAQ,OAAR,OACH,CAED,MAAOE,CAAAA,QAAP,CACH,CA/DL,wDAnBAC,MAAM,CAACC,cAAP,CAAsBC,eAAtB,CAAuC,MAAvC,CAA+C,CAAEC,KAAK,CAAE,gBAAT,CAA/C,E,uFAqFA,cAAenB,CAAAA,cAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport NoMatch from 'Route/NoMatch';\nimport { ChildrenType } from 'Type/Common';\nimport { LocationType } from 'Type/Router';\n\n/** @namespace Route/NoMatchHandler/Component */\nexport class NoMatchHandler extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        noMatch: PropTypes.bool.isRequired,\n        updateNoMatch: PropTypes.func.isRequired,\n        location: LocationType.isRequired\n    };\n\n    componentDidMount() {\n        window.scrollTo(0, 0);\n    }\n\n    componentDidUpdate(prevProps) {\n        const { location: { pathname: newPathname } } = this.props;\n        const { location: { pathname } } = prevProps;\n\n        if (newPathname !== pathname) {\n            // 'window.scrollTo' is used to set correct scroll position for newly opened page. Previously we passed (0, 0)\n            // It caused scroll issue in Firefox, when navigating back from ProductPage to CategoryPage\n            // Not calling 'window.scrollTo' did not help, but passing dummy value for 'y' seems to fix it\n            if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {\n                window.scrollTo(0, 1);\n            } else {\n                window.scrollTo(0, 0);\n            }\n\n            this.onRouteChanged();\n        }\n    }\n\n    componentWillUnmount() {\n        const {\n            noMatch,\n            updateNoMatch\n        } = this.props;\n\n        if (noMatch) {\n            updateNoMatch({ noMatch: false });\n        }\n    }\n\n    /**\n     * On browser route change\n     * @return {void}\n     */\n    onRouteChanged() {\n        const {\n            noMatch,\n            updateNoMatch\n        } = this.props;\n\n        if (noMatch) {\n            updateNoMatch({ noMatch: false });\n        }\n    }\n\n    render() {\n        const { children, noMatch } = this.props;\n        if (noMatch) {\n            return <NoMatch />;\n        }\n\n        return children;\n    }\n}\n\nexport default NoMatchHandler;\n"]},"metadata":{},"sourceType":"module"}