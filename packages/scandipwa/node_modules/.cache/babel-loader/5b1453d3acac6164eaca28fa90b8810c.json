{"ast":null,"code":"var _jsxFileName = \"/home/marketihor/scandipwa/packages/scandipwa/src/component/Image/Image.container.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { MixType } from \"/home/marketihor/scandipwa/packages/scandipwa/src/type/Common\";\nimport Image from \"./Image.component\";\n/** @namespace Component/Image/Container */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport class _ImageContainer extends Extensible(PureComponent) {\n  constructor(...args) {\n    var _this;\n\n    super(...args);\n    _this = this;\n\n    this.containerProps = function () {\n      return {\n        style: _this._getStyle(),\n        wrapperSize: _this._getWrapperSize()\n      };\n    };\n  }\n\n  _parseSize(size) {\n    const trimmedSize = size.trim();\n\n    if (!trimmedSize) {\n      return '100%';\n    }\n\n    const PX_LENGTH = -2;\n    const PERCENT_LENGTH = -1;\n\n    if (trimmedSize.slice(PX_LENGTH) === 'px' || trimmedSize.slice(PERCENT_LENGTH) === '%') {\n      return trimmedSize;\n    }\n\n    return `${trimmedSize}px`;\n  }\n\n  _getCorrectSize() {\n    const {\n      width,\n      height\n    } = this.props;\n\n    const correctHeight = this._parseSize(height);\n\n    const correctWidth = this._parseSize(width);\n\n    return {\n      width: correctWidth,\n      height: correctHeight\n    };\n  }\n\n  _getStyle() {\n    const {\n      style\n    } = this.props;\n    return { ...this._getCorrectSize(),\n      ...style\n    };\n  }\n\n  _getWrapperSize() {\n    const size = this._getCorrectSize();\n\n    const {\n      height,\n      width\n    } = size;\n\n    if (height.slice(-1) === '%' && width.slice(-1) === '%') {\n      return {};\n    }\n\n    return height.slice(-1) !== '%' ? {\n      paddingBottom: height\n    } : {\n      paddingBottom: width\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_checkBEM(React, Image, Object.assign({}, this.props, this.containerProps(), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n_ImageContainer.propTypes = {\n  isPlaceholder: PropTypes.bool,\n  src: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  style: PropTypes.shape({}),\n  width: PropTypes.string,\n  height: PropTypes.string,\n  alt: PropTypes.string,\n  ratio: PropTypes.oneOf(['4x3', '16x9', 'square', 'custom']),\n  mix: MixType\n};\n_ImageContainer.defaultProps = {\n  src: '',\n  alt: '',\n  ratio: 'square',\n  mix: {},\n  height: '',\n  width: '',\n  isPlaceholder: false,\n  style: {}\n};\nObject.defineProperty(_ImageContainer, 'name', {\n  value: 'ImageContainer'\n});\n\nexport const ImageContainer = middleware(_ImageContainer, \"Component/Image/Container\");\nexport default ImageContainer;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/Image/Image.container.js"],"names":["PropTypes","PureComponent","MixType","Image","ImageContainer","containerProps","style","_getStyle","wrapperSize","_getWrapperSize","_parseSize","size","trimmedSize","trim","PX_LENGTH","PERCENT_LENGTH","slice","_getCorrectSize","width","height","props","correctHeight","correctWidth","paddingBottom","render","propTypes","isPlaceholder","bool","src","oneOfType","string","shape","alt","ratio","oneOf","mix","defaultProps","Object","defineProperty","_ImageContainer","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { MixType } from 'Type/Common';\n\nimport Image from './Image.component';\n\n/** @namespace Component/Image/Container */\nexport class ImageContainer extends PureComponent {\n    static propTypes = {\n        isPlaceholder: PropTypes.bool,\n        src: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.bool\n        ]),\n        style: PropTypes.shape({}),\n        width: PropTypes.string,\n        height: PropTypes.string,\n        alt: PropTypes.string,\n        ratio: PropTypes.oneOf([\n            '4x3',\n            '16x9',\n            'square',\n            'custom'\n        ]),\n        mix: MixType\n    };\n\n    static defaultProps = {\n        src: '',\n        alt: '',\n        ratio: 'square',\n        mix: {},\n        height: '',\n        width: '',\n        isPlaceholder: false,\n        style: {}\n    };\n\n    containerProps = () => ({\n        style: this._getStyle(),\n        wrapperSize: this._getWrapperSize()\n    });\n\n    _parseSize(size) {\n        const trimmedSize = size.trim();\n\n        if (!trimmedSize) {\n            return '100%';\n        }\n\n        const PX_LENGTH = -2;\n        const PERCENT_LENGTH = -1;\n\n        if (\n            trimmedSize.slice(PX_LENGTH) === 'px'\n            || trimmedSize.slice(PERCENT_LENGTH) === '%'\n        ) {\n            return trimmedSize;\n        }\n\n        return `${trimmedSize}px`;\n    }\n\n    _getCorrectSize() {\n        const { width, height } = this.props;\n\n        const correctHeight = this._parseSize(height);\n        const correctWidth = this._parseSize(width);\n\n        return { width: correctWidth, height: correctHeight };\n    }\n\n    _getStyle() {\n        const { style } = this.props;\n        return { ...this._getCorrectSize(), ...style };\n    }\n\n    _getWrapperSize() {\n        const size = this._getCorrectSize();\n        const { height, width } = size;\n\n        if (height.slice(-1) === '%' && width.slice(-1) === '%') {\n            return {};\n        }\n\n        return height.slice(-1) !== '%'\n            ? { paddingBottom: height }\n            : { paddingBottom: width };\n    }\n\n    render() {\n        return (\n            <Image\n              { ...this.props }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default ImageContainer;\n"]},"metadata":{},"sourceType":"module"}