{"ast":null,"code":"import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{SHOW_POPUP}from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Popup/Popup.action\";import{HIDE_ACTIVE_OVERLAY,TOGGLE_OVERLAY}from\"./Overlay.action\";/** @namespace Store/Overlay/Reducer/getInitialState */export var getInitialState=middleware(function(){return{activeOverlay:'',areOtherOverlaysOpen:false};},\"Store/Overlay/Reducer/getInitialState\");/** @namespace Store/Overlay/Reducer */export var OverlayReducer=middleware(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:getInitialState();var action=arguments.length>1?arguments[1]:undefined;var overlayKey=action.overlayKey;var prevActiveOverlay=state.activeOverlay;switch(action.type){case TOGGLE_OVERLAY:case SHOW_POPUP:var activeOverlay=prevActiveOverlay===overlayKey?'':overlayKey;var areOtherOverlaysOpen=prevActiveOverlay!=='';return _objectSpread(_objectSpread({},state),{},{activeOverlay:activeOverlay,areOtherOverlaysOpen:areOtherOverlaysOpen});case HIDE_ACTIVE_OVERLAY:return _objectSpread(_objectSpread({},state),{},{activeOverlay:'',areOtherOverlaysOpen:false});default:return state;}},\"Store/Overlay/Reducer\");export default OverlayReducer;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/store/Overlay/Overlay.reducer.js"],"names":["SHOW_POPUP","HIDE_ACTIVE_OVERLAY","TOGGLE_OVERLAY","getInitialState","activeOverlay","areOtherOverlaysOpen","OverlayReducer","state","action","overlayKey","prevActiveOverlay","type"],"mappings":"gJAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,OAASA,UAAT,kFAEA,OACIC,mBADJ,CAEIC,cAFJ,wBAKA,uDACA,MAAO,IAAMC,CAAAA,eAAe,YAAG,iBAAO,CAClCC,aAAa,CAAE,EADmB,CAElCC,oBAAoB,CAAE,KAFY,CAAP,EAAH,yCAArB,CAKP,uCACA,MAAO,IAAMC,CAAAA,cAAc,YAAG,UAGzB,IAFDC,CAAAA,KAEC,2DAFOJ,eAAe,EAEtB,IADDK,CAAAA,MACC,8CACOC,CAAAA,UADP,CACsBD,MADtB,CACOC,UADP,IAGkBC,CAAAA,iBAHlB,CAIGH,KAJH,CAGGH,aAHH,CAMD,OAAQI,MAAM,CAACG,IAAf,EACA,IAAKT,CAAAA,cAAL,CACA,IAAKF,CAAAA,UAAL,CACI,GAAMI,CAAAA,aAAa,CAAGM,iBAAiB,GAAKD,UAAtB,CAAmC,EAAnC,CAAwCA,UAA9D,CACA,GAAMJ,CAAAA,oBAAoB,CAAGK,iBAAiB,GAAK,EAAnD,CAEA,sCACOH,KADP,MAEIH,aAAa,CAAbA,aAFJ,CAGIC,oBAAoB,CAApBA,oBAHJ,GAMJ,IAAKJ,CAAAA,mBAAL,CACI,sCACOM,KADP,MAEIH,aAAa,CAAE,EAFnB,CAGIC,oBAAoB,CAAE,KAH1B,GAMJ,QACI,MAAOE,CAAAA,KAAP,CApBJ,CAsBH,CA/B0B,yBAApB,CAiCP,cAAeD,CAAAA,cAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { SHOW_POPUP } from 'Store/Popup/Popup.action';\n\nimport {\n    HIDE_ACTIVE_OVERLAY,\n    TOGGLE_OVERLAY\n} from './Overlay.action';\n\n/** @namespace Store/Overlay/Reducer/getInitialState */\nexport const getInitialState = () => ({\n    activeOverlay: '',\n    areOtherOverlaysOpen: false\n});\n\n/** @namespace Store/Overlay/Reducer */\nexport const OverlayReducer = (\n    state = getInitialState(),\n    action\n) => {\n    const { overlayKey } = action;\n    const {\n        activeOverlay: prevActiveOverlay\n    } = state;\n\n    switch (action.type) {\n    case TOGGLE_OVERLAY:\n    case SHOW_POPUP:\n        const activeOverlay = prevActiveOverlay === overlayKey ? '' : overlayKey;\n        const areOtherOverlaysOpen = prevActiveOverlay !== '';\n\n        return {\n            ...state,\n            activeOverlay,\n            areOtherOverlaysOpen\n        };\n\n    case HIDE_ACTIVE_OVERLAY:\n        return {\n            ...state,\n            activeOverlay: '',\n            areOtherOverlaysOpen: false\n        };\n\n    default:\n        return state;\n    }\n};\n\nexport default OverlayReducer;\n"]},"metadata":{},"sourceType":"module"}