{"ast":null,"code":"import _toConsumableArray from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _get from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get\";import _getPrototypeOf from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{Field}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Query\";/**\n * Category Query\n * @class CategoryQuery\n * @namespace Query/Category\n */export var _CategoryQuery=/*#__PURE__*/function(_Extensible){_inherits(_CategoryQuery,_Extensible);var _super=_createSuper(_CategoryQuery);function _CategoryQuery(){_classCallCheck(this,_CategoryQuery);return _super.apply(this,arguments);}_createClass(_CategoryQuery,[{key:\"__construct\",value:function __construct(){_get(_getPrototypeOf(_CategoryQuery.prototype),\"__construct\",this).call(this);this.options={};}},{key:\"getQuery\",value:function getQuery(){var _Field;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.options=options;return(_Field=new Field('category')).addArgument.apply(_Field,_toConsumableArray(this._getConditionalArguments())).addFieldList(this._getDefaultFields()).addField(this._getChildrenFields());}},{key:\"_getConditionalArguments\",value:function _getConditionalArguments(){var categoryIds=this.options.categoryIds;if(categoryIds){return['id','Int!',categoryIds];}throw new Error(__('There was an error requesting the category'));}},{key:\"_getChildrenFields\",value:function _getChildrenFields(){return new Field('children').addFieldList(this._getDefaultFields());}},{key:\"_getBreadcrumbsField\",value:function _getBreadcrumbsField(){return new Field('breadcrumbs').addFieldList(this._getBreadcrumbFields());}},{key:\"_getBreadcrumbFields\",value:function _getBreadcrumbFields(){return['category_name','category_level','category_url','category_is_active'];}},{key:\"_getCmsBlockFields\",value:function _getCmsBlockFields(){return['content','disabled','title','identifier'];}},{key:\"_getCmsBlockField\",value:function _getCmsBlockField(){return new Field('cms_block').addFieldList(this._getCmsBlockFields());}},{key:\"_getDefaultFields\",value:function _getDefaultFields(){return['id','url','name','image','url_key','url_path','is_active','meta_title','description','canonical_url','product_count','meta_keywords','default_sort_by','meta_description','landing_page','display_mode','is_anchor',this._getCmsBlockField(),this._getBreadcrumbsField()];}}]);return _CategoryQuery;}(Extensible());Object.defineProperty(_CategoryQuery,'name',{value:'CategoryQuery'});export var CategoryQuery=middleware(_CategoryQuery,\"Query/Category\");export default new CategoryQuery();","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/query/Category.query.js"],"names":["Field","CategoryQuery","options","addArgument","_getConditionalArguments","addFieldList","_getDefaultFields","addField","_getChildrenFields","categoryIds","Error","__","_getBreadcrumbFields","_getCmsBlockFields","_getCmsBlockField","_getBreadcrumbsField","Object","defineProperty","_CategoryQuery","value"],"mappings":"69BAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,OAASA,KAAT,oEAEA;AACA;AACA;AACA;AACA,GACA,UAAaC,CAAAA,cAAb,4QACI,sBAAc,CACV,8EACA,KAAKC,OAAL,CAAe,EAAf,CACH,CAJL,wBAMI,mBAAuB,eAAdA,CAAAA,OAAc,2DAAJ,EAAI,CACnB,KAAKA,OAAL,CAAeA,OAAf,CAEA,MAAO,WAAIF,CAAAA,KAAJ,CAAU,UAAV,GACFG,WADE,iCACa,KAAKC,wBAAL,EADb,GAEFC,YAFE,CAEW,KAAKC,iBAAL,EAFX,EAGFC,QAHE,CAGO,KAAKC,kBAAL,EAHP,CAAP,CAIH,CAbL,wCAeI,mCAA2B,IACfC,CAAAA,WADe,CACC,KAAKP,OADN,CACfO,WADe,CAGvB,GAAIA,WAAJ,CAAiB,CACb,MAAO,CAAC,IAAD,CAAO,MAAP,CAAeA,WAAf,CAAP,CACH,CAED,KAAM,IAAIC,CAAAA,KAAJ,CAAUC,EAAE,CAAC,4CAAD,CAAZ,CAAN,CACH,CAvBL,kCAyBI,6BAAqB,CACjB,MAAO,IAAIX,CAAAA,KAAJ,CAAU,UAAV,EACFK,YADE,CACW,KAAKC,iBAAL,EADX,CAAP,CAEH,CA5BL,oCA8BI,+BAAuB,CACnB,MAAO,IAAIN,CAAAA,KAAJ,CAAU,aAAV,EACFK,YADE,CACW,KAAKO,oBAAL,EADX,CAAP,CAEH,CAjCL,oCAmCI,+BAAuB,CACnB,MAAO,CACH,eADG,CAEH,gBAFG,CAGH,cAHG,CAIH,oBAJG,CAAP,CAMH,CA1CL,kCA4CI,6BAAqB,CACjB,MAAO,CACH,SADG,CAEH,UAFG,CAGH,OAHG,CAIH,YAJG,CAAP,CAMH,CAnDL,iCAqDI,4BAAoB,CAChB,MAAO,IAAIZ,CAAAA,KAAJ,CAAU,WAAV,EACFK,YADE,CACW,KAAKQ,kBAAL,EADX,CAAP,CAEH,CAxDL,iCA0DI,4BAAoB,CAChB,MAAO,CACH,IADG,CAEH,KAFG,CAGH,MAHG,CAIH,OAJG,CAKH,SALG,CAMH,UANG,CAOH,WAPG,CAQH,YARG,CASH,aATG,CAUH,eAVG,CAWH,eAXG,CAYH,eAZG,CAaH,iBAbG,CAcH,kBAdG,CAeH,cAfG,CAgBH,cAhBG,CAiBH,WAjBG,CAkBH,KAAKC,iBAAL,EAlBG,CAmBH,KAAKC,oBAAL,EAnBG,CAAP,CAqBH,CAhFL,0CAlBAC,MAAM,CAACC,cAAP,CAAsBC,cAAtB,CAAsC,MAAtC,CAA8C,CAAEC,KAAK,CAAE,eAAT,CAA9C,E,qEAqGA,cAAe,IAAIlB,CAAAA,aAAJ,EAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { Field } from 'Util/Query';\n\n/**\n * Category Query\n * @class CategoryQuery\n * @namespace Query/Category\n */\nexport class CategoryQuery {\n    __construct() {\n        super.__construct();\n        this.options = {};\n    }\n\n    getQuery(options = {}) {\n        this.options = options;\n\n        return new Field('category')\n            .addArgument(...this._getConditionalArguments())\n            .addFieldList(this._getDefaultFields())\n            .addField(this._getChildrenFields());\n    }\n\n    _getConditionalArguments() {\n        const { categoryIds } = this.options;\n\n        if (categoryIds) {\n            return ['id', 'Int!', categoryIds];\n        }\n\n        throw new Error(__('There was an error requesting the category'));\n    }\n\n    _getChildrenFields() {\n        return new Field('children')\n            .addFieldList(this._getDefaultFields());\n    }\n\n    _getBreadcrumbsField() {\n        return new Field('breadcrumbs')\n            .addFieldList(this._getBreadcrumbFields());\n    }\n\n    _getBreadcrumbFields() {\n        return [\n            'category_name',\n            'category_level',\n            'category_url',\n            'category_is_active'\n        ];\n    }\n\n    _getCmsBlockFields() {\n        return [\n            'content',\n            'disabled',\n            'title',\n            'identifier'\n        ];\n    }\n\n    _getCmsBlockField() {\n        return new Field('cms_block')\n            .addFieldList(this._getCmsBlockFields());\n    }\n\n    _getDefaultFields() {\n        return [\n            'id',\n            'url',\n            'name',\n            'image',\n            'url_key',\n            'url_path',\n            'is_active',\n            'meta_title',\n            'description',\n            'canonical_url',\n            'product_count',\n            'meta_keywords',\n            'default_sort_by',\n            'meta_description',\n            'landing_page',\n            'display_mode',\n            'is_anchor',\n            this._getCmsBlockField(),\n            this._getBreadcrumbsField()\n        ];\n    }\n}\n\nexport default new CategoryQuery();\n"]},"metadata":{},"sourceType":"module"}