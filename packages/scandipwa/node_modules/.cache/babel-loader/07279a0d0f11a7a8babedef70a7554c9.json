{"ast":null,"code":"import _defineProperty from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */ /** @namespace Util/FormPortalCollector */export var _FormPortalCollector=/*#__PURE__*/function(_Extensible){_inherits(_FormPortalCollector,_Extensible);var _super=_createSuper(_FormPortalCollector);function _FormPortalCollector(){var _this;_classCallCheck(this,_FormPortalCollector);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.portalsObservers={};return _this;}_createClass(_FormPortalCollector,[{key:\"subscribe\",value:function subscribe(id,f,name){if(this.portalsObservers[id]){this.portalsObservers[id][name]=f;return;}this.portalsObservers[id]=_defineProperty({},name,f);}},{key:\"unsubscribe\",value:function unsubscribe(id,name){if(!this.portalsObservers[id]){return;}// eslint-disable-next-line fp/no-delete\ndelete this.portalsObservers[id][name];}},{key:\"collect\",value:function collect(id){var portals=this.portalsObservers[id]||{};return Object.values(portals).map(function(portal){return portal();});}}]);return _FormPortalCollector;}(Extensible());Object.defineProperty(_FormPortalCollector,'name',{value:'FormPortalCollector'});export var FormPortalCollector=middleware(_FormPortalCollector,\"Util/FormPortalCollector\");export default FormPortalCollector;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/util/FormPortalCollector/index.js"],"names":["FormPortalCollector","portalsObservers","id","f","name","portals","Object","values","map","portal","defineProperty","_FormPortalCollector","value"],"mappings":"usBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G,CAEA,0CACA,UAAaA,CAAAA,oBAAb,qXACIC,gBADJ,CACuB,EADvB,yEAGI,mBAAUC,EAAV,CAAcC,CAAd,CAAiBC,IAAjB,CAAuB,CACnB,GAAI,KAAKH,gBAAL,CAAsBC,EAAtB,CAAJ,CAA+B,CAC3B,KAAKD,gBAAL,CAAsBC,EAAtB,EAA0BE,IAA1B,EAAkCD,CAAlC,CACA,OACH,CAED,KAAKF,gBAAL,CAAsBC,EAAtB,qBAA+BE,IAA/B,CAAsCD,CAAtC,EACH,CAVL,2BAYI,qBAAYD,EAAZ,CAAgBE,IAAhB,CAAsB,CAClB,GAAI,CAAC,KAAKH,gBAAL,CAAsBC,EAAtB,CAAL,CAAgC,CAC5B,OACH,CACD;AACA,MAAO,MAAKD,gBAAL,CAAsBC,EAAtB,EAA0BE,IAA1B,CAAP,CACH,CAlBL,uBAoBI,iBAAQF,EAAR,CAAY,CACR,GAAMG,CAAAA,OAAO,CAAG,KAAKJ,gBAAL,CAAsBC,EAAtB,GAA6B,EAA7C,CACA,MAAOI,CAAAA,MAAM,CAACC,MAAP,CAAcF,OAAd,EAAuBG,GAAvB,CAA2B,SAACC,MAAD,QAAYA,CAAAA,MAAM,EAAlB,EAA3B,CAAP,CACH,CAvBL,gDAZAH,MAAM,CAACI,cAAP,CAAsBC,oBAAtB,CAA4C,MAA5C,CAAoD,CAAEC,KAAK,CAAE,qBAAT,CAApD,E,2FAsCA,cAAeZ,CAAAA,mBAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\n/** @namespace Util/FormPortalCollector */\nexport class FormPortalCollector {\n    portalsObservers = {};\n\n    subscribe(id, f, name) {\n        if (this.portalsObservers[id]) {\n            this.portalsObservers[id][name] = f;\n            return;\n        }\n\n        this.portalsObservers[id] = { [name]: f };\n    }\n\n    unsubscribe(id, name) {\n        if (!this.portalsObservers[id]) {\n            return;\n        }\n        // eslint-disable-next-line fp/no-delete\n        delete this.portalsObservers[id][name];\n    }\n\n    collect(id) {\n        const portals = this.portalsObservers[id] || {};\n        return Object.values(portals).map((portal) => portal());\n    }\n}\n\nexport default FormPortalCollector;\n"]},"metadata":{},"sourceType":"module"}