{"ast":null,"code":"import _toConsumableArray from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/* eslint-disable fp/no-let, fp/no-loops */ /**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import CategoryPaginationLink from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/CategoryPaginationLink\";import TextPlaceholder from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/TextPlaceholder\";import\"./CategoryPagination.style\";/** @namespace Component/CategoryPagination/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _CategoryPagination=/*#__PURE__*/function(_Extensible){_inherits(_CategoryPagination,_Extensible);var _super=_createSuper(_CategoryPagination);function _CategoryPagination(){_classCallCheck(this,_CategoryPagination);return _super.apply(this,arguments);}_createClass(_CategoryPagination,[{key:\"renderPreviousPageLink\",value:function renderPreviousPageLink(){var _this$props=this.props,anchorTextPrevious=_this$props.anchorTextPrevious,currentPage=_this$props.currentPage;if(currentPage<=1){return/*#__PURE__*/_checkBEM(React,\"li\",{block:\"CategoryPagination\",elem:\"ListItem\"});}return this.renderPageLink(currentPage-1,__('Previous page'),anchorTextPrevious||this.renderPageIcon());}},{key:\"renderPageLinks\",value:function renderPageLinks(){var _this$props2=this.props,totalPages=_this$props2.totalPages,paginationFrame=_this$props2.paginationFrame,paginationFrameSkip=_this$props2.paginationFrameSkip,currentPage=_this$props2.currentPage;var pages=[];var i;// Render next pagination links\nfor(i=currentPage;i<=currentPage+paginationFrame;i++){if(i<=totalPages&&pages.length<=paginationFrameSkip){pages.push(this.renderPageLink(i,__('Page %s',i),i.toString(),i===currentPage));}}// Render previous pagination links if necessary\nfor(i=1;i<currentPage;i++){if(pages.length<paginationFrame){var id=currentPage-i;var pageData=this.renderPageLink(id,__('Page %s',id),id.toString());pages=[pageData].concat(_toConsumableArray(pages));}}// Edge case for rendering correct count of next links when current page is 1\nif(currentPage===1&&pages.length<totalPages){for(i=pages.length+1;i<=paginationFrame;i++){pages.push(this.renderPageLink(i,__('Page %s',i),i.toString()));}}return pages;}},{key:\"renderPageIcon\",value:function renderPageIcon(){var isNext=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return/*#__PURE__*/_checkBEM(React,\"span\",{block:\"CategoryPagination\",elem:\"Icon\",mods:{isNext:isNext}});}},{key:\"renderNextPageLink\",value:function renderNextPageLink(){var _this$props3=this.props,anchorTextNext=_this$props3.anchorTextNext,currentPage=_this$props3.currentPage,totalPages=_this$props3.totalPages;if(currentPage>totalPages-1){return/*#__PURE__*/_checkBEM(React,\"li\",{block:\"CategoryPagination\",elem:\"ListItem\"});}return this.renderPageLink(currentPage+1,__('Next page'),anchorTextNext||this.renderPageIcon(true));}},{key:\"renderPageLink\",value:function renderPageLink(pageNumber,label,children){var isCurrent=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var _this$props4=this.props,pathname=_this$props4.pathname,onPageSelect=_this$props4.onPageSelect,getSearchQuery=_this$props4.getSearchQuery;return/*#__PURE__*/_checkBEM(React,\"li\",{key:pageNumber,block:\"CategoryPagination\",elem:\"ListItem\"},/*#__PURE__*/_checkBEM(React,CategoryPaginationLink,{label:label,url_path:pathname,getPage:onPageSelect,isCurrent:isCurrent,pageNumber:pageNumber,getSearchQueryForPage:getSearchQuery},children));}},{key:\"renderPlaceholder\",value:function renderPlaceholder(){return/*#__PURE__*/_checkBEM(React,\"ul\",{block:\"CategoryPagination\",mods:{isLoading:true}},Array.from({length:4},function(_,i){return/*#__PURE__*/_checkBEM(React,\"li\",{key:i,block:\"CategoryPagination\",elem:\"ListItem\"},/*#__PURE__*/_checkBEM(React,TextPlaceholder,{length:\"block\"}));}));}},{key:\"render\",value:function render(){var _this$props5=this.props,isLoading=_this$props5.isLoading,totalPages=_this$props5.totalPages;if(totalPages===1){// do not show pagination, if there are less then one page\nreturn/*#__PURE__*/_checkBEM(React,\"ul\",{block:\"CategoryPagination\"});}if(isLoading){return this.renderPlaceholder();}return/*#__PURE__*/_checkBEM(React,\"nav\",{\"aria-label\":__('Product list navigation')},/*#__PURE__*/_checkBEM(React,\"ul\",{block:\"CategoryPagination\"},this.renderPreviousPageLink(),this.renderPageLinks(),this.renderNextPageLink()));}}]);return _CategoryPagination;}(Extensible(PureComponent));_CategoryPagination.defaultProps={isLoading:false,paginationFrame:5,paginationFrameSkip:4,anchorTextPrevious:'',anchorTextNext:''};Object.defineProperty(_CategoryPagination,'name',{value:'CategoryPagination'});export var CategoryPagination=middleware(_CategoryPagination,\"Component/CategoryPagination/Component\");export default CategoryPagination;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/CategoryPagination/CategoryPagination.component.js"],"names":["PureComponent","CategoryPaginationLink","TextPlaceholder","CategoryPagination","props","anchorTextPrevious","currentPage","renderPageLink","__","renderPageIcon","totalPages","paginationFrame","paginationFrameSkip","pages","i","length","push","toString","id","pageData","isNext","anchorTextNext","pageNumber","label","children","isCurrent","pathname","onPageSelect","getSearchQuery","isLoading","Array","from","_","renderPlaceholder","renderPreviousPageLink","renderPageLinks","renderNextPageLink","defaultProps","Object","defineProperty","_CategoryPagination","value"],"mappings":"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","sourcesContent":["/* eslint-disable fp/no-let, fp/no-loops */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport CategoryPaginationLink from 'Component/CategoryPaginationLink';\nimport TextPlaceholder from 'Component/TextPlaceholder';\n\nimport './CategoryPagination.style';\n\n/** @namespace Component/CategoryPagination/Component */\nexport class CategoryPagination extends PureComponent {\n    static propTypes = {\n        isLoading: PropTypes.bool,\n        pathname: PropTypes.string.isRequired,\n        onPageSelect: PropTypes.func.isRequired,\n        totalPages: PropTypes.number.isRequired,\n        currentPage: PropTypes.number.isRequired,\n        getSearchQuery: PropTypes.func.isRequired,\n        paginationFrame: PropTypes.number,\n        paginationFrameSkip: PropTypes.number,\n        anchorTextPrevious: PropTypes.string,\n        anchorTextNext: PropTypes.string\n    };\n\n    static defaultProps = {\n        isLoading: false,\n        paginationFrame: 5,\n        paginationFrameSkip: 4,\n        anchorTextPrevious: '',\n        anchorTextNext: ''\n    };\n\n    renderPreviousPageLink() {\n        const {\n            anchorTextPrevious,\n            currentPage\n        } = this.props;\n\n        if (currentPage <= 1) {\n            return (\n                <li block=\"CategoryPagination\" elem=\"ListItem\" />\n            );\n        }\n\n        return this.renderPageLink(\n            currentPage - 1,\n            __('Previous page'),\n            anchorTextPrevious || this.renderPageIcon()\n        );\n    }\n\n    renderPageLinks() {\n        const {\n            totalPages,\n            paginationFrame,\n            paginationFrameSkip,\n            currentPage\n        } = this.props;\n\n        let pages = [];\n        let i;\n\n        // Render next pagination links\n        for (i = currentPage; i <= currentPage + paginationFrame; i++) {\n            if (i <= totalPages && pages.length <= paginationFrameSkip) {\n                pages.push(this.renderPageLink(\n                    i,\n                    __('Page %s', i),\n                    i.toString(),\n                    i === currentPage\n                ));\n            }\n        }\n\n        // Render previous pagination links if necessary\n        for (i = 1; i < currentPage; i++) {\n            if (pages.length < paginationFrame) {\n                const id = currentPage - i;\n                const pageData = this.renderPageLink(\n                    id,\n                    __('Page %s', id),\n                    id.toString()\n                );\n\n                pages = [pageData, ...pages];\n            }\n        }\n\n        // Edge case for rendering correct count of next links when current page is 1\n        if (currentPage === 1 && pages.length < totalPages) {\n            for (i = pages.length + 1; i <= paginationFrame; i++) {\n                pages.push(this.renderPageLink(\n                    i,\n                    __('Page %s', i),\n                    i.toString()\n                ));\n            }\n        }\n\n        return pages;\n    }\n\n    renderPageIcon(isNext = false) {\n        return (\n            <span\n              block=\"CategoryPagination\"\n              elem=\"Icon\"\n              mods={ { isNext } }\n            />\n        );\n    }\n\n    renderNextPageLink() {\n        const {\n            anchorTextNext,\n            currentPage,\n            totalPages\n        } = this.props;\n\n        if (currentPage > totalPages - 1) {\n            return (\n                <li block=\"CategoryPagination\" elem=\"ListItem\" />\n            );\n        }\n\n        return this.renderPageLink(\n            currentPage + 1,\n            __('Next page'),\n            anchorTextNext || this.renderPageIcon(true)\n        );\n    }\n\n    renderPageLink(\n        pageNumber,\n        label,\n        children,\n        isCurrent = false\n    ) {\n        const {\n            pathname,\n            onPageSelect,\n            getSearchQuery\n        } = this.props;\n\n        return (\n            <li\n              key={ pageNumber }\n              block=\"CategoryPagination\"\n              elem=\"ListItem\"\n            >\n                <CategoryPaginationLink\n                  label={ label }\n                  url_path={ pathname }\n                  getPage={ onPageSelect }\n                  isCurrent={ isCurrent }\n                  pageNumber={ pageNumber }\n                  getSearchQueryForPage={ getSearchQuery }\n                >\n                    { children }\n                </CategoryPaginationLink>\n            </li>\n        );\n    }\n\n    renderPlaceholder() {\n        return (\n            <ul block=\"CategoryPagination\" mods={ { isLoading: true } }>\n                { Array.from({ length: 4 }, (_, i) => (\n                    <li\n                      key={ i }\n                      block=\"CategoryPagination\"\n                      elem=\"ListItem\"\n                    >\n                        <TextPlaceholder length=\"block\" />\n                    </li>\n                )) }\n            </ul>\n        );\n    }\n\n    render() {\n        const { isLoading, totalPages } = this.props;\n\n        if (totalPages === 1) { // do not show pagination, if there are less then one page\n            return <ul block=\"CategoryPagination\" />;\n        }\n\n        if (isLoading) {\n            return this.renderPlaceholder();\n        }\n\n        return (\n            <nav aria-label={ __('Product list navigation') }>\n                <ul block=\"CategoryPagination\">\n                    { this.renderPreviousPageLink() }\n                    { this.renderPageLinks() }\n                    { this.renderNextPageLink() }\n                </ul>\n            </nav>\n        );\n    }\n}\n\nexport default CategoryPagination;\n"]},"metadata":{},"sourceType":"module"}