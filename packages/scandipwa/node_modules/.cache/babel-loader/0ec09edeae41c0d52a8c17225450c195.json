{"ast":null,"code":"import _regeneratorRuntime from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import ProductCompareQuery from\"/home/marketihor/scandipwa/packages/scandipwa/src/query/ProductCompare.query\";import{showNotification}from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Notification/Notification.action\";import{clearComparedProducts as _clearComparedProducts,setCompareList,toggleLoader}from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/ProductCompare/ProductCompare.action\";import{getUid,removeUid,setUid}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Compare\";import{fetchMutation,fetchQuery}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Request\";export var CartDispatcher=import(/* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Cart/Cart.dispatcher\");/** @namespace Store/ProductCompare/Dispatcher */export var _ProductCompareDispatcher=/*#__PURE__*/function(_Extensible){_inherits(_ProductCompareDispatcher,_Extensible);var _super=_createSuper(_ProductCompareDispatcher);function _ProductCompareDispatcher(){_classCallCheck(this,_ProductCompareDispatcher);return _super.apply(this,arguments);}_createClass(_ProductCompareDispatcher,[{key:\"getCompareList\",value:function(){var _getCompareList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var uid,_yield$fetchQuery,compareList;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:uid=getUid();if(uid){_context.next=3;break;}return _context.abrupt(\"return\",false);case 3:dispatch(toggleLoader(true));_context.prev=4;_context.next=7;return fetchQuery(ProductCompareQuery.getCompareList(uid));case 7:_yield$fetchQuery=_context.sent;compareList=_yield$fetchQuery.compareList;dispatch(toggleLoader(false));dispatch(setCompareList(compareList));_context.next=18;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](4);dispatch(toggleLoader(false));dispatch(showNotification('error',__('Unable to fetch compare list'),_context.t0));return _context.abrupt(\"return\",false);case 18:return _context.abrupt(\"return\",true);case 19:case\"end\":return _context.stop();}}},_callee,null,[[4,13]]);}));function getCompareList(_x){return _getCompareList.apply(this,arguments);}return getCompareList;}()},{key:\"createCompareList\",value:function(){var _createCompareList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(productId){var _yield$fetchMutation,createCompareList,uid;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchMutation(ProductCompareQuery.getCreateCompareList([productId]));case 2:_yield$fetchMutation=_context2.sent;createCompareList=_yield$fetchMutation.createCompareList;uid=_yield$fetchMutation.createCompareList.uid;if(uid){setUid(uid);}return _context2.abrupt(\"return\",createCompareList);case 7:case\"end\":return _context2.stop();}}},_callee2);}));function createCompareList(_x2){return _createCompareList.apply(this,arguments);}return createCompareList;}()},{key:\"addToCompareList\",value:function(){var _addToCompareList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(uid,productId){var _yield$fetchMutation2,addProductsToCompareList;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetchMutation(ProductCompareQuery.getAddProductsToCompareList(uid,[productId]));case 2:_yield$fetchMutation2=_context3.sent;addProductsToCompareList=_yield$fetchMutation2.addProductsToCompareList;return _context3.abrupt(\"return\",addProductsToCompareList);case 5:case\"end\":return _context3.stop();}}},_callee3);}));function addToCompareList(_x3,_x4){return _addToCompareList.apply(this,arguments);}return addToCompareList;}()},{key:\"addProductToCompare\",value:function(){var _addProductToCompare=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(productId,dispatch){var uid,result;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:uid=getUid();_context4.prev=1;if(!uid){_context4.next=8;break;}_context4.next=5;return this.addToCompareList(uid,productId);case 5:_context4.t0=_context4.sent;_context4.next=11;break;case 8:_context4.next=10;return this.createCompareList(productId);case 10:_context4.t0=_context4.sent;case 11:result=_context4.t0;dispatch(setCompareList(result));dispatch(showNotification('success',__('Product is added to the compare list')));return _context4.abrupt(\"return\",result);case 17:_context4.prev=17;_context4.t1=_context4[\"catch\"](1);dispatch(showNotification('error',__('Unable to add product to the compare list'),_context4.t1));return _context4.abrupt(\"return\",false);case 21:case\"end\":return _context4.stop();}}},_callee4,this,[[1,17]]);}));function addProductToCompare(_x5,_x6){return _addProductToCompare.apply(this,arguments);}return addProductToCompare;}()},{key:\"removeComparedProduct\",value:function(){var _removeComparedProduct=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(productId,dispatch){var uid,_yield$fetchMutation3,removeProductsFromCompareList;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:uid=getUid();if(uid){_context5.next=3;break;}return _context5.abrupt(\"return\",false);case 3:_context5.prev=3;_context5.next=6;return fetchMutation(ProductCompareQuery.getRemoveProductsFromCompareList(uid,[productId]));case 6:_yield$fetchMutation3=_context5.sent;removeProductsFromCompareList=_yield$fetchMutation3.removeProductsFromCompareList;dispatch(setCompareList(removeProductsFromCompareList));dispatch(showNotification('success',__('Product is removed from the compare list')));return _context5.abrupt(\"return\",removeProductsFromCompareList);case 13:_context5.prev=13;_context5.t0=_context5[\"catch\"](3);dispatch(showNotification('error',__('Unable to remove product from the compare list'),_context5.t0));return _context5.abrupt(\"return\",false);case 17:case\"end\":return _context5.stop();}}},_callee5,null,[[3,13]]);}));function removeComparedProduct(_x7,_x8){return _removeComparedProduct.apply(this,arguments);}return removeComparedProduct;}()},{key:\"fetchCustomersList\",value:function(){var _fetchCustomersList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var _yield$fetchMutation4,createCompareList,uid;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetchMutation(ProductCompareQuery.getCreateEmptyCompareList());case 2:_yield$fetchMutation4=_context6.sent;createCompareList=_yield$fetchMutation4.createCompareList;uid=_yield$fetchMutation4.createCompareList.uid;if(uid){setUid(uid);}dispatch(setCompareList(createCompareList));case 7:case\"end\":return _context6.stop();}}},_callee6);}));function fetchCustomersList(_x9){return _fetchCustomersList.apply(this,arguments);}return fetchCustomersList;}()},{key:\"assignCompareList\",value:function(){var _assignCompareList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var uid,_yield$fetchMutation5,_yield$fetchMutation6,result,compare_list,newUid;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:uid=getUid();if(uid){_context7.next=5;break;}_context7.next=4;return this.fetchCustomersList(dispatch);case 4:return _context7.abrupt(\"return\",false);case 5:removeUid();_context7.prev=6;_context7.next=9;return fetchMutation(ProductCompareQuery.getAssignCompareList(uid));case 9:_yield$fetchMutation5=_context7.sent;_yield$fetchMutation6=_yield$fetchMutation5.assignCompareListToCustomer;result=_yield$fetchMutation6.result;compare_list=_yield$fetchMutation6.compare_list;newUid=_yield$fetchMutation6.compare_list.uid;if(result){setUid(newUid);dispatch(setCompareList(compare_list));}return _context7.abrupt(\"return\",result);case 18:_context7.prev=18;_context7.t0=_context7[\"catch\"](6);dispatch(toggleLoader(false));return _context7.abrupt(\"return\",false);case 22:case\"end\":return _context7.stop();}}},_callee7,this,[[6,18]]);}));function assignCompareList(_x10){return _assignCompareList.apply(this,arguments);}return assignCompareList;}()},{key:\"clearComparedProducts\",value:function(){var _clearComparedProducts2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var uid,result;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:uid=getUid();if(uid){_context8.next=3;break;}return _context8.abrupt(\"return\",false);case 3:dispatch(toggleLoader(true));_context8.prev=4;_context8.next=7;return fetchMutation(ProductCompareQuery.getDeleteCompareList(uid));case 7:result=_context8.sent;removeUid();dispatch(_clearComparedProducts());dispatch(showNotification('success',__('Compare list is cleared')));dispatch(toggleLoader(false));return _context8.abrupt(\"return\",result);case 15:_context8.prev=15;_context8.t0=_context8[\"catch\"](4);dispatch(toggleLoader(false));dispatch(showNotification('error',__('Unable to clear product compare list'),_context8.t0));return _context8.abrupt(\"return\",false);case 20:case\"end\":return _context8.stop();}}},_callee8,null,[[4,15]]);}));function clearComparedProducts(_x11){return _clearComparedProducts2.apply(this,arguments);}return clearComparedProducts;}()},{key:\"resetComparedProducts\",value:function resetComparedProducts(dispatch){dispatch(_clearComparedProducts());}}]);return _ProductCompareDispatcher;}(Extensible());Object.defineProperty(_ProductCompareDispatcher,'name',{value:'ProductCompareDispatcher'});export var ProductCompareDispatcher=middleware(_ProductCompareDispatcher,\"Store/ProductCompare/Dispatcher\");export default new ProductCompareDispatcher();","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/store/ProductCompare/ProductCompare.dispatcher.js"],"names":["ProductCompareQuery","showNotification","clearComparedProducts","setCompareList","toggleLoader","getUid","removeUid","setUid","fetchMutation","fetchQuery","CartDispatcher","ProductCompareDispatcher","dispatch","uid","getCompareList","compareList","__","productId","getCreateCompareList","createCompareList","getAddProductsToCompareList","addProductsToCompareList","addToCompareList","result","getRemoveProductsFromCompareList","removeProductsFromCompareList","getCreateEmptyCompareList","fetchCustomersList","getAssignCompareList","assignCompareListToCustomer","compare_list","newUid","getDeleteCompareList","Object","defineProperty","_ProductCompareDispatcher","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport ProductCompareQuery from 'Query/ProductCompare.query';\nimport { showNotification } from 'Store/Notification/Notification.action';\nimport {\n    clearComparedProducts,\n    setCompareList,\n    toggleLoader\n} from 'Store/ProductCompare/ProductCompare.action';\nimport { getUid, removeUid, setUid } from 'Util/Compare';\nimport { fetchMutation, fetchQuery } from 'Util/Request';\n\nexport const CartDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Cart/Cart.dispatcher'\n);\n\n/** @namespace Store/ProductCompare/Dispatcher */\nexport class ProductCompareDispatcher {\n    async getCompareList(dispatch) {\n        const uid = getUid();\n        if (!uid) {\n            return false;\n        }\n\n        dispatch(toggleLoader(true));\n\n        try {\n            const { compareList } = await fetchQuery(\n                ProductCompareQuery.getCompareList(uid)\n            );\n\n            dispatch(toggleLoader(false));\n            dispatch(setCompareList(compareList));\n        } catch (error) {\n            dispatch(toggleLoader(false));\n            dispatch(showNotification('error', __('Unable to fetch compare list'), error));\n\n            return false;\n        }\n\n        return true;\n    }\n\n    async createCompareList(productId) {\n        const {\n            createCompareList,\n            createCompareList: {\n                uid\n            }\n        } = await fetchMutation(\n            ProductCompareQuery.getCreateCompareList(\n                [productId]\n            )\n        );\n\n        if (uid) {\n            setUid(uid);\n        }\n\n        return createCompareList;\n    }\n\n    async addToCompareList(uid, productId) {\n        const {\n            addProductsToCompareList\n        } = await fetchMutation(\n            ProductCompareQuery.getAddProductsToCompareList(\n                uid,\n                [productId]\n            )\n        );\n\n        return addProductsToCompareList;\n    }\n\n    async addProductToCompare(productId, dispatch) {\n        const uid = getUid();\n\n        try {\n            const result = (uid)\n                ? await this.addToCompareList(uid, productId)\n                : await this.createCompareList(productId);\n\n            dispatch(setCompareList(result));\n            dispatch(showNotification('success', __('Product is added to the compare list')));\n\n            return result;\n        } catch (error) {\n            dispatch(showNotification('error', __('Unable to add product to the compare list'), error));\n\n            return false;\n        }\n    }\n\n    async removeComparedProduct(productId, dispatch) {\n        const uid = getUid();\n        if (!uid) {\n            return false;\n        }\n\n        try {\n            const {\n                removeProductsFromCompareList\n            } = await fetchMutation(\n                ProductCompareQuery.getRemoveProductsFromCompareList(\n                    uid,\n                    [productId]\n                )\n            );\n\n            dispatch(setCompareList(removeProductsFromCompareList));\n            dispatch(showNotification('success', __('Product is removed from the compare list')));\n\n            return removeProductsFromCompareList;\n        } catch (error) {\n            dispatch(showNotification('error', __('Unable to remove product from the compare list'), error));\n\n            return false;\n        }\n    }\n\n    async fetchCustomersList(dispatch) {\n        const {\n            createCompareList,\n            createCompareList: {\n                uid\n            }\n        } = await fetchMutation(\n            ProductCompareQuery.getCreateEmptyCompareList()\n        );\n\n        if (uid) {\n            setUid(uid);\n        }\n\n        dispatch(setCompareList(createCompareList));\n    }\n\n    async assignCompareList(dispatch) {\n        const uid = getUid();\n        if (!uid) {\n            await this.fetchCustomersList(dispatch);\n\n            return false;\n        }\n\n        removeUid();\n\n        try {\n            const {\n                assignCompareListToCustomer: {\n                    result,\n                    compare_list,\n                    compare_list: {\n                        uid: newUid\n                    }\n                }\n            } = await fetchMutation(\n                ProductCompareQuery.getAssignCompareList(uid)\n            );\n\n            if (result) {\n                setUid(newUid);\n                dispatch(setCompareList(compare_list));\n            }\n\n            return result;\n        } catch (error) {\n            dispatch(toggleLoader(false));\n\n            return false;\n        }\n    }\n\n    async clearComparedProducts(dispatch) {\n        const uid = getUid();\n        if (!uid) {\n            return false;\n        }\n\n        dispatch(toggleLoader(true));\n\n        try {\n            const result = await fetchMutation(\n                ProductCompareQuery.getDeleteCompareList(uid)\n            );\n\n            removeUid();\n            dispatch(clearComparedProducts());\n            dispatch(showNotification('success', __('Compare list is cleared')));\n            dispatch(toggleLoader(false));\n\n            return result;\n        } catch (error) {\n            dispatch(toggleLoader(false));\n            dispatch(showNotification('error', __('Unable to clear product compare list'), error));\n            return false;\n        }\n    }\n\n    resetComparedProducts(dispatch) {\n        dispatch(clearComparedProducts());\n    }\n}\n\nexport default new ProductCompareDispatcher();\n"]},"metadata":{},"sourceType":"module"}