{"ast":null,"code":"var _jsxFileName = \"/home/marketihor/scandipwa/packages/scandipwa/src/component/Popup/Popup.container.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { POPUP } from \"/home/marketihor/scandipwa/packages/scandipwa/src/component/Header/Header.config\";\nimport { changeNavigationState, goToPreviousNavigationState } from \"/home/marketihor/scandipwa/packages/scandipwa/src/store/Navigation/Navigation.action\";\nimport { TOP_NAVIGATION_TYPE } from \"/home/marketihor/scandipwa/packages/scandipwa/src/store/Navigation/Navigation.reducer\";\nimport { hideActiveOverlay, hideActivePopup } from \"/home/marketihor/scandipwa/packages/scandipwa/src/store/Overlay/Overlay.action\";\nimport Popup from \"./Popup.component\";\n/** @namespace Component/Popup/Container/mapStateToProps */\n\nexport const mapStateToProps = middleware(function (state) {\n  return {\n    activeOverlay: state.OverlayReducer.activeOverlay,\n    areOtherOverlaysOpen: state.OverlayReducer.areOtherOverlaysOpen,\n    shouldPopupClose: state.PopupReducer.shouldPopupClose,\n    payload: state.PopupReducer.popupPayload,\n    device: state.ConfigReducer.device\n  };\n}, \"Component/Popup/Container/mapStateToProps\");\n/** @namespace Component/Popup/Container/mapDispatchToProps */\n\nexport const mapDispatchToProps = middleware(function (dispatch) {\n  return {\n    hideActiveOverlay: function () {\n      return dispatch(hideActiveOverlay());\n    },\n    resetHideActivePopup: function () {\n      return dispatch(hideActivePopup(false));\n    },\n    changeHeaderState: function (state) {\n      return dispatch(changeNavigationState(TOP_NAVIGATION_TYPE, state));\n    },\n    goToPreviousNavigationState: function (state) {\n      return dispatch(goToPreviousNavigationState(TOP_NAVIGATION_TYPE, state));\n    }\n  };\n}, \"Component/Popup/Container/mapDispatchToProps\");\n/** @namespace Component/Popup/Container */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport class _PopupContainer extends Extensible(PureComponent) {\n  constructor(...args) {\n    var _this;\n\n    super(...args);\n    _this = this;\n    this.containerFunctions = {\n      onVisible: this.onVisible.bind(this)\n    };\n\n    this.containerProps = function () {\n      return {\n        title: _this._getPopupTitle()\n      };\n    };\n  }\n\n  onVisible() {\n    const {\n      changeHeaderState,\n      onVisible\n    } = this.props;\n    changeHeaderState({\n      name: POPUP,\n      title: this._getPopupTitle(),\n      onCloseClick: function () {\n        history.back();\n      }\n    });\n    onVisible();\n  }\n\n  _getPopupTitle() {\n    const {\n      payload,\n      activeOverlay\n    } = this.props;\n    const {\n      title\n    } = payload[activeOverlay] || {};\n    return title;\n  }\n\n  render() {\n    return /*#__PURE__*/_checkBEM(React, Popup, Object.assign({}, this.props, this.containerProps(), this.containerFunctions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n_PopupContainer.propTypes = {\n  payload: PropTypes.objectOf(PropTypes.shape({\n    title: PropTypes.string\n  })).isRequired,\n  activeOverlay: PropTypes.string.isRequired,\n  goToPreviousNavigationState: PropTypes.func.isRequired,\n  changeHeaderState: PropTypes.func.isRequired,\n  onVisible: PropTypes.func,\n  onClose: PropTypes.func,\n  shouldPopupClose: PropTypes.bool.isRequired\n};\n_PopupContainer.defaultProps = {\n  onVisible: function () {},\n  onClose: function () {}\n};\nObject.defineProperty(_PopupContainer, 'name', {\n  value: 'PopupContainer'\n});\n\nexport const PopupContainer = middleware(_PopupContainer, \"Component/Popup/Container\");\nexport default connect(mapStateToProps, mapDispatchToProps)(PopupContainer);","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/Popup/Popup.container.js"],"names":["PropTypes","PureComponent","connect","POPUP","changeNavigationState","goToPreviousNavigationState","TOP_NAVIGATION_TYPE","hideActiveOverlay","hideActivePopup","Popup","mapStateToProps","state","activeOverlay","OverlayReducer","areOtherOverlaysOpen","shouldPopupClose","PopupReducer","payload","popupPayload","device","ConfigReducer","mapDispatchToProps","dispatch","resetHideActivePopup","changeHeaderState","PopupContainer","containerFunctions","onVisible","bind","containerProps","title","_getPopupTitle","props","name","onCloseClick","history","back","render","propTypes","objectOf","shape","string","isRequired","func","onClose","bool","defaultProps","Object","defineProperty","_PopupContainer","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { POPUP } from 'Component/Header/Header.config';\nimport { changeNavigationState, goToPreviousNavigationState } from 'Store/Navigation/Navigation.action';\nimport { TOP_NAVIGATION_TYPE } from 'Store/Navigation/Navigation.reducer';\nimport { hideActiveOverlay, hideActivePopup } from 'Store/Overlay/Overlay.action';\n\nimport Popup from './Popup.component';\n\n/** @namespace Component/Popup/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    activeOverlay: state.OverlayReducer.activeOverlay,\n    areOtherOverlaysOpen: state.OverlayReducer.areOtherOverlaysOpen,\n    shouldPopupClose: state.PopupReducer.shouldPopupClose,\n    payload: state.PopupReducer.popupPayload,\n    device: state.ConfigReducer.device\n});\n\n/** @namespace Component/Popup/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    hideActiveOverlay: () => dispatch(hideActiveOverlay()),\n    resetHideActivePopup: () => dispatch(hideActivePopup(false)),\n    changeHeaderState: (state) => dispatch(changeNavigationState(TOP_NAVIGATION_TYPE, state)),\n    goToPreviousNavigationState: (state) => dispatch(goToPreviousNavigationState(TOP_NAVIGATION_TYPE, state))\n});\n\n/** @namespace Component/Popup/Container */\nexport class PopupContainer extends PureComponent {\n    static propTypes = {\n        payload: PropTypes.objectOf(\n            PropTypes.shape({\n                title: PropTypes.string\n            })\n        ).isRequired,\n        activeOverlay: PropTypes.string.isRequired,\n        goToPreviousNavigationState: PropTypes.func.isRequired,\n        changeHeaderState: PropTypes.func.isRequired,\n        onVisible: PropTypes.func,\n        onClose: PropTypes.func,\n        shouldPopupClose: PropTypes.bool.isRequired\n    };\n\n    static defaultProps = {\n        onVisible: () => {},\n        onClose: () => {}\n    };\n\n    containerFunctions = {\n        onVisible: this.onVisible.bind(this)\n    };\n\n    onVisible() {\n        const { changeHeaderState, onVisible } = this.props;\n\n        changeHeaderState({\n            name: POPUP,\n            title: this._getPopupTitle(),\n            onCloseClick: () => {\n                history.back();\n            }\n        });\n\n        onVisible();\n    }\n\n    containerProps = () => ({\n        title: this._getPopupTitle()\n    });\n\n    _getPopupTitle() {\n        const { payload, activeOverlay } = this.props;\n        const { title } = payload[activeOverlay] || {};\n        return title;\n    }\n\n    render() {\n        return (\n            <Popup\n              { ...this.props }\n              { ...this.containerProps() }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PopupContainer);\n"]},"metadata":{},"sourceType":"module"}