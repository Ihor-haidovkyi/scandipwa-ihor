{"ast":null,"code":"import _defineProperty from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import CheckoutDeliveryOption from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/CheckoutDeliveryOption\";import StoreInPickUp from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/StoreInPickUp\";import{STORE_IN_PICK_UP_METHOD_CODE}from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/StoreInPickUp/StoreInPickUp.config\";import{addressType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Account\";import{shippingMethodsType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Checkout\";import\"./CheckoutDeliveryOptions.style\";/** @namespace Component/CheckoutDeliveryOptions/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _CheckoutDeliveryOptions=/*#__PURE__*/function(_Extensible){_inherits(_CheckoutDeliveryOptions,_Extensible);var _super=_createSuper(_CheckoutDeliveryOptions);function _CheckoutDeliveryOptions(){var _this;_classCallCheck(this,_CheckoutDeliveryOptions);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.shippingRenderMap=_defineProperty({},STORE_IN_PICK_UP_METHOD_CODE,_this.renderStoreInPickUp.bind(_assertThisInitialized(_this)));_this.renderDeliveryOption=function(option){var _this$props=_this.props,selectedShippingMethodCode=_this$props.selectedShippingMethodCode,selectShippingMethod=_this$props.selectShippingMethod;var method_code=option.method_code;var isSelected=selectedShippingMethodCode===method_code;return/*#__PURE__*/_checkBEM(React,CheckoutDeliveryOption,{key:method_code,isSelected:isSelected,option:option,onClick:selectShippingMethod});};return _this;}_createClass(_CheckoutDeliveryOptions,[{key:\"renderHeading\",value:function renderHeading(){return/*#__PURE__*/_checkBEM(React,\"h2\",{block:\"Checkout\",elem:\"Heading\"},__('Select shipping method'));}},{key:\"renderStoreInPickUp\",value:function renderStoreInPickUp(){var _this$props2=this.props,estimateAddress=_this$props2.estimateAddress,shippingMethods=_this$props2.shippingMethods,onStoreSelect=_this$props2.onStoreSelect,onShippingMethodSelect=_this$props2.onShippingMethodSelect,setSelectedShippingMethodCode=_this$props2.setSelectedShippingMethodCode;return/*#__PURE__*/_checkBEM(React,StoreInPickUp,{estimateAddress:estimateAddress,shippingMethods:shippingMethods,onStoreSelect:onStoreSelect,onShippingMethodSelect:onShippingMethodSelect,setSelectedShippingMethodCode:setSelectedShippingMethodCode});}},{key:\"renderNoDeliveryOptions\",value:function renderNoDeliveryOptions(){return/*#__PURE__*/_checkBEM(React,\"p\",{block:\"CheckoutDeliveryOptions\",elem:\"NoOptions\"},__('There are no shipping methods available, try different address.'));}},{key:\"renderShippingMethods\",value:function renderShippingMethods(){var shippingMethods=this.props.shippingMethods;if(!shippingMethods.length){return this.renderNoDeliveryOptions();}return shippingMethods.map(this.renderDeliveryOption);}},{key:\"renderSelectedShippingMethod\",value:function renderSelectedShippingMethod(){var selectedShippingMethodCode=this.props.selectedShippingMethodCode;var render=this.shippingRenderMap[selectedShippingMethodCode];if(!render){return null;}return render();}},{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"CheckoutDeliveryOptions\"},this.renderHeading(),/*#__PURE__*/_checkBEM(React,\"ul\",{block:\"CheckoutPayments\",elem:\"Methods\"},this.renderShippingMethods()),this.renderSelectedShippingMethod());}}]);return _CheckoutDeliveryOptions;}(Extensible(PureComponent));_CheckoutDeliveryOptions.defaultProps={selectedShippingMethodCode:null};Object.defineProperty(_CheckoutDeliveryOptions,'name',{value:'CheckoutDeliveryOptions'});export var CheckoutDeliveryOptions=middleware(_CheckoutDeliveryOptions,\"Component/CheckoutDeliveryOptions/Component\");export default CheckoutDeliveryOptions;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/CheckoutDeliveryOptions/CheckoutDeliveryOptions.component.js"],"names":["PureComponent","CheckoutDeliveryOption","StoreInPickUp","STORE_IN_PICK_UP_METHOD_CODE","addressType","shippingMethodsType","CheckoutDeliveryOptions","shippingRenderMap","renderStoreInPickUp","bind","renderDeliveryOption","option","props","selectedShippingMethodCode","selectShippingMethod","method_code","isSelected","__","estimateAddress","shippingMethods","onStoreSelect","onShippingMethodSelect","setSelectedShippingMethodCode","length","renderNoDeliveryOptions","map","render","renderHeading","renderShippingMethods","renderSelectedShippingMethod","defaultProps","Object","defineProperty","_CheckoutDeliveryOptions","value"],"mappings":"w2BAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAGA,OAASA,aAAT,KAA8B,OAA9B,CAEA,MAAOC,CAAAA,sBAAP,0FACA,MAAOC,CAAAA,aAAP,iFACA,OAASC,4BAAT,sGACA,OAASC,WAAT,sEACA,OAASC,mBAAT,uEAEA,wCAEA,6D,wEACA,UAAaC,CAAAA,wBAAb,qYAeIC,iBAfJ,oBAgBSJ,4BAhBT,CAgBwC,MAAKK,mBAAL,CAAyBC,IAAzB,+BAhBxC,QA+CIC,oBA/CJ,CA+C2B,SAACC,MAAD,CAAY,iBAI3B,MAAKC,KAJsB,CAE3BC,0BAF2B,aAE3BA,0BAF2B,CAG3BC,oBAH2B,aAG3BA,oBAH2B,IAMvBC,CAAAA,WANuB,CAMPJ,MANO,CAMvBI,WANuB,CAO/B,GAAMC,CAAAA,UAAU,CAAGH,0BAA0B,GAAKE,WAAlD,CAEA,mCACK,sBADL,EAEM,GAAG,CAAGA,WAFZ,CAGM,UAAU,CAAGC,UAHnB,CAIM,MAAM,CAAGL,MAJf,CAKM,OAAO,CAAGG,oBALhB,GAQH,CAhEL,iFAmBI,wBAAgB,CACZ,yCACQ,KAAK,CAAC,UADd,CACyB,IAAI,CAAC,SAD9B,EAEUG,EAAE,CAAC,wBAAD,CAFZ,EAKH,CAzBL,mCA2BI,8BAAsB,kBAOd,KAAKL,KAPS,CAEdM,eAFc,cAEdA,eAFc,CAGdC,eAHc,cAGdA,eAHc,CAIdC,aAJc,cAIdA,aAJc,CAKdC,sBALc,cAKdA,sBALc,CAMdC,6BANc,cAMdA,6BANc,CASlB,mCACK,aADL,EAEM,eAAe,CAAGJ,eAFxB,CAGM,eAAe,CAAGC,eAHxB,CAIM,aAAa,CAAGC,aAJtB,CAKM,sBAAsB,CAAGC,sBAL/B,CAMM,6BAA6B,CAAGC,6BANtC,GASH,CA7CL,uCAkEI,kCAA0B,CACtB,wCACO,KAAK,CAAC,yBADb,CACuC,IAAI,CAAC,WAD5C,EAEUL,EAAE,CAAC,iEAAD,CAFZ,EAKH,CAxEL,qCA0EI,gCAAwB,IACZE,CAAAA,eADY,CACQ,KAAKP,KADb,CACZO,eADY,CAEpB,GAAI,CAACA,eAAe,CAACI,MAArB,CAA6B,CACzB,MAAO,MAAKC,uBAAL,EAAP,CACH,CAED,MAAOL,CAAAA,eAAe,CAACM,GAAhB,CAAoB,KAAKf,oBAAzB,CAAP,CACH,CAjFL,4CAmFI,uCAA+B,IACnBG,CAAAA,0BADmB,CACY,KAAKD,KADjB,CACnBC,0BADmB,CAE3B,GAAMa,CAAAA,MAAM,CAAG,KAAKnB,iBAAL,CAAuBM,0BAAvB,CAAf,CACA,GAAI,CAACa,MAAL,CAAa,CACT,MAAO,KAAP,CACH,CAED,MAAOA,CAAAA,MAAM,EAAb,CACH,CA3FL,sBA6FI,iBAAS,CACL,0CACS,KAAK,CAAC,yBADf,EAEU,KAAKC,aAAL,EAFV,oCAGY,KAAK,CAAC,kBAHlB,CAGqC,IAAI,CAAC,SAH1C,EAIc,KAAKC,qBAAL,EAJd,EAMU,KAAKC,4BAAL,EANV,EASH,CAvGL,iEAAavB,wB,CAWFwB,Y,CAAe,CAClBjB,0BAA0B,CAAE,IADV,C,CAlC1BkB,MAAM,CAACC,cAAP,CAAsBC,wBAAtB,CAAgD,MAAhD,CAAwD,CAAEC,KAAK,CAAE,yBAAT,CAAxD,E,sHAiIA,cAAe5B,CAAAA,uBAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport CheckoutDeliveryOption from 'Component/CheckoutDeliveryOption';\nimport StoreInPickUp from 'Component/StoreInPickUp';\nimport { STORE_IN_PICK_UP_METHOD_CODE } from 'Component/StoreInPickUp/StoreInPickUp.config';\nimport { addressType } from 'Type/Account';\nimport { shippingMethodsType } from 'Type/Checkout';\n\nimport './CheckoutDeliveryOptions.style';\n\n/** @namespace Component/CheckoutDeliveryOptions/Component */\nexport class CheckoutDeliveryOptions extends PureComponent {\n    static propTypes = {\n        shippingMethods: shippingMethodsType.isRequired,\n        selectShippingMethod: PropTypes.func.isRequired,\n        onStoreSelect: PropTypes.func.isRequired,\n        onShippingMethodSelect: PropTypes.func.isRequired,\n        setSelectedShippingMethodCode: PropTypes.func.isRequired,\n        selectedShippingMethodCode: PropTypes.string,\n        estimateAddress: addressType.isRequired\n    };\n\n    static defaultProps = {\n        selectedShippingMethodCode: null\n    };\n\n    shippingRenderMap = {\n        [STORE_IN_PICK_UP_METHOD_CODE]: this.renderStoreInPickUp.bind(this)\n    };\n\n    renderHeading() {\n        return (\n            <h2 block=\"Checkout\" elem=\"Heading\">\n                { __('Select shipping method') }\n            </h2>\n        );\n    }\n\n    renderStoreInPickUp() {\n        const {\n            estimateAddress,\n            shippingMethods,\n            onStoreSelect,\n            onShippingMethodSelect,\n            setSelectedShippingMethodCode\n        } = this.props;\n\n        return (\n            <StoreInPickUp\n              estimateAddress={ estimateAddress }\n              shippingMethods={ shippingMethods }\n              onStoreSelect={ onStoreSelect }\n              onShippingMethodSelect={ onShippingMethodSelect }\n              setSelectedShippingMethodCode={ setSelectedShippingMethodCode }\n            />\n        );\n    }\n\n    renderDeliveryOption = (option) => {\n        const {\n            selectedShippingMethodCode,\n            selectShippingMethod\n        } = this.props;\n\n        const { method_code } = option;\n        const isSelected = selectedShippingMethodCode === method_code;\n\n        return (\n            <CheckoutDeliveryOption\n              key={ method_code }\n              isSelected={ isSelected }\n              option={ option }\n              onClick={ selectShippingMethod }\n            />\n        );\n    };\n\n    renderNoDeliveryOptions() {\n        return (\n            <p block=\"CheckoutDeliveryOptions\" elem=\"NoOptions\">\n                { __('There are no shipping methods available, try different address.') }\n            </p>\n        );\n    }\n\n    renderShippingMethods() {\n        const { shippingMethods } = this.props;\n        if (!shippingMethods.length) {\n            return this.renderNoDeliveryOptions();\n        }\n\n        return shippingMethods.map(this.renderDeliveryOption);\n    }\n\n    renderSelectedShippingMethod() {\n        const { selectedShippingMethodCode } = this.props;\n        const render = this.shippingRenderMap[selectedShippingMethodCode];\n        if (!render) {\n            return null;\n        }\n\n        return render();\n    }\n\n    render() {\n        return (\n            <div block=\"CheckoutDeliveryOptions\">\n                { this.renderHeading() }\n                <ul block=\"CheckoutPayments\" elem=\"Methods\">\n                    { this.renderShippingMethods() }\n                </ul>\n                { this.renderSelectedShippingMethod() }\n            </div>\n        );\n    }\n}\n\nexport default CheckoutDeliveryOptions;\n"]},"metadata":{},"sourceType":"module"}