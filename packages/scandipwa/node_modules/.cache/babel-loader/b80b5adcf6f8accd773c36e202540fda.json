{"ast":null,"code":"import _defineProperty from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import{CART_OVERLAY}from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Header/Header.config\";import Loader from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Loader\";import{CUSTOMER_ACCOUNT_OVERLAY_KEY}from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountOverlay/MyAccountOverlay.config\";import Overlay from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Overlay\";import{OVERLAY_PLACEHOLDER}from\"./PopupSuspense.config\";import\"./PopupSuspense.style\";// Import styles from different bundles\nimport\"/home/marketihor/scandipwa/packages/scandipwa/src/component/CartOverlay/CartOverlay.style\";import\"/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountOverlay/MyAccountOverlay.style\";/** @namespace Component/PopupSuspense/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _PopupSuspense=/*#__PURE__*/function(_Extensible){_inherits(_PopupSuspense,_Extensible);var _super=_createSuper(_PopupSuspense);function _PopupSuspense(){var _this$styleMap;var _this;_classCallCheck(this,_PopupSuspense);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.styleMap=(_this$styleMap={},_defineProperty(_this$styleMap,CART_OVERLAY,'CartOverlay'),_defineProperty(_this$styleMap,CUSTOMER_ACCOUNT_OVERLAY_KEY,'MyAccountOverlay'),_this$styleMap);return _this;}_createClass(_PopupSuspense,[{key:\"componentDidMount\",value:function componentDidMount(){var showOverlay=this.props.showOverlay;showOverlay(OVERLAY_PLACEHOLDER);}},{key:\"handleNoStyle\",value:function handleNoStyle(){var actualOverlayKey=this.props.actualOverlayKey;throw new Error(\"Please, provide a class in the stylemap for overlay \".concat(actualOverlayKey,\" and import its style here.\"));}},{key:\"render\",value:function render(){var _this$props=this.props,onVisible=_this$props.onVisible,actualOverlayKey=_this$props.actualOverlayKey;var block=this.styleMap[actualOverlayKey];if(!block){this.handleNoStyle();}return/*#__PURE__*/_checkBEM(React,Overlay,{id:OVERLAY_PLACEHOLDER,onVisible:onVisible,mix:{block:block,mix:{block:'PopupSuspense'}}},/*#__PURE__*/_checkBEM(React,Loader,{isLoading:true}));}}]);return _PopupSuspense;}(Extensible(PureComponent));_PopupSuspense.defaultProps={onVisible:function onVisible(){}};Object.defineProperty(_PopupSuspense,'name',{value:'PopupSuspense'});export var PopupSuspense=middleware(_PopupSuspense,\"Component/PopupSuspense/Component\");export default PopupSuspense;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/PopupSuspense/PopupSuspense.component.js"],"names":["PureComponent","CART_OVERLAY","Loader","CUSTOMER_ACCOUNT_OVERLAY_KEY","Overlay","OVERLAY_PLACEHOLDER","PopupSuspense","styleMap","showOverlay","props","actualOverlayKey","Error","onVisible","block","handleNoStyle","mix","defaultProps","Object","defineProperty","_PopupSuspense","value"],"mappings":"usBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,OAASA,aAAT,KAA8B,OAA9B,CAEA,OAASC,YAAT,wFACA,MAAOC,CAAAA,MAAP,0EACA,OAASC,4BAAT,4GACA,MAAOC,CAAAA,OAAP,2EAEA,OAASC,mBAAT,8BAEA,8BACA;AACA,kGACA,4GAEA,mD,wEACA,UAAaC,CAAAA,cAAb,gXAcIC,QAdJ,mDAeSN,YAfT,CAewB,aAfxB,iCAgBSE,4BAhBT,CAgBwC,kBAhBxC,4FAmBI,4BAAoB,IACRK,CAAAA,WADQ,CACQ,KAAKC,KADb,CACRD,WADQ,CAGhBA,WAAW,CAACH,mBAAD,CAAX,CACH,CAvBL,6BAyBI,wBAAgB,IACJK,CAAAA,gBADI,CACiB,KAAKD,KADtB,CACJC,gBADI,CAGZ,KAAM,IAAIC,CAAAA,KAAJ,+DACqDD,gBADrD,gCAAN,CAGH,CA/BL,sBAiCI,iBAAS,iBAID,KAAKD,KAJJ,CAEDG,SAFC,aAEDA,SAFC,CAGDF,gBAHC,aAGDA,gBAHC,CAML,GAAMG,CAAAA,KAAK,CAAG,KAAKN,QAAL,CAAcG,gBAAd,CAAd,CACA,GAAI,CAACG,KAAL,CAAY,CACR,KAAKC,aAAL,GACH,CAED,mCACK,OADL,EAEM,EAAE,CAAGT,mBAFX,CAGM,SAAS,CAAGO,SAHlB,CAIM,GAAG,CAAG,CAAEC,KAAK,CAALA,KAAF,CAASE,GAAG,CAAE,CAAEF,KAAK,CAAE,eAAT,CAAd,CAJZ,+BAMS,MANT,EAMgB,SAAS,KANzB,IASH,CArDL,uDAAaP,c,CAUFU,Y,CAAe,CAClBJ,SAAS,CAAE,oBAAM,CAAE,CADD,C,CApC1BK,MAAM,CAACC,cAAP,CAAsBC,cAAtB,CAAsC,MAAtC,CAA8C,CAAEC,KAAK,CAAE,eAAT,CAA9C,E,wFAkFA,cAAed,CAAAA,aAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { CART_OVERLAY } from 'Component/Header/Header.config';\nimport Loader from 'Component/Loader';\nimport { CUSTOMER_ACCOUNT_OVERLAY_KEY } from 'Component/MyAccountOverlay/MyAccountOverlay.config';\nimport Overlay from 'Component/Overlay';\n\nimport { OVERLAY_PLACEHOLDER } from './PopupSuspense.config';\n\nimport './PopupSuspense.style';\n// Import styles from different bundles\nimport 'Component/CartOverlay/CartOverlay.style';\nimport 'Component/MyAccountOverlay/MyAccountOverlay.style';\n\n/** @namespace Component/PopupSuspense/Component */\nexport class PopupSuspense extends PureComponent {\n    static propTypes = {\n        /** Passed props */\n        onVisible: PropTypes.func,\n        actualOverlayKey: PropTypes.string.isRequired,\n\n        /** Props from global state */\n        showOverlay: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        onVisible: () => {}\n    };\n\n    styleMap = {\n        [CART_OVERLAY]: 'CartOverlay',\n        [CUSTOMER_ACCOUNT_OVERLAY_KEY]: 'MyAccountOverlay'\n    };\n\n    componentDidMount() {\n        const { showOverlay } = this.props;\n\n        showOverlay(OVERLAY_PLACEHOLDER);\n    }\n\n    handleNoStyle() {\n        const { actualOverlayKey } = this.props;\n\n        throw new Error(\n            `Please, provide a class in the stylemap for overlay ${actualOverlayKey} and import its style here.`\n        );\n    }\n\n    render() {\n        const {\n            onVisible,\n            actualOverlayKey\n        } = this.props;\n\n        const block = this.styleMap[actualOverlayKey];\n        if (!block) {\n            this.handleNoStyle();\n        }\n\n        return (\n            <Overlay\n              id={ OVERLAY_PLACEHOLDER }\n              onVisible={ onVisible }\n              mix={ { block, mix: { block: 'PopupSuspense' } } }\n            >\n                <Loader isLoading />\n            </Overlay>\n        );\n    }\n}\n\nexport default PopupSuspense;\n"]},"metadata":{},"sourceType":"module"}