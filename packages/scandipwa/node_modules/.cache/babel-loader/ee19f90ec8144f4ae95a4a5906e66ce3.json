{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var t = _ref.types;\n  return {\n    visitor: {\n      Program: {\n        exit: function exit(globalPath) {\n          var checkBEMIdentifier = globalPath.scope.generateUidIdentifier('checkBEM');\n          var isCheckBEMInserted = false;\n          globalPath.traverse({\n            CallExpression: function CallExpression(path) {\n              if (t.isMemberExpression(path.node.callee) && t.isIdentifier(path.node.callee.object, {\n                name: 'React'\n              }) && t.isIdentifier(path.node.callee.property, {\n                name: 'createElement'\n              })) {\n                if (!isCheckBEMInserted) {\n                  var topPath = findTopPath(path, globalPath);\n                  topPath.insertBefore(checkBEMExternal(t, checkBEMIdentifier));\n                  isCheckBEMInserted = true;\n                }\n\n                path.replaceWith(t.callExpression(checkBEMIdentifier, [t.identifier('React')].concat(path.node.arguments)));\n              }\n            }\n          });\n        }\n      }\n    }\n  };\n};\n\nexports.checkBEMProps = checkBEMProps;\n\nvar _rebemClassname = require('rebem-classname'); // finds direct children of globalPath\n\n\nfunction findTopPath(path, globalPath) {\n  if (path.parentPath === globalPath) {\n    return path;\n  }\n\n  return findTopPath(path.parentPath, globalPath);\n}\n/*\nTODO: investigate why ES6 module import (below) doesn't create variable [UID] declaration\n[UID] is a generated scopedIdentifier — to avoid names collision\n\n    var [UID] = require('babel-plugin-transform-rebem-jsx').checkBEMProps;\n\n*/\n\n\nfunction checkBEMExternal(t, scopedIdentifier) {\n  return t.variableDeclaration('var', [t.variableDeclarator(scopedIdentifier, t.memberExpression(t.callExpression(t.identifier('require'), [t.stringLiteral('babel-plugin-transform-rebem-jsx')]), t.identifier('checkBEMProps')))]);\n}\n\nvar BEMProps = ['tag', 'block', 'elem', 'mods', 'mix', 'className'];\nvar buildClassName = _rebemClassname.stringify; // validation\n// istanbul ignore next\n\nif (process.env.NODE_ENV !== 'production') {\n  buildClassName = function buildClassName(props) {\n    return (0, _rebemClassname.stringify)((0, _rebemClassname.validate)(props));\n  };\n} // External helper for transforming BEM props into className\n\n/* eslint-disable */\n\n\nfunction checkBEMProps(React, element, props) {\n  var finalProps = props;\n\n  if (props && typeof element === 'string') {\n    var className = buildClassName(props);\n    var keyIndex;\n    var key;\n    var propsKeys = Object.keys(props);\n    var propsLength = propsKeys.length;\n    finalProps = {};\n\n    for (keyIndex = 0; keyIndex < propsLength; keyIndex++) {\n      key = propsKeys[keyIndex];\n\n      if (BEMProps.indexOf(key) === -1) {\n        finalProps[key] = props[key];\n      }\n    }\n\n    if (className) {\n      finalProps.className = className;\n    }\n  }\n\n  return React.createElement.apply(React, [element, finalProps].concat([].slice.call(arguments, 3)));\n}\n/* eslint-enable */","map":{"version":3,"sources":["/home/marketihor/scandipwa/node_modules/babel-plugin-transform-rebem-jsx/build/index.js"],"names":["Object","defineProperty","exports","value","default","_ref","t","types","visitor","Program","exit","globalPath","checkBEMIdentifier","scope","generateUidIdentifier","isCheckBEMInserted","traverse","CallExpression","path","isMemberExpression","node","callee","isIdentifier","object","name","property","topPath","findTopPath","insertBefore","checkBEMExternal","replaceWith","callExpression","identifier","concat","arguments","checkBEMProps","_rebemClassname","require","parentPath","scopedIdentifier","variableDeclaration","variableDeclarator","memberExpression","stringLiteral","BEMProps","buildClassName","stringify","process","env","NODE_ENV","props","validate","React","element","finalProps","className","keyIndex","key","propsKeys","keys","propsLength","length","indexOf","createElement","apply","slice","call"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,EAAAA,KAAK,EAAE;AADkC,CAA7C;;AAIAD,OAAO,CAACE,OAAR,GAAkB,UAAUC,IAAV,EAAgB;AAC9B,MAAIC,CAAC,GAAGD,IAAI,CAACE,KAAb;AAEA,SAAO;AACHC,IAAAA,OAAO,EAAE;AACLC,MAAAA,OAAO,EAAE;AACLC,QAAAA,IAAI,EAAE,SAASA,IAAT,CAAcC,UAAd,EAA0B;AAC5B,cAAIC,kBAAkB,GAAGD,UAAU,CAACE,KAAX,CAAiBC,qBAAjB,CAAuC,UAAvC,CAAzB;AACA,cAAIC,kBAAkB,GAAG,KAAzB;AAEAJ,UAAAA,UAAU,CAACK,QAAX,CAAoB;AAChBC,YAAAA,cAAc,EAAE,SAASA,cAAT,CAAwBC,IAAxB,EAA8B;AAC1C,kBAAIZ,CAAC,CAACa,kBAAF,CAAqBD,IAAI,CAACE,IAAL,CAAUC,MAA/B,KAA0Cf,CAAC,CAACgB,YAAF,CAAeJ,IAAI,CAACE,IAAL,CAAUC,MAAV,CAAiBE,MAAhC,EAAwC;AAAEC,gBAAAA,IAAI,EAAE;AAAR,eAAxC,CAA1C,IAAwGlB,CAAC,CAACgB,YAAF,CAAeJ,IAAI,CAACE,IAAL,CAAUC,MAAV,CAAiBI,QAAhC,EAA0C;AAAED,gBAAAA,IAAI,EAAE;AAAR,eAA1C,CAA5G,EAAkL;AAC9K,oBAAI,CAACT,kBAAL,EAAyB;AACrB,sBAAIW,OAAO,GAAGC,WAAW,CAACT,IAAD,EAAOP,UAAP,CAAzB;AAEAe,kBAAAA,OAAO,CAACE,YAAR,CAAqBC,gBAAgB,CAACvB,CAAD,EAAIM,kBAAJ,CAArC;AAEAG,kBAAAA,kBAAkB,GAAG,IAArB;AACH;;AACDG,gBAAAA,IAAI,CAACY,WAAL,CAAiBxB,CAAC,CAACyB,cAAF,CAAiBnB,kBAAjB,EAAqC,CAACN,CAAC,CAAC0B,UAAF,CAAa,OAAb,CAAD,EAAwBC,MAAxB,CAA+Bf,IAAI,CAACE,IAAL,CAAUc,SAAzC,CAArC,CAAjB;AACH;AACJ;AAZe,WAApB;AAcH;AAnBI;AADJ;AADN,GAAP;AAyBH,CA5BD;;AA8BAhC,OAAO,CAACiC,aAAR,GAAwBA,aAAxB;;AAEA,IAAIC,eAAe,GAAGC,OAAO,CAAC,iBAAD,CAA7B,C,CAEA;;;AACA,SAASV,WAAT,CAAqBT,IAArB,EAA2BP,UAA3B,EAAuC;AACnC,MAAIO,IAAI,CAACoB,UAAL,KAAoB3B,UAAxB,EAAoC;AAChC,WAAOO,IAAP;AACH;;AAED,SAAOS,WAAW,CAACT,IAAI,CAACoB,UAAN,EAAkB3B,UAAlB,CAAlB;AACH;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASkB,gBAAT,CAA0BvB,CAA1B,EAA6BiC,gBAA7B,EAA+C;AAC3C,SAAOjC,CAAC,CAACkC,mBAAF,CAAsB,KAAtB,EAA6B,CAAClC,CAAC,CAACmC,kBAAF,CAAqBF,gBAArB,EAAuCjC,CAAC,CAACoC,gBAAF,CAAmBpC,CAAC,CAACyB,cAAF,CAAiBzB,CAAC,CAAC0B,UAAF,CAAa,SAAb,CAAjB,EAA0C,CAAC1B,CAAC,CAACqC,aAAF,CAAgB,kCAAhB,CAAD,CAA1C,CAAnB,EAAqHrC,CAAC,CAAC0B,UAAF,CAAa,eAAb,CAArH,CAAvC,CAAD,CAA7B,CAAP;AACH;;AAED,IAAIY,QAAQ,GAAG,CAAC,KAAD,EAAQ,OAAR,EAAiB,MAAjB,EAAyB,MAAzB,EAAiC,KAAjC,EAAwC,WAAxC,CAAf;AACA,IAAIC,cAAc,GAAGT,eAAe,CAACU,SAArC,C,CAEA;AACA;;AACA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACvCJ,EAAAA,cAAc,GAAG,SAASA,cAAT,CAAwBK,KAAxB,EAA+B;AAC5C,WAAO,CAAC,GAAGd,eAAe,CAACU,SAApB,EAA+B,CAAC,GAAGV,eAAe,CAACe,QAApB,EAA8BD,KAA9B,CAA/B,CAAP;AACH,GAFD;AAGH,C,CAED;;AACA;;;AACA,SAASf,aAAT,CAAuBiB,KAAvB,EAA8BC,OAA9B,EAAuCH,KAAvC,EAA8C;AAC1C,MAAII,UAAU,GAAGJ,KAAjB;;AAEA,MAAIA,KAAK,IAAI,OAAOG,OAAP,KAAmB,QAAhC,EAA0C;AACtC,QAAIE,SAAS,GAAGV,cAAc,CAACK,KAAD,CAA9B;AACA,QAAIM,QAAJ;AACA,QAAIC,GAAJ;AACA,QAAIC,SAAS,GAAG1D,MAAM,CAAC2D,IAAP,CAAYT,KAAZ,CAAhB;AACA,QAAIU,WAAW,GAAGF,SAAS,CAACG,MAA5B;AAEAP,IAAAA,UAAU,GAAG,EAAb;;AACA,SAAKE,QAAQ,GAAG,CAAhB,EAAmBA,QAAQ,GAAGI,WAA9B,EAA2CJ,QAAQ,EAAnD,EAAuD;AACnDC,MAAAA,GAAG,GAAGC,SAAS,CAACF,QAAD,CAAf;;AAEA,UAAIZ,QAAQ,CAACkB,OAAT,CAAiBL,GAAjB,MAA0B,CAAC,CAA/B,EAAkC;AAC9BH,QAAAA,UAAU,CAACG,GAAD,CAAV,GAAkBP,KAAK,CAACO,GAAD,CAAvB;AACH;AACJ;;AAED,QAAIF,SAAJ,EAAe;AACXD,MAAAA,UAAU,CAACC,SAAX,GAAuBA,SAAvB;AACH;AACJ;;AAED,SAAOH,KAAK,CAACW,aAAN,CAAoBC,KAApB,CAA0BZ,KAA1B,EAAiC,CAACC,OAAD,EAAUC,UAAV,EAAsBrB,MAAtB,CAA6B,GAAGgC,KAAH,CAASC,IAAT,CAAchC,SAAd,EAAyB,CAAzB,CAA7B,CAAjC,CAAP;AACH;AACD","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (_ref) {\n    var t = _ref.types;\n\n    return {\n        visitor: {\n            Program: {\n                exit: function exit(globalPath) {\n                    var checkBEMIdentifier = globalPath.scope.generateUidIdentifier('checkBEM');\n                    var isCheckBEMInserted = false;\n\n                    globalPath.traverse({\n                        CallExpression: function CallExpression(path) {\n                            if (t.isMemberExpression(path.node.callee) && t.isIdentifier(path.node.callee.object, { name: 'React' }) && t.isIdentifier(path.node.callee.property, { name: 'createElement' })) {\n                                if (!isCheckBEMInserted) {\n                                    var topPath = findTopPath(path, globalPath);\n\n                                    topPath.insertBefore(checkBEMExternal(t, checkBEMIdentifier));\n\n                                    isCheckBEMInserted = true;\n                                }\n                                path.replaceWith(t.callExpression(checkBEMIdentifier, [t.identifier('React')].concat(path.node.arguments)));\n                            }\n                        }\n                    });\n                }\n            }\n        }\n    };\n};\n\nexports.checkBEMProps = checkBEMProps;\n\nvar _rebemClassname = require('rebem-classname');\n\n// finds direct children of globalPath\nfunction findTopPath(path, globalPath) {\n    if (path.parentPath === globalPath) {\n        return path;\n    }\n\n    return findTopPath(path.parentPath, globalPath);\n}\n\n/*\nTODO: investigate why ES6 module import (below) doesn't create variable [UID] declaration\n[UID] is a generated scopedIdentifier — to avoid names collision\n\n    var [UID] = require('babel-plugin-transform-rebem-jsx').checkBEMProps;\n\n*/\nfunction checkBEMExternal(t, scopedIdentifier) {\n    return t.variableDeclaration('var', [t.variableDeclarator(scopedIdentifier, t.memberExpression(t.callExpression(t.identifier('require'), [t.stringLiteral('babel-plugin-transform-rebem-jsx')]), t.identifier('checkBEMProps')))]);\n}\n\nvar BEMProps = ['tag', 'block', 'elem', 'mods', 'mix', 'className'];\nvar buildClassName = _rebemClassname.stringify;\n\n// validation\n// istanbul ignore next\nif (process.env.NODE_ENV !== 'production') {\n    buildClassName = function buildClassName(props) {\n        return (0, _rebemClassname.stringify)((0, _rebemClassname.validate)(props));\n    };\n}\n\n// External helper for transforming BEM props into className\n/* eslint-disable */\nfunction checkBEMProps(React, element, props) {\n    var finalProps = props;\n\n    if (props && typeof element === 'string') {\n        var className = buildClassName(props);\n        var keyIndex;\n        var key;\n        var propsKeys = Object.keys(props);\n        var propsLength = propsKeys.length;\n\n        finalProps = {};\n        for (keyIndex = 0; keyIndex < propsLength; keyIndex++) {\n            key = propsKeys[keyIndex];\n\n            if (BEMProps.indexOf(key) === -1) {\n                finalProps[key] = props[key];\n            }\n        }\n\n        if (className) {\n            finalProps.className = className;\n        }\n    }\n\n    return React.createElement.apply(React, [element, finalProps].concat([].slice.call(arguments, 3)));\n}\n/* eslint-enable */"]},"metadata":{},"sourceType":"module"}