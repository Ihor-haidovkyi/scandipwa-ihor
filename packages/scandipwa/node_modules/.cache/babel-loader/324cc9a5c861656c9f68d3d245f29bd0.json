{"ast":null,"code":"import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{connect}from'react-redux';// eslint-disable-next-line max-len\nimport ProductConfigurableAttributesContainer from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductConfigurableAttributes/ProductConfigurableAttributes.container\";import CategoryConfigurableAttributes from\"./CategoryConfigurableAttributes.component\";/** @namespace Component/CategoryConfigurableAttributes/Container/mapStateToProps */export var mapStateToProps=middleware(function(state){return{currency_code:state.ConfigReducer.currencyData.current_currency_code,show_product_count:state.ConfigReducer.layered_navigation_product_count_enabled,childrenCategories:state.CategoryReducer.category.children};},\"Component/CategoryConfigurableAttributes/Container/mapStateToProps\");/** @namespace Component/CategoryConfigurableAttributes/Container */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _CategoryConfigurableAttributesContainer=/*#__PURE__*/function(_Extensible){_inherits(_CategoryConfigurableAttributesContainer,_Extensible);var _super=_createSuper(_CategoryConfigurableAttributesContainer);function _CategoryConfigurableAttributesContainer(){var _this;_classCallCheck(this,_CategoryConfigurableAttributesContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.containerFunctions=_objectSpread(_objectSpread({},_this.containerFunctions),{},{getSubCategories:_this.getSubCategories.bind(_assertThisInitialized(_this))});return _this;}_createClass(_CategoryConfigurableAttributesContainer,[{key:\"getSubCategories\",value:function getSubCategories(option){var optionWithSubcategories=_objectSpread({},option);var childrenCategories=this.props.childrenCategories;var attribute_values=option.attribute_values;var childrenCategoryIds=childrenCategories.map(function(category){return category.id.toString();});var subCategoriesIds=attribute_values.filter(function(item){return childrenCategoryIds.includes(item);});optionWithSubcategories.attribute_values=subCategoriesIds;return optionWithSubcategories;}},{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,CategoryConfigurableAttributes,Object.assign({},this.props,this.containerFunctions));}}]);return _CategoryConfigurableAttributesContainer;}(Extensible(ProductConfigurableAttributesContainer));/** @namespace Component/CategoryConfigurableAttributes/Container/mapDispatchToProps */ // eslint-disable-next-line no-unused-vars\nObject.defineProperty(_CategoryConfigurableAttributesContainer,'name',{value:'CategoryConfigurableAttributesContainer'});export var CategoryConfigurableAttributesContainer=middleware(_CategoryConfigurableAttributesContainer,\"Component/CategoryConfigurableAttributes/Container\");export var mapDispatchToProps=middleware(function(dispatch){return{};},\"Component/CategoryConfigurableAttributes/Container/mapDispatchToProps\");export default connect(mapStateToProps,mapDispatchToProps)(CategoryConfigurableAttributesContainer);","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/CategoryConfigurableAttributes/CategoryConfigurableAttributes.container.js"],"names":["connect","ProductConfigurableAttributesContainer","CategoryConfigurableAttributes","mapStateToProps","state","currency_code","ConfigReducer","currencyData","current_currency_code","show_product_count","layered_navigation_product_count_enabled","childrenCategories","CategoryReducer","category","children","CategoryConfigurableAttributesContainer","containerFunctions","getSubCategories","bind","option","optionWithSubcategories","props","attribute_values","childrenCategoryIds","map","id","toString","subCategoriesIds","filter","item","includes","Object","defineProperty","_CategoryConfigurableAttributesContainer","value","mapDispatchToProps","dispatch"],"mappings":"q2BAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,OAASA,OAAT,KAAwB,aAAxB,CAEA;AACA,MAAOC,CAAAA,sCAAP,yIAEA,MAAOC,CAAAA,8BAAP,kDAEA,oFACA,MAAO,IAAMC,CAAAA,eAAe,YAAG,SAACC,KAAD,QAAY,CACvCC,aAAa,CAAED,KAAK,CAACE,aAAN,CAAoBC,YAApB,CAAiCC,qBADT,CAEvCC,kBAAkB,CAAEL,KAAK,CAACE,aAAN,CAAoBI,wCAFD,CAGvCC,kBAAkB,CAAEP,KAAK,CAACQ,eAAN,CAAsBC,QAAtB,CAA+BC,QAHZ,CAAZ,EAAH,sEAArB,CAMP,oE,wEACA,UAAaC,CAAAA,wCAAb,qcACIC,kBADJ,gCAEW,MAAKA,kBAFhB,MAGQC,gBAAgB,CAAE,MAAKA,gBAAL,CAAsBC,IAAtB,+BAH1B,sGAMI,0BAAiBC,MAAjB,CAAyB,CACrB,GAAMC,CAAAA,uBAAuB,kBAAQD,MAAR,CAA7B,CADqB,GAEbR,CAAAA,kBAFa,CAEU,KAAKU,KAFf,CAEbV,kBAFa,IAGbW,CAAAA,gBAHa,CAGQH,MAHR,CAGbG,gBAHa,CAIrB,GAAMC,CAAAA,mBAAmB,CAAGZ,kBAAkB,CAACa,GAAnB,CAAuB,SAACX,QAAD,QAAcA,CAAAA,QAAQ,CAACY,EAAT,CAAYC,QAAZ,EAAd,EAAvB,CAA5B,CACA,GAAMC,CAAAA,gBAAgB,CAAGL,gBAAgB,CAACM,MAAjB,CAAwB,SAACC,IAAD,QAAUN,CAAAA,mBAAmB,CAACO,QAApB,CAA6BD,IAA7B,CAAV,EAAxB,CAAzB,CACAT,uBAAuB,CAACE,gBAAxB,CAA2CK,gBAA3C,CAEA,MAAOP,CAAAA,uBAAP,CACH,CAfL,sBAiBI,iBAAS,CACL,mCACK,8BADL,kBAEW,KAAKC,KAFhB,CAGW,KAAKL,kBAHhB,GAMH,CAxBL,0GA2BA,uF,CACA;AAtDAe,MAAM,CAACC,cAAP,CAAsBC,wCAAtB,CAAgE,MAAhE,CAAwE,CAAEC,KAAK,CAAE,yCAAT,CAAxE,E,6JAuDA,MAAO,IAAMC,CAAAA,kBAAkB,YAAG,SAACC,QAAD,QAAe,EAAf,EAAH,yEAAxB,CAEP,cAAepC,CAAAA,OAAO,CAACG,eAAD,CAAkBgC,kBAAlB,CAAP,CAA6CpB,uCAA7C,CAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { connect } from 'react-redux';\n\n// eslint-disable-next-line max-len\nimport ProductConfigurableAttributesContainer from 'Component/ProductConfigurableAttributes/ProductConfigurableAttributes.container';\n\nimport CategoryConfigurableAttributes from './CategoryConfigurableAttributes.component';\n\n/** @namespace Component/CategoryConfigurableAttributes/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    currency_code: state.ConfigReducer.currencyData.current_currency_code,\n    show_product_count: state.ConfigReducer.layered_navigation_product_count_enabled,\n    childrenCategories: state.CategoryReducer.category.children\n});\n\n/** @namespace Component/CategoryConfigurableAttributes/Container */\nexport class CategoryConfigurableAttributesContainer extends ProductConfigurableAttributesContainer {\n    containerFunctions = {\n        ...this.containerFunctions,\n        getSubCategories: this.getSubCategories.bind(this)\n    };\n\n    getSubCategories(option) {\n        const optionWithSubcategories = { ...option };\n        const { childrenCategories } = this.props;\n        const { attribute_values } = option;\n        const childrenCategoryIds = childrenCategories.map((category) => category.id.toString());\n        const subCategoriesIds = attribute_values.filter((item) => childrenCategoryIds.includes(item));\n        optionWithSubcategories.attribute_values = subCategoriesIds;\n\n        return optionWithSubcategories;\n    }\n\n    render() {\n        return (\n            <CategoryConfigurableAttributes\n              { ...this.props }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\n/** @namespace Component/CategoryConfigurableAttributes/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoryConfigurableAttributesContainer);\n"]},"metadata":{},"sourceType":"module"}