{"ast":null,"code":"'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=function(_ref){var t=_ref.types;return{visitor:{Program:{exit:function exit(globalPath){var checkBEMIdentifier=globalPath.scope.generateUidIdentifier('checkBEM');var isCheckBEMInserted=false;globalPath.traverse({CallExpression:function CallExpression(path){if(t.isMemberExpression(path.node.callee)&&t.isIdentifier(path.node.callee.object,{name:'React'})&&t.isIdentifier(path.node.callee.property,{name:'createElement'})){if(!isCheckBEMInserted){var topPath=findTopPath(path,globalPath);topPath.insertBefore(checkBEMExternal(t,checkBEMIdentifier));isCheckBEMInserted=true;}path.replaceWith(t.callExpression(checkBEMIdentifier,[t.identifier('React')].concat(path.node.arguments)));}}});}}}};};exports.checkBEMProps=checkBEMProps;var _rebemClassname=require('rebem-classname');// finds direct children of globalPath\nfunction findTopPath(path,globalPath){if(path.parentPath===globalPath){return path;}return findTopPath(path.parentPath,globalPath);}/*\nTODO: investigate why ES6 module import (below) doesn't create variable [UID] declaration\n[UID] is a generated scopedIdentifier — to avoid names collision\n\n    var [UID] = require('babel-plugin-transform-rebem-jsx').checkBEMProps;\n\n*/function checkBEMExternal(t,scopedIdentifier){return t.variableDeclaration('var',[t.variableDeclarator(scopedIdentifier,t.memberExpression(t.callExpression(t.identifier('require'),[t.stringLiteral('babel-plugin-transform-rebem-jsx')]),t.identifier('checkBEMProps')))]);}var BEMProps=['tag','block','elem','mods','mix','className'];var buildClassName=_rebemClassname.stringify;// validation\n// istanbul ignore next\nif(process.env.NODE_ENV!=='production'){buildClassName=function buildClassName(props){return(0,_rebemClassname.stringify)((0,_rebemClassname.validate)(props));};}// External helper for transforming BEM props into className\n/* eslint-disable */function checkBEMProps(React,element,props){var finalProps=props;if(props&&typeof element==='string'){var className=buildClassName(props);var keyIndex;var key;var propsKeys=Object.keys(props);var propsLength=propsKeys.length;finalProps={};for(keyIndex=0;keyIndex<propsLength;keyIndex++){key=propsKeys[keyIndex];if(BEMProps.indexOf(key)===-1){finalProps[key]=props[key];}}if(className){finalProps.className=className;}}return React.createElement.apply(React,[element,finalProps].concat([].slice.call(arguments,3)));}/* eslint-enable */","map":{"version":3,"sources":["/home/marketihor/scandipwa/node_modules/babel-plugin-transform-rebem-jsx/build/index.js"],"names":["Object","defineProperty","exports","value","default","_ref","t","types","visitor","Program","exit","globalPath","checkBEMIdentifier","scope","generateUidIdentifier","isCheckBEMInserted","traverse","CallExpression","path","isMemberExpression","node","callee","isIdentifier","object","name","property","topPath","findTopPath","insertBefore","checkBEMExternal","replaceWith","callExpression","identifier","concat","arguments","checkBEMProps","_rebemClassname","require","parentPath","scopedIdentifier","variableDeclaration","variableDeclarator","memberExpression","stringLiteral","BEMProps","buildClassName","stringify","process","env","NODE_ENV","props","validate","React","element","finalProps","className","keyIndex","key","propsKeys","keys","propsLength","length","indexOf","createElement","apply","slice","call"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (_ref) {\n    var t = _ref.types;\n\n    return {\n        visitor: {\n            Program: {\n                exit: function exit(globalPath) {\n                    var checkBEMIdentifier = globalPath.scope.generateUidIdentifier('checkBEM');\n                    var isCheckBEMInserted = false;\n\n                    globalPath.traverse({\n                        CallExpression: function CallExpression(path) {\n                            if (t.isMemberExpression(path.node.callee) && t.isIdentifier(path.node.callee.object, { name: 'React' }) && t.isIdentifier(path.node.callee.property, { name: 'createElement' })) {\n                                if (!isCheckBEMInserted) {\n                                    var topPath = findTopPath(path, globalPath);\n\n                                    topPath.insertBefore(checkBEMExternal(t, checkBEMIdentifier));\n\n                                    isCheckBEMInserted = true;\n                                }\n                                path.replaceWith(t.callExpression(checkBEMIdentifier, [t.identifier('React')].concat(path.node.arguments)));\n                            }\n                        }\n                    });\n                }\n            }\n        }\n    };\n};\n\nexports.checkBEMProps = checkBEMProps;\n\nvar _rebemClassname = require('rebem-classname');\n\n// finds direct children of globalPath\nfunction findTopPath(path, globalPath) {\n    if (path.parentPath === globalPath) {\n        return path;\n    }\n\n    return findTopPath(path.parentPath, globalPath);\n}\n\n/*\nTODO: investigate why ES6 module import (below) doesn't create variable [UID] declaration\n[UID] is a generated scopedIdentifier — to avoid names collision\n\n    var [UID] = require('babel-plugin-transform-rebem-jsx').checkBEMProps;\n\n*/\nfunction checkBEMExternal(t, scopedIdentifier) {\n    return t.variableDeclaration('var', [t.variableDeclarator(scopedIdentifier, t.memberExpression(t.callExpression(t.identifier('require'), [t.stringLiteral('babel-plugin-transform-rebem-jsx')]), t.identifier('checkBEMProps')))]);\n}\n\nvar BEMProps = ['tag', 'block', 'elem', 'mods', 'mix', 'className'];\nvar buildClassName = _rebemClassname.stringify;\n\n// validation\n// istanbul ignore next\nif (process.env.NODE_ENV !== 'production') {\n    buildClassName = function buildClassName(props) {\n        return (0, _rebemClassname.stringify)((0, _rebemClassname.validate)(props));\n    };\n}\n\n// External helper for transforming BEM props into className\n/* eslint-disable */\nfunction checkBEMProps(React, element, props) {\n    var finalProps = props;\n\n    if (props && typeof element === 'string') {\n        var className = buildClassName(props);\n        var keyIndex;\n        var key;\n        var propsKeys = Object.keys(props);\n        var propsLength = propsKeys.length;\n\n        finalProps = {};\n        for (keyIndex = 0; keyIndex < propsLength; keyIndex++) {\n            key = propsKeys[keyIndex];\n\n            if (BEMProps.indexOf(key) === -1) {\n                finalProps[key] = props[key];\n            }\n        }\n\n        if (className) {\n            finalProps.className = className;\n        }\n    }\n\n    return React.createElement.apply(React, [element, finalProps].concat([].slice.call(arguments, 3)));\n}\n/* eslint-enable */"]},"metadata":{},"sourceType":"module"}