{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import{connect}from'react-redux';import WishlistQuery from\"/home/marketihor/scandipwa/packages/scandipwa/src/query/Wishlist.query\";import{showNotification as _showNotification}from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Notification/Notification.action\";import{showPopup}from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Popup/Popup.action\";import{isSignedIn}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Auth\";import{fetchMutation,getErrorMessage}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Request\";import ShareWishlistPopup from\"./ShareWishlistPopup.component\";/** @namespace Component/ShareWishlistPopup/Container/mapDispatchToProps */export var mapDispatchToProps=middleware(function(dispatch){return{showNotification:function showNotification(message){return dispatch(_showNotification('success',message));},showError:function showError(message){return dispatch(_showNotification('error',message));},hidePopup:function hidePopup(){return dispatch(showPopup('',{}));}};},\"Component/ShareWishlistPopup/Container/mapDispatchToProps\");/** @namespace Component/ShareWishlistPopup/Container/mapStateToProps */export var mapStateToProps=middleware(function(){return{};},\"Component/ShareWishlistPopup/Container/mapStateToProps\");/** @namespace Component/ShareWishlistPopup/Container/shareWishlistPopupContainer */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _ShareWishlistPopupContainer=/*#__PURE__*/function(_Extensible){_inherits(_ShareWishlistPopupContainer,_Extensible);var _super=_createSuper(_ShareWishlistPopupContainer);function _ShareWishlistPopupContainer(){var _this;_classCallCheck(this,_ShareWishlistPopupContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleFormData=function(fields){var _this$props=_this.props,hidePopup=_this$props.hidePopup,showError=_this$props.showError,showNotification=_this$props.showNotification;var message=fields.message,initialEmails=fields.emails;var emails=initialEmails.split(',').map(function(email){return email.trim();});if(!isSignedIn()){return;}fetchMutation(WishlistQuery.getShareWishlistMutation({message:message,emails:emails})).then(/** @namespace Component/ShareWishlistPopup/Container/handleFormDataFetchMutationThen */middleware(function(){showNotification(__('Wishlist has been shared'));hidePopup();},\"Component/ShareWishlistPopup/Container/handleFormDataFetchMutationThen\"),/** @namespace Component/ShareWishlistPopup/Container/handleFormDataFetchMutationCatch */middleware(function(error){return showError(getErrorMessage(error));},\"Component/ShareWishlistPopup/Container/handleFormDataFetchMutationCatch\"));};_this.containerFunctions=function(){return{handleFormData:_this.handleFormData};};return _this;}_createClass(_ShareWishlistPopupContainer,[{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,ShareWishlistPopup,Object.assign({},this.props,this.containerFunctions()));}}]);return _ShareWishlistPopupContainer;}(Extensible(PureComponent));Object.defineProperty(_ShareWishlistPopupContainer,'name',{value:'ShareWishlistPopupContainer'});export var ShareWishlistPopupContainer=middleware(_ShareWishlistPopupContainer,\"Component/ShareWishlistPopup/Container/shareWishlistPopupContainer\");export default connect(mapStateToProps,mapDispatchToProps)(ShareWishlistPopupContainer);","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/ShareWishlistPopup/ShareWishlistPopup.container.js"],"names":["PureComponent","connect","WishlistQuery","showNotification","showPopup","isSignedIn","fetchMutation","getErrorMessage","ShareWishlistPopup","mapDispatchToProps","dispatch","message","showError","hidePopup","mapStateToProps","ShareWishlistPopupContainer","handleFormData","fields","props","initialEmails","emails","split","map","email","trim","getShareWishlistMutation","then","__","error","containerFunctions","Object","defineProperty","_ShareWishlistPopupContainer","value"],"mappings":"ojBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAGA,OAASA,aAAT,KAA8B,OAA9B,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,MAAOC,CAAAA,aAAP,8EACA,OAASC,gBAAgB,GAAhBA,CAAAA,iBAAT,gGACA,OAASC,SAAT,kFACA,OAASC,UAAT,mEACA,OAASC,aAAT,CAAwBC,eAAxB,sEAEA,MAAOC,CAAAA,kBAAP,sCAEA,2EACA,MAAO,IAAMC,CAAAA,kBAAkB,YAAG,SAACC,QAAD,QAAe,CAC7CP,gBAAgB,CAAE,0BAACQ,OAAD,QAAaD,CAAAA,QAAQ,CAACP,iBAAgB,CAAC,SAAD,CAAYQ,OAAZ,CAAjB,CAArB,EAD2B,CAE7CC,SAAS,CAAE,mBAACD,OAAD,QAAaD,CAAAA,QAAQ,CAACP,iBAAgB,CAAC,OAAD,CAAUQ,OAAV,CAAjB,CAArB,EAFkC,CAG7CE,SAAS,CAAE,2BAAMH,CAAAA,QAAQ,CAACN,SAAS,CAAC,EAAD,CAAK,EAAL,CAAV,CAAd,EAHkC,CAAf,EAAH,6DAAxB,CAMP,wEACA,MAAO,IAAMU,CAAAA,eAAe,YAAG,iBAAO,EAAP,EAAH,0DAArB,CAEP,oF,wEACA,UAAaC,CAAAA,4BAAb,qZAOIC,cAPJ,CAOqB,SAACC,MAAD,CAAY,iBAC0B,MAAKC,KAD/B,CACjBL,SADiB,aACjBA,SADiB,CACND,SADM,aACNA,SADM,CACKT,gBADL,aACKA,gBADL,IAEjBQ,CAAAA,OAFiB,CAEkBM,MAFlB,CAEjBN,OAFiB,CAEAQ,aAFA,CAEkBF,MAFlB,CAERG,MAFQ,CAGzB,GAAMA,CAAAA,MAAM,CAAGD,aAAa,CAACE,KAAd,CAAoB,GAApB,EAAyBC,GAAzB,CAA6B,SAACC,KAAD,QAAWA,CAAAA,KAAK,CAACC,IAAN,EAAX,EAA7B,CAAf,CAEA,GAAI,CAACnB,UAAU,EAAf,CAAmB,CACf,OACH,CAEDC,aAAa,CAACJ,aAAa,CAACuB,wBAAd,CAAuC,CAAEd,OAAO,CAAPA,OAAF,CAAWS,MAAM,CAANA,MAAX,CAAvC,CAAD,CAAb,CAA2EM,IAA3E,CACI,wFADJ,WAEI,UAAM,CACFvB,gBAAgB,CAACwB,EAAE,CAAC,0BAAD,CAAH,CAAhB,CACAd,SAAS,GACZ,CALL,2EAMI,yFANJ,WAOI,SAACe,KAAD,QAAWhB,CAAAA,SAAS,CAACL,eAAe,CAACqB,KAAD,CAAhB,CAApB,EAPJ,6EASH,CAzBL,OA2BIC,kBA3BJ,CA2ByB,iBAAO,CACxBb,cAAc,CAAE,MAAKA,cADG,CAAP,EA3BzB,8EA+BI,iBAAS,CACL,mCACK,kBADL,kBAEW,KAAKE,KAFhB,CAGW,KAAKW,kBAAL,EAHX,GAMH,CAtCL,qEAlCAC,MAAM,CAACC,cAAP,CAAsBC,4BAAtB,CAAoD,MAApD,CAA4D,CAAEC,KAAK,CAAE,6BAAT,CAA5D,E,qJA2EA,cAAehC,CAAAA,OAAO,CAACa,eAAD,CAAkBL,kBAAlB,CAAP,CAA6CM,2BAA7C,CAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport WishlistQuery from 'Query/Wishlist.query';\nimport { showNotification } from 'Store/Notification/Notification.action';\nimport { showPopup } from 'Store/Popup/Popup.action';\nimport { isSignedIn } from 'Util/Auth';\nimport { fetchMutation, getErrorMessage } from 'Util/Request';\n\nimport ShareWishlistPopup from './ShareWishlistPopup.component';\n\n/** @namespace Component/ShareWishlistPopup/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    showNotification: (message) => dispatch(showNotification('success', message)),\n    showError: (message) => dispatch(showNotification('error', message)),\n    hidePopup: () => dispatch(showPopup('', {}))\n});\n\n/** @namespace Component/ShareWishlistPopup/Container/mapStateToProps */\nexport const mapStateToProps = () => ({});\n\n/** @namespace Component/ShareWishlistPopup/Container/shareWishlistPopupContainer */\nexport class ShareWishlistPopupContainer extends PureComponent {\n    static propTypes = {\n        showError: PropTypes.func.isRequired,\n        hidePopup: PropTypes.func.isRequired,\n        showNotification: PropTypes.func.isRequired\n    };\n\n    handleFormData = (fields) => {\n        const { hidePopup, showError, showNotification } = this.props;\n        const { message, emails: initialEmails } = fields;\n        const emails = initialEmails.split(',').map((email) => email.trim());\n\n        if (!isSignedIn()) {\n            return;\n        }\n\n        fetchMutation(WishlistQuery.getShareWishlistMutation({ message, emails })).then(\n            /** @namespace Component/ShareWishlistPopup/Container/handleFormDataFetchMutationThen */\n            () => {\n                showNotification(__('Wishlist has been shared'));\n                hidePopup();\n            },\n            /** @namespace Component/ShareWishlistPopup/Container/handleFormDataFetchMutationCatch */\n            (error) => showError(getErrorMessage(error))\n        );\n    };\n\n    containerFunctions = () => ({\n        handleFormData: this.handleFormData\n    });\n\n    render() {\n        return (\n            <ShareWishlistPopup\n              { ...this.props }\n              { ...this.containerFunctions() }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShareWishlistPopupContainer);\n"]},"metadata":{},"sourceType":"module"}