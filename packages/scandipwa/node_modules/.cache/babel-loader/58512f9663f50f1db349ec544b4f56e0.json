{"ast":null,"code":"import _toConsumableArray from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectWithoutProperties from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _slicedToArray from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{BUNDLE,CONFIGURABLE,DOWNLOADABLE,SIMPLE}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Product\";/**\n * Checks whether every option is in attributes\n * @param {Object} attributes\n * @param {{ attribute_code: string }[]} options\n * @returns {boolean}\n * @namespace Util/Product/checkEveryOption\n */export var checkEveryOption=middleware(function(attributes,options){return Object.keys(options).every(function(option){if(!attributes[option]){return false;}var attribute_value=attributes[option].attribute_value;if(typeof options[option]==='string'){return options[option]===attribute_value;}return options[option].includes(attribute_value);});},\"Util/Product/checkEveryOption\\n\");/** @namespace Util/Product/getIndexedAttributeOption */export var getIndexedAttributeOption=middleware(function(option){var defaultSwatchData=option.swatch_data;if(!defaultSwatchData){return option;}var type=defaultSwatchData.type;var swatch_data=type?defaultSwatchData:null;return _objectSpread(_objectSpread({},option),{},{swatch_data:swatch_data});},\"Util/Product/getIndexedAttributeOption\");/** @namespace Util/Product/getIndexedAttributes */export var getIndexedAttributes=middleware(function(attributes){return attributes.reduce(function(indexedAttributes,attribute){var attribute_code=attribute.attribute_code,_attribute$attribute_=attribute.attribute_options,attribute_options=_attribute$attribute_===void 0?[]:_attribute$attribute_;return _objectSpread(_objectSpread({},indexedAttributes),{},_defineProperty({},attribute_code,_objectSpread(_objectSpread({},attribute),{},{attribute_options:attribute_options.reduce(function(acc,option){var value=option.value;return _objectSpread(_objectSpread({},acc),{},_defineProperty({},value,getIndexedAttributeOption(option)));},{})})));},{});},\"Util/Product/getIndexedAttributes\");/** @namespace Util/Product/getIndexedConfigurableOptions */export var getIndexedConfigurableOptions=middleware(function(configurableOptions,indexedAttributes){return configurableOptions.reduce(function(indexedConfigurableOptions,configurableOption){var values=configurableOption.values,attribute_code=configurableOption.attribute_code;return _objectSpread(_objectSpread({},indexedConfigurableOptions),{},_defineProperty({},attribute_code,_objectSpread(_objectSpread(_objectSpread({},configurableOption),indexedAttributes[attribute_code]),{},{attribute_values:values.map(function(_ref){var value_index=_ref.value_index;return\"\".concat(value_index);})})));},{});},\"Util/Product/getIndexedConfigurableOptions\");/** @namespace Util/Product/getIndexedVariants */export var getIndexedVariants=middleware(function(variants){return variants.map(function(_ref2){var product=_ref2.product;var attributes=product.attributes;return _objectSpread(_objectSpread({},product),{},{attributes:getIndexedAttributes(attributes||[])});});},\"Util/Product/getIndexedVariants\");/** @namespace Util/Product/getIndexedSingleVariant */export var getIndexedSingleVariant=middleware(function(variants,itemSku){var index=variants.findIndex(function(_ref3){var sku=_ref3.product.sku;return sku===itemSku||itemSku.includes(sku);});if(index<0){return getIndexedVariants(variants);}var indexedProduct=variants[index].product;var attributes=indexedProduct.attributes;return[_objectSpread(_objectSpread({},indexedProduct),{},{attributes:getIndexedAttributes(attributes||[])})];},\"Util/Product/getIndexedSingleVariant\");/**\n * Get product variant index by options\n * @param {Object[]} variants\n * @param {{ attribute_code: string }[]} options\n * @returns {number}\n * @namespace Util/Product/getVariantIndex\n */export var getVariantIndex=middleware(function(variants,options){return variants.findIndex(function(variant){return checkEveryOption(variant.attributes,options);});},\"Util/Product/getVariantIndex\\n\");/** @namespace Util/Product/getVariantsIndexes */export var getVariantsIndexes=middleware(function(variants,options){return Object.entries(variants).reduce(function(indexes,_ref4){var _ref5=_slicedToArray(_ref4,2),index=_ref5[0],variant=_ref5[1];if(checkEveryOption(variant.attributes,options)){indexes.push(+index);}return indexes;},[]);},\"Util/Product/getVariantsIndexes\");/** @namespace Util/Product/getIndexedCustomOption */export var getIndexedCustomOption=middleware(function(option){var checkboxValues=option.checkboxValues,dropdownValues=option.dropdownValues,fieldValues=option.fieldValues,areaValues=option.areaValues,fileValues=option.fileValues,otherFields=_objectWithoutProperties(option,[\"checkboxValues\",\"dropdownValues\",\"fieldValues\",\"areaValues\",\"fileValues\"]);if(checkboxValues){var data=Array.isArray(checkboxValues)?checkboxValues:[checkboxValues];return _objectSpread({type:'checkbox',data:data},otherFields);}if(dropdownValues){var _data=Array.isArray(dropdownValues)?dropdownValues:[dropdownValues];return _objectSpread({type:'dropdown',data:_data},otherFields);}if(fieldValues){var _data2=Array.isArray(fieldValues)?fieldValues:[fieldValues];return _objectSpread({type:'field',data:_data2},otherFields);}if(areaValues){var _data3=Array.isArray(areaValues)?areaValues:[areaValues];return _objectSpread({type:'area',data:_data3},otherFields);}if(fileValues){var _data4=Array.isArray(fileValues)?fileValues:[fileValues];return _objectSpread({type:'file',data:_data4},otherFields);}// skip unsupported types\nreturn null;},\"Util/Product/getIndexedCustomOption\");/** @namespace Util/Product/getIndexedCustomOptions */export var getIndexedCustomOptions=middleware(function(options){return options.reduce(function(acc,option){var indexedOption=getIndexedCustomOption(option);if(indexedOption){acc.push(indexedOption);}return acc;},[]);},\"Util/Product/getIndexedCustomOptions\");/** @namespace Util/Product/getIndexedReviews */export var getIndexedReviews=middleware(function(reviews){if(!reviews){return null;}var items=reviews.items;var ONE_FIFTH_OF_A_HUNDRED=20;return items.reduce(function(acc,review){var _review$rating_votes=review.rating_votes,rating_votes=_review$rating_votes===void 0?[]:_review$rating_votes,restOfReview=_objectWithoutProperties(review,[\"rating_votes\"]);var newRatingVotes=rating_votes.reduce(function(acc,vote){var rating_code=vote.rating_code,value=vote.value;return[].concat(_toConsumableArray(acc),[{rating_code:rating_code,value:value,// stars / 5 * 100 to get percent\npercent:value*ONE_FIFTH_OF_A_HUNDRED}]);},[]);return[].concat(_toConsumableArray(acc),[_objectSpread(_objectSpread({},restOfReview),{},{rating_votes:newRatingVotes})]);},[]);},\"Util/Product/getIndexedReviews\");/** @namespace Util/Product/getBundleOptions */export var getBundleOptions=middleware(function(options,items){var bundleOptions=options.reduce(function(prev,next){return[].concat(_toConsumableArray(prev),_toConsumableArray(next.selection_details));},[]);return items.map(function(item){var _item$options;return _objectSpread(_objectSpread({},item),{},{options:item===null||item===void 0?void 0:(_item$options=item.options)===null||_item$options===void 0?void 0:_item$options.map(function(option){var selection=bundleOptions.find(function(o){return o.selection_id===option.id;})||{};var _selection$regular_op=selection.regular_option_price,regularOptionPrice=_selection$regular_op===void 0?0:_selection$regular_op,_selection$regular_op2=selection.regular_option_price_excl_tax,regularOptionPriceExclTax=_selection$regular_op2===void 0?0:_selection$regular_op2,_selection$final_opti=selection.final_option_price,finalOptionPrice=_selection$final_opti===void 0?0:_selection$final_opti,_selection$final_opti2=selection.final_option_price_excl_tax,finalOptionPriceExclTax=_selection$final_opti2===void 0?0:_selection$final_opti2;return _objectSpread(_objectSpread({},option),{},{regularOptionPrice:regularOptionPrice,regularOptionPriceExclTax:regularOptionPriceExclTax,finalOptionPrice:finalOptionPrice,finalOptionPriceExclTax:finalOptionPriceExclTax});})});});},\"Util/Product/getBundleOptions\");/** @namespace Util/Product/getIndexedProduct */export var getIndexedProduct=middleware(function(product,itemSku){var _product$variants=product.variants,initialVariants=_product$variants===void 0?[]:_product$variants,_product$configurable=product.configurable_options,initialConfigurableOptions=_product$configurable===void 0?[]:_product$configurable,_product$attributes=product.attributes,initialAttributes=_product$attributes===void 0?[]:_product$attributes,_product$options=product.options,initialOptions=_product$options===void 0?[]:_product$options,rating_summary=product.rating_summary,review_count=product.review_count,initialReviews=product.reviews,_product$items=product.items,items=_product$items===void 0?[]:_product$items,_product$bundle_optio=product.bundle_options,bundle_options=_product$bundle_optio===void 0?[]:_product$bundle_optio;var attributes=getIndexedAttributes(initialAttributes||[]);var reviews=getIndexedReviews(initialReviews);var updatedProduct=_objectSpread(_objectSpread({},product),{},{configurable_options:getIndexedConfigurableOptions(initialConfigurableOptions,attributes),variants:itemSku?getIndexedSingleVariant(initialVariants,itemSku):getIndexedVariants(initialVariants),options:getIndexedCustomOptions(initialOptions||[]),attributes:attributes,// Magento 2.4.1 review endpoint compatibility\nreviews:reviews,review_summary:{rating_summary:rating_summary,review_count:review_count}});if(bundle_options){updatedProduct.items=getBundleOptions(bundle_options,items);}return updatedProduct;},\"Util/Product/getIndexedProduct\");/** @namespace Util/Product/getIndexedProducts */export var getIndexedProducts=middleware(function(products){return products.map(function(product){return getIndexedProduct(product);});},\"Util/Product/getIndexedProducts\");/** @namespace Util/Product/getIndexedParameteredProducts */export var getIndexedParameteredProducts=middleware(function(products){return Object.entries(products).reduce(function(products,_ref6){var _ref7=_slicedToArray(_ref6,2),id=_ref7[0],product=_ref7[1];return _objectSpread(_objectSpread({},products),{},_defineProperty({},id,getIndexedProduct(product)));},{});},\"Util/Product/getIndexedParameteredProducts\");/** @namespace Util/Product/getExtensionAttributes */export var getExtensionAttributes=middleware(function(product){var configurable_options=product.configurable_options,configurableVariantIndex=product.configurableVariantIndex,productOptions=product.productOptions,productOptionsMulti=product.productOptionsMulti,downloadableLinks=product.downloadableLinks,variants=product.variants,type_id=product.type_id;if(type_id===CONFIGURABLE){var _ref8=variants[configurableVariantIndex]||{},_ref8$attributes=_ref8.attributes,attributes=_ref8$attributes===void 0?{}:_ref8$attributes;var properties={configurable_item_options:Object.values(configurable_options).reduce(function(prev,_ref9){var attribute_id=_ref9.attribute_id,attribute_code=_ref9.attribute_code;var _ref10=attributes[attribute_code]||{},attribute_value=_ref10.attribute_value,attrId=_ref10.attribute_id;if(attribute_value){return[].concat(_toConsumableArray(prev),[{option_id:attribute_id||attrId,option_value:attribute_value}]);}return prev;},[])};if(productOptions){properties.customizable_options=productOptions;}if(productOptionsMulti){properties.customizable_options_multi=productOptionsMulti;}return properties;}if(type_id===BUNDLE&&(productOptions||productOptionsMulti)){return{bundle_options:Array.from(productOptions||[])};}if(type_id===SIMPLE&&(productOptions||productOptionsMulti)){return{customizable_options:productOptions||[],customizable_options_multi:productOptionsMulti||[]};}if(type_id===DOWNLOADABLE&&downloadableLinks){return{downloadable_product_links:downloadableLinks};}return{};},\"Util/Product/getExtensionAttributes\");/** @namespace Util/Product/sortBySortOrder */export var sortBySortOrder=middleware(function(options){var sortKey=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'sort_order';return options.sort(function(a,b){if(a[sortKey]<b[sortKey]){return-1;}if(a[sortKey]>b[sortKey]){return 1;}return 0;});},\"Util/Product/sortBySortOrder\");","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/util/Product/Product.js"],"names":["BUNDLE","CONFIGURABLE","DOWNLOADABLE","SIMPLE","checkEveryOption","attributes","options","Object","keys","every","option","attribute_value","includes","getIndexedAttributeOption","defaultSwatchData","swatch_data","type","getIndexedAttributes","reduce","indexedAttributes","attribute","attribute_code","attribute_options","acc","value","getIndexedConfigurableOptions","configurableOptions","indexedConfigurableOptions","configurableOption","values","attribute_values","map","value_index","getIndexedVariants","variants","product","getIndexedSingleVariant","itemSku","index","findIndex","sku","indexedProduct","getVariantIndex","variant","getVariantsIndexes","entries","indexes","push","getIndexedCustomOption","checkboxValues","dropdownValues","fieldValues","areaValues","fileValues","otherFields","data","Array","isArray","getIndexedCustomOptions","indexedOption","getIndexedReviews","reviews","items","ONE_FIFTH_OF_A_HUNDRED","review","rating_votes","restOfReview","newRatingVotes","vote","rating_code","percent","getBundleOptions","bundleOptions","prev","next","selection_details","item","selection","find","o","selection_id","id","regular_option_price","regularOptionPrice","regular_option_price_excl_tax","regularOptionPriceExclTax","final_option_price","finalOptionPrice","final_option_price_excl_tax","finalOptionPriceExclTax","getIndexedProduct","initialVariants","configurable_options","initialConfigurableOptions","initialAttributes","initialOptions","rating_summary","review_count","initialReviews","bundle_options","updatedProduct","review_summary","getIndexedProducts","products","getIndexedParameteredProducts","getExtensionAttributes","configurableVariantIndex","productOptions","productOptionsMulti","downloadableLinks","type_id","properties","configurable_item_options","attribute_id","attrId","option_id","option_value","customizable_options","customizable_options_multi","from","downloadable_product_links","sortBySortOrder","sortKey","sort","a","b"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport {\n    BUNDLE,\n    CONFIGURABLE,\n    DOWNLOADABLE,\n    SIMPLE\n} from 'Util/Product';\n\n/**\n * Checks whether every option is in attributes\n * @param {Object} attributes\n * @param {{ attribute_code: string }[]} options\n * @returns {boolean}\n * @namespace Util/Product/checkEveryOption\n */\nexport const checkEveryOption = (attributes, options) => Object.keys(options)\n    .every((option) => {\n        if (!attributes[option]) {\n            return false;\n        }\n\n        const { attribute_value } = attributes[option];\n        if (typeof options[option] === 'string') {\n            return options[option] === attribute_value;\n        }\n\n        return options[option].includes(attribute_value);\n    });\n\n/** @namespace Util/Product/getIndexedAttributeOption */\nexport const getIndexedAttributeOption = (option) => {\n    const { swatch_data: defaultSwatchData } = option;\n    if (!defaultSwatchData) {\n        return option;\n    }\n\n    const { type } = defaultSwatchData;\n    const swatch_data = type ? defaultSwatchData : null;\n\n    return {\n        ...option,\n        swatch_data\n    };\n};\n\n/** @namespace Util/Product/getIndexedAttributes */\nexport const getIndexedAttributes = (attributes) => attributes.reduce((indexedAttributes, attribute) => {\n    const { attribute_code, attribute_options = [] } = attribute;\n\n    return {\n        ...indexedAttributes,\n        [attribute_code]: {\n            ...attribute,\n            attribute_options: attribute_options.reduce((acc, option) => {\n                const { value } = option;\n\n                return {\n                    ...acc,\n                    [value]: getIndexedAttributeOption(option)\n                };\n            }, {})\n        }\n    };\n}, {});\n\n/** @namespace Util/Product/getIndexedConfigurableOptions */\nexport const getIndexedConfigurableOptions = (configurableOptions, indexedAttributes) => (\n    configurableOptions.reduce((indexedConfigurableOptions, configurableOption) => {\n        const { values, attribute_code } = configurableOption;\n\n        return {\n            ...indexedConfigurableOptions,\n            [attribute_code]: {\n                ...configurableOption,\n                ...indexedAttributes[attribute_code],\n                attribute_values: values.map(({ value_index }) => `${ value_index }`)\n            }\n        };\n    }, {})\n);\n\n/** @namespace Util/Product/getIndexedVariants */\nexport const getIndexedVariants = (variants) => variants.map(({ product }) => {\n    const { attributes } = product;\n    return {\n        ...product,\n        attributes: getIndexedAttributes(attributes || [])\n    };\n});\n\n/** @namespace Util/Product/getIndexedSingleVariant */\nexport const getIndexedSingleVariant = (variants, itemSku) => {\n    const index = variants.findIndex(({ product: { sku } }) => sku === itemSku || itemSku.includes(sku));\n\n    if (index < 0) {\n        return getIndexedVariants(variants);\n    }\n\n    const indexedProduct = variants[index].product;\n    const { attributes } = indexedProduct;\n\n    return [\n        { ...indexedProduct, attributes: getIndexedAttributes(attributes || []) }\n    ];\n};\n\n/**\n * Get product variant index by options\n * @param {Object[]} variants\n * @param {{ attribute_code: string }[]} options\n * @returns {number}\n * @namespace Util/Product/getVariantIndex\n */\nexport const getVariantIndex = (variants, options) => variants\n    .findIndex((variant) => checkEveryOption(variant.attributes, options));\n\n/** @namespace Util/Product/getVariantsIndexes */\nexport const getVariantsIndexes = (variants, options) => Object.entries(variants)\n    .reduce((indexes, [index, variant]) => {\n        if (checkEveryOption(variant.attributes, options)) {\n            indexes.push(+index);\n        }\n\n        return indexes;\n    }, []);\n\n/** @namespace Util/Product/getIndexedCustomOption */\nexport const getIndexedCustomOption = (option) => {\n    const {\n        checkboxValues,\n        dropdownValues,\n        fieldValues,\n        areaValues,\n        fileValues,\n        ...otherFields\n    } = option;\n\n    if (checkboxValues) {\n        const data = Array.isArray(checkboxValues) ? checkboxValues : [checkboxValues];\n        return { type: 'checkbox', data, ...otherFields };\n    }\n\n    if (dropdownValues) {\n        const data = Array.isArray(dropdownValues) ? dropdownValues : [dropdownValues];\n        return { type: 'dropdown', data, ...otherFields };\n    }\n\n    if (fieldValues) {\n        const data = Array.isArray(fieldValues) ? fieldValues : [fieldValues];\n        return { type: 'field', data, ...otherFields };\n    }\n\n    if (areaValues) {\n        const data = Array.isArray(areaValues) ? areaValues : [areaValues];\n        return { type: 'area', data, ...otherFields };\n    }\n\n    if (fileValues) {\n        const data = Array.isArray(fileValues) ? fileValues : [fileValues];\n        return { type: 'file', data, ...otherFields };\n    }\n\n    // skip unsupported types\n    return null;\n};\n\n/** @namespace Util/Product/getIndexedCustomOptions */\nexport const getIndexedCustomOptions = (options) => options.reduce(\n    (acc, option) => {\n        const indexedOption = getIndexedCustomOption(option);\n\n        if (indexedOption) {\n            acc.push(indexedOption);\n        }\n\n        return acc;\n    },\n    []\n);\n\n/** @namespace Util/Product/getIndexedReviews */\nexport const getIndexedReviews = (reviews) => {\n    if (!reviews) {\n        return null;\n    }\n\n    const { items } = reviews;\n    const ONE_FIFTH_OF_A_HUNDRED = 20;\n\n    return items.reduce((acc, review) => {\n        const { rating_votes = [], ...restOfReview } = review;\n\n        const newRatingVotes = rating_votes.reduce((acc, vote) => {\n            const { rating_code, value } = vote;\n\n            return [\n                ...acc,\n                {\n                    rating_code,\n                    value,\n                    // stars / 5 * 100 to get percent\n                    percent: value * ONE_FIFTH_OF_A_HUNDRED\n                }\n            ];\n        }, []);\n\n        return [\n            ...acc,\n            {\n                ...restOfReview,\n                rating_votes: newRatingVotes\n            }\n        ];\n    }, []);\n};\n\n/** @namespace Util/Product/getBundleOptions */\nexport const getBundleOptions = (options, items) => {\n    const bundleOptions = options.reduce((prev, next) => [...prev, ...next.selection_details], []);\n\n    return items.map((item) => ({\n        ...item,\n        options: item?.options?.map((option) => {\n            const selection = bundleOptions.find((o) => o.selection_id === option.id) || {};\n            const {\n                regular_option_price: regularOptionPrice = 0,\n                regular_option_price_excl_tax: regularOptionPriceExclTax = 0,\n                final_option_price: finalOptionPrice = 0,\n                final_option_price_excl_tax: finalOptionPriceExclTax = 0\n            } = selection;\n\n            return {\n                ...option,\n                regularOptionPrice,\n                regularOptionPriceExclTax,\n                finalOptionPrice,\n                finalOptionPriceExclTax\n            };\n        })\n    }));\n};\n\n/** @namespace Util/Product/getIndexedProduct */\nexport const getIndexedProduct = (product, itemSku) => {\n    const {\n        variants: initialVariants = [],\n        configurable_options: initialConfigurableOptions = [],\n        attributes: initialAttributes = [],\n        options: initialOptions = [],\n        rating_summary,\n        review_count,\n        reviews: initialReviews,\n        items = [],\n        bundle_options = []\n    } = product;\n\n    const attributes = getIndexedAttributes(initialAttributes || []);\n    const reviews = getIndexedReviews(initialReviews);\n\n    const updatedProduct = {\n        ...product,\n        configurable_options: getIndexedConfigurableOptions(initialConfigurableOptions, attributes),\n        variants: itemSku ? getIndexedSingleVariant(initialVariants, itemSku) : getIndexedVariants(initialVariants),\n        options: getIndexedCustomOptions(initialOptions || []),\n        attributes,\n        // Magento 2.4.1 review endpoint compatibility\n        reviews,\n        review_summary: {\n            rating_summary,\n            review_count\n        }\n    };\n\n    if (bundle_options) {\n        updatedProduct.items = getBundleOptions(bundle_options, items);\n    }\n\n    return updatedProduct;\n};\n\n/** @namespace Util/Product/getIndexedProducts */\nexport const getIndexedProducts = (products) => products.map((product) => getIndexedProduct(product));\n\n/** @namespace Util/Product/getIndexedParameteredProducts */\nexport const getIndexedParameteredProducts = (products) => Object.entries(products)\n    .reduce((products, [id, product]) => ({\n        ...products,\n        [id]: getIndexedProduct(product)\n    }), {});\n\n/** @namespace Util/Product/getExtensionAttributes */\nexport const getExtensionAttributes = (product) => {\n    const {\n        configurable_options,\n        configurableVariantIndex,\n        productOptions,\n        productOptionsMulti,\n        downloadableLinks,\n        variants,\n        type_id\n    } = product;\n\n    if (type_id === CONFIGURABLE) {\n        const { attributes = {} } = variants[configurableVariantIndex] || {};\n        const properties = {\n            configurable_item_options: Object.values(configurable_options)\n                .reduce((prev, { attribute_id, attribute_code }) => {\n                    const {\n                        attribute_value,\n                        attribute_id: attrId\n                    } = attributes[attribute_code] || {};\n\n                    if (attribute_value) {\n                        return [\n                            ...prev,\n                            {\n                                option_id: attribute_id || attrId,\n                                option_value: attribute_value\n                            }\n                        ];\n                    }\n\n                    return prev;\n                }, [])\n        };\n\n        if (productOptions) {\n            properties.customizable_options = productOptions;\n        }\n        if (productOptionsMulti) {\n            properties.customizable_options_multi = productOptionsMulti;\n        }\n\n        return properties;\n    }\n\n    if (type_id === BUNDLE && (productOptions || productOptionsMulti)) {\n        return { bundle_options: Array.from(productOptions || []) };\n    }\n\n    if (type_id === SIMPLE && (productOptions || productOptionsMulti)) {\n        return {\n            customizable_options: productOptions || [],\n            customizable_options_multi: productOptionsMulti || []\n        };\n    }\n\n    if (type_id === DOWNLOADABLE && downloadableLinks) {\n        return {\n            downloadable_product_links: downloadableLinks\n        };\n    }\n\n    return {};\n};\n\n/** @namespace Util/Product/sortBySortOrder */\nexport const sortBySortOrder = (options, sortKey = 'sort_order') => options.sort(\n    (a, b) => {\n        if (a[sortKey] < b[sortKey]) {\n            return -1;\n        }\n\n        if (a[sortKey] > b[sortKey]) {\n            return 1;\n        }\n\n        return 0;\n    }\n);\n"]},"metadata":{},"sourceType":"module"}