{"ast":null,"code":"import _defineProperty from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{getIndexedProduct}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Product\";import{UPDATE_PRODUCT_DETAILS}from\"./Product.action\";/** @namespace Store/Product/Reducer/getInitialState */export var getInitialState=middleware(function(){return{product:{},formattedConfigurableOptions:{}};},\"Store/Product/Reducer/getInitialState\");/** @namespace Store/Product/Reducer/formatConfigurableOptions */export var formatConfigurableOptions=middleware(function(configurable_options){return configurable_options.reduce(function(prev,option){var attribute_id=option.attribute_id,label=option.label,attribute_code=option.attribute_code;return _objectSpread(_objectSpread({},prev),{},_defineProperty({},attribute_code,{attribute_id:attribute_id,label:label}));},{});},\"Store/Product/Reducer/formatConfigurableOptions\");/** @namespace Store/Product/Reducer */export var ProductReducer=middleware(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:getInitialState();var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case UPDATE_PRODUCT_DETAILS:var product=action.product;return _objectSpread(_objectSpread({},state),{},{product:getIndexedProduct(product)});default:return state;}},\"Store/Product/Reducer\");export default ProductReducer;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/store/Product/Product.reducer.js"],"names":["getIndexedProduct","UPDATE_PRODUCT_DETAILS","getInitialState","product","formattedConfigurableOptions","formatConfigurableOptions","configurable_options","reduce","prev","option","attribute_id","label","attribute_code","ProductReducer","state","action","type"],"mappings":"mSAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,OAASA,iBAAT,sEAEA,OAASC,sBAAT,wBAEA,uDACA,MAAO,IAAMC,CAAAA,eAAe,YAAG,iBAAO,CAClCC,OAAO,CAAE,EADyB,CAElCC,4BAA4B,CAAE,EAFI,CAAP,EAAH,yCAArB,CAKP,iEACA,MAAO,IAAMC,CAAAA,yBAAyB,YAAG,SAACC,oBAAD,QAA0BA,CAAAA,oBAAoB,CAClFC,MAD8D,CACvD,SAACC,IAAD,CAAOC,MAAP,CAAkB,IAElBC,CAAAA,YAFkB,CAKlBD,MALkB,CAElBC,YAFkB,CAGlBC,KAHkB,CAKlBF,MALkB,CAGlBE,KAHkB,CAIlBC,cAJkB,CAKlBH,MALkB,CAIlBG,cAJkB,CAOtB,sCACOJ,IADP,wBAEKI,cAFL,CAEsB,CACdF,YAAY,CAAZA,YADc,CAEdC,KAAK,CAALA,KAFc,CAFtB,GAOH,CAf8D,CAe5D,EAf4D,CAA1B,EAAH,mDAA/B,CAiBP,uCACA,MAAO,IAAME,CAAAA,cAAc,YAAG,UAGzB,IAFDC,CAAAA,KAEC,2DAFOZ,eAAe,EAEtB,IADDa,CAAAA,MACC,2CACD,OAAQA,MAAM,CAACC,IAAf,EACA,IAAKf,CAAAA,sBAAL,IACYE,CAAAA,OADZ,CACwBY,MADxB,CACYZ,OADZ,CAGI,sCACOW,KADP,MAEIX,OAAO,CAAEH,iBAAiB,CAACG,OAAD,CAF9B,GAKJ,QACI,MAAOW,CAAAA,KAAP,CAVJ,CAYH,CAhB0B,yBAApB,CAkBP,cAAeD,CAAAA,cAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport { getIndexedProduct } from 'Util/Product';\n\nimport { UPDATE_PRODUCT_DETAILS } from './Product.action';\n\n/** @namespace Store/Product/Reducer/getInitialState */\nexport const getInitialState = () => ({\n    product: {},\n    formattedConfigurableOptions: {}\n});\n\n/** @namespace Store/Product/Reducer/formatConfigurableOptions */\nexport const formatConfigurableOptions = (configurable_options) => configurable_options\n    .reduce((prev, option) => {\n        const {\n            attribute_id,\n            label,\n            attribute_code\n        } = option;\n\n        return {\n            ...prev,\n            [attribute_code]: {\n                attribute_id,\n                label\n            }\n        };\n    }, {});\n\n/** @namespace Store/Product/Reducer */\nexport const ProductReducer = (\n    state = getInitialState(),\n    action\n) => {\n    switch (action.type) {\n    case UPDATE_PRODUCT_DETAILS:\n        const { product } = action;\n\n        return {\n            ...state,\n            product: getIndexedProduct(product)\n        };\n\n    default:\n        return state;\n    }\n};\n\nexport default ProductReducer;\n"]},"metadata":{},"sourceType":"module"}