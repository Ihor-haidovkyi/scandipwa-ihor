{"ast":null,"code":"import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/* eslint-disable jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions */ /**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import Field from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Field\";import ProductCard from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductCard\";import{ProductType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/ProductList\";import{BUNDLE,GROUPED}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Product\";import\"./WishlistItem.style\";/** @namespace Component/WishlistItem/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _WishlistItem=/*#__PURE__*/function(_Extensible){_inherits(_WishlistItem,_Extensible);var _super=_createSuper(_WishlistItem);function _WishlistItem(){var _this;_classCallCheck(this,_WishlistItem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderOption=function(option){var label=option.label,value=option.value;return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"WishlistItemOption\"},/*#__PURE__*/_checkBEM(React,\"span\",{block:\"WishlistItemOption\",elem:\"Label\"},label,\":\"),/*#__PURE__*/_checkBEM(React,\"span\",{block:\"WishlistItemOption\",elem:\"Value\"},value));};_this.renderContent=function(renderMethods){var productPrice=renderMethods.content.productPrice,renderPicture=renderMethods.pictureBlock.picture,renderCardLinkWrapper=renderMethods.renderCardLinkWrapper;var isMobile=_this.props.isMobile;if(isMobile){return _this.renderContentMobile(renderMethods);}return/*#__PURE__*/_checkBEM(React,React.Fragment,null,/*#__PURE__*/_checkBEM(React,\"div\",{block:\"WishlistItem\",elem:\"FigureWrapper\"},renderCardLinkWrapper(/*#__PURE__*/_checkBEM(React,React.Fragment,null,/*#__PURE__*/_checkBEM(React,\"figure\",{mix:{block:'ProductCard',elem:'Figure'}},renderPicture({block:'WishlistItem',elem:'Picture'})),_this.renderName(),_this.renderAttributes())),_this.renderRemove()),_this.renderOptions(),/*#__PURE__*/_checkBEM(React,\"div\",{block:\"WishlistItem\",elem:\"Content\"},/*#__PURE__*/_checkBEM(React,\"div\",{block:\"WishlistItem\",elem:\"RowWrapper\"},_this.renderQuantityField(),_this.renderPrice(productPrice)),_this.renderDescription(),_this.renderAddToCartButton()));};return _this;}_createClass(_WishlistItem,[{key:\"renderDescription\",value:function renderDescription(){var _this$props=this.props,description=_this$props.product.wishlist.description,changeDescription=_this$props.changeDescription,isMobile=_this$props.isMobile;var isEditingActive=this.props.isEditingActive;if(!description&&!isEditingActive&&isMobile){return null;}var isDisabled=isMobile&&!isEditingActive;var mods=isMobile?{isNotEditingActive:!isEditingActive,isEmpty:!description}:{};return/*#__PURE__*/_checkBEM(React,Field,{id:\"description\",name:\"description\",type:\"textarea\",rows:3,value:description,mix:{block:'WishlistItem',elem:'CommentField',mods:mods},placeholder:__('Add a comment'),isDisabled:isDisabled,onChange:changeDescription});}},{key:\"renderQuantityFieldInput\",value:function renderQuantityFieldInput(){var _this$props2=this.props,quantity=_this$props2.product.wishlist.quantity,changeQuantity=_this$props2.changeQuantity;return/*#__PURE__*/_checkBEM(React,Field,{id:\"item_qty\",name:\"item_qty\",type:\"number\",min:1,value:quantity,mix:{block:'WishlistItem',elem:'QuantityInput',mix:{block:'Field',mods:{style:'inline'}}},onChange:changeQuantity});}},{key:\"renderQuantityField\",value:function renderQuantityField(){var _this$props3=this.props,quantity=_this$props3.product.wishlist.quantity,isEditingActive=_this$props3.isEditingActive,isMobile=_this$props3.isMobile;if(!isMobile){return this.renderQuantityFieldInput();}return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"WishlistItem\",elem:\"QuantityWrapper\"},/*#__PURE__*/_checkBEM(React,\"span\",{block:\"WishlistItem\",elem:\"QuantityText\"},__('Qty:')),isEditingActive?this.renderQuantityFieldInput():quantity);}},{key:\"renderAddToCartButton\",value:function renderAddToCartButton(){var _this$props4=this.props,addToCart=_this$props4.addToCart,isEditingActive=_this$props4.isEditingActive,isMobile=_this$props4.isMobile;var mods=isMobile?{isEditingActive:isEditingActive}:{};return/*#__PURE__*/_checkBEM(React,\"button\",{block:\"Button\",mods:{isHollow:isMobile},mix:{block:'WishlistItem',elem:'AddToCart',mods:mods},onClick:addToCart},__('Add to cart'));}},{key:\"renderRemove\",value:function renderRemove(){var removeItem=this.props.removeItem;return/*#__PURE__*/_checkBEM(React,\"button\",{block:\"WishlistItem\",elem:\"Remove\",onClick:removeItem,\"aria-label\":__('Remove')});}},{key:\"getWishlistProduct\",value:function getWishlistProduct(){var _this$props5=this.props,product=_this$props5.product,_this$props5$product=_this$props5.product,url=_this$props5$product.url,type_id=_this$props5$product.type_id;if(type_id!=='configurable'){return product;}var wishedVariant=product.variants.find(function(_ref){var sku=_ref.sku;return sku===product.wishlist.sku;});if(!wishedVariant){return _objectSpread(_objectSpread({},product),{},{url:url});}return _objectSpread(_objectSpread({},wishedVariant),{},{url:url});}},{key:\"renderOptionsList\",value:function renderOptionsList(){var options=this.props.product.wishlist.options;return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"WishlistItemOptions\",elem:\"List\"},options.map(this.renderOption));}},{key:\"renderOptions\",value:function renderOptions(){var _this$props$product=this.props.product,_this$props$product$w=_this$props$product.wishlist.options,options=_this$props$product$w===void 0?[]:_this$props$product$w,type_id=_this$props$product.type_id;if(options.length===0||type_id!==BUNDLE&&type_id!==GROUPED){return null;}return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"WishlistItemOptions\"},this.renderOptionsList());}},{key:\"renderName\",value:function renderName(){var name=this.props.product.name;return/*#__PURE__*/_checkBEM(React,\"span\",null,name);}},{key:\"renderPrice\",value:function renderPrice(productPrice){return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"WishlistItem\",elem:\"Price\"},productPrice());}},{key:\"renderAttributes\",value:function renderAttributes(){var attributes=this.props.attributes;return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"WishlistItem\",elem:\"AttributeWrapper\"},attributes.map(function(attr){return/*#__PURE__*/_checkBEM(React,\"span\",{mix:{block:'ProductAttribute'}},attr);}));}},{key:\"renderSelectCheckbox\",value:function renderSelectCheckbox(){var _this$props6=this.props,id=_this$props6.product.wishlist.id,handleSelectIdChange=_this$props6.handleSelectIdChange,isEditingActive=_this$props6.isEditingActive;return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"WishlistItem\",elem:\"Select\",mods:{isEditingActive:isEditingActive}},/*#__PURE__*/_checkBEM(React,Field,{type:\"checkbox\",id:\"option-\".concat(id),name:\"option-\".concat(id)// eslint-disable-next-line react/jsx-no-bind\n,onClick:function onClick(){return handleSelectIdChange(id);}}));}},{key:\"renderContentMobile\",value:function renderContentMobile(_ref2){var productPrice=_ref2.content.productPrice,renderPicture=_ref2.pictureBlock.picture,renderCardLinkWrapper=_ref2.renderCardLinkWrapper;var isEditingActive=this.props.isEditingActive;return/*#__PURE__*/_checkBEM(React,React.Fragment,null,/*#__PURE__*/_checkBEM(React,\"div\",{block:\"WishlistItem\",elem:\"SelectWrapper\"},this.renderSelectCheckbox(),/*#__PURE__*/_checkBEM(React,\"div\",{block:\"WishlistItem\",elem:\"ContentWrapper\",mods:{isEditingActive:isEditingActive}},renderCardLinkWrapper(/*#__PURE__*/_checkBEM(React,\"figure\",{mix:{block:'ProductCard',elem:'Figure'}},renderPicture({block:'WishlistItem',elem:'Picture'})),{block:'WishlistItem',elem:'ImageWrapper'}),/*#__PURE__*/_checkBEM(React,\"div\",{block:\"WishlistItem\",elem:\"Content\"},this.renderName(),this.renderAttributes(),this.renderQuantityField(),/*#__PURE__*/_checkBEM(React,\"div\",{block:\"WishlistItem\",elem:\"RowWrapper\"},this.renderPrice(productPrice),this.renderAddToCartButton())))),this.renderDescription());}},{key:\"render\",value:function render(){var _this$props7=this.props,isLoading=_this$props7.isLoading,isRemoving=_this$props7.isRemoving;return/*#__PURE__*/_checkBEM(React,ProductCard,{product:this.getWishlistProduct(),mix:{block:'WishlistItem',elem:'ProductCard'},isLoading:isLoading||isRemoving,renderContent:this.renderContent,hideWishlistButton:true,hideCompareButton:true});}}]);return _WishlistItem;}(Extensible(PureComponent));_WishlistItem.defaultProps={addToCart:function addToCart(){},changeQuantity:function changeQuantity(){},changeDescription:function changeDescription(){},removeItem:function removeItem(){},isLoading:false,isRemoving:false};Object.defineProperty(_WishlistItem,'name',{value:'WishlistItem'});export var WishlistItem=middleware(_WishlistItem,\"Component/WishlistItem/Component\");export default WishlistItem;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/WishlistItem/WishlistItem.component.js"],"names":["PureComponent","Field","ProductCard","ProductType","BUNDLE","GROUPED","WishlistItem","renderOption","option","label","value","renderContent","renderMethods","productPrice","content","renderPicture","pictureBlock","picture","renderCardLinkWrapper","isMobile","props","renderContentMobile","block","elem","renderName","renderAttributes","renderRemove","renderOptions","renderQuantityField","renderPrice","renderDescription","renderAddToCartButton","description","product","wishlist","changeDescription","isEditingActive","isDisabled","mods","isNotEditingActive","isEmpty","__","quantity","changeQuantity","mix","style","renderQuantityFieldInput","addToCart","isHollow","removeItem","url","type_id","wishedVariant","variants","find","sku","options","map","length","renderOptionsList","name","attributes","attr","id","handleSelectIdChange","renderSelectCheckbox","isLoading","isRemoving","getWishlistProduct","defaultProps","Object","defineProperty","_WishlistItem"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Field from 'Component/Field';\nimport ProductCard from 'Component/ProductCard';\nimport { ProductType } from 'Type/ProductList';\nimport { BUNDLE, GROUPED } from 'Util/Product';\n\nimport './WishlistItem.style';\n\n/** @namespace Component/WishlistItem/Component */\nexport class WishlistItem extends PureComponent {\n    static propTypes = {\n        addToCart: PropTypes.func,\n        changeQuantity: PropTypes.func,\n        product: ProductType.isRequired,\n        changeDescription: PropTypes.func,\n        removeItem: PropTypes.func,\n        isLoading: PropTypes.bool,\n        isRemoving: PropTypes.bool,\n        isMobile: PropTypes.bool.isRequired,\n        isEditingActive: PropTypes.bool.isRequired,\n        attributes: PropTypes.array.isRequired,\n        handleSelectIdChange: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        addToCart: () => {},\n        changeQuantity: () => {},\n        changeDescription: () => {},\n        removeItem: () => {},\n        isLoading: false,\n        isRemoving: false\n    };\n\n    renderDescription() {\n        const {\n            product: { wishlist: { description } },\n            changeDescription,\n            isMobile\n        } = this.props;\n        const { isEditingActive } = this.props;\n\n        if (!description && !isEditingActive && isMobile) {\n            return null;\n        }\n\n        const isDisabled = isMobile && !isEditingActive;\n        const mods = isMobile\n            ? {\n                isNotEditingActive: !isEditingActive,\n                isEmpty: !description\n            }\n            : {};\n\n        return (\n            <Field\n              id=\"description\"\n              name=\"description\"\n              type=\"textarea\"\n              rows={ 3 }\n              value={ description }\n              mix={ { block: 'WishlistItem', elem: 'CommentField', mods } }\n              placeholder={ __('Add a comment') }\n              isDisabled={ isDisabled }\n              onChange={ changeDescription }\n            />\n        );\n    }\n\n    renderQuantityFieldInput() {\n        const {\n            product: { wishlist: { quantity } },\n            changeQuantity\n        } = this.props;\n\n        return (\n            <Field\n              id=\"item_qty\"\n              name=\"item_qty\"\n              type=\"number\"\n              min={ 1 }\n              value={ quantity }\n              mix={ {\n                  block: 'WishlistItem',\n                  elem: 'QuantityInput',\n                  mix: { block: 'Field', mods: { style: 'inline' } }\n              } }\n              onChange={ changeQuantity }\n            />\n        );\n    }\n\n    renderQuantityField() {\n        const {\n            product: { wishlist: { quantity } },\n            isEditingActive,\n            isMobile\n        } = this.props;\n\n        if (!isMobile) {\n            return this.renderQuantityFieldInput();\n        }\n\n        return (\n            <div block=\"WishlistItem\" elem=\"QuantityWrapper\">\n                <span block=\"WishlistItem\" elem=\"QuantityText\">{ __('Qty:') }</span>\n                { isEditingActive\n                    ? this.renderQuantityFieldInput()\n                    : quantity }\n            </div>\n        );\n    }\n\n    renderAddToCartButton() {\n        const {\n            addToCart,\n            isEditingActive,\n            isMobile\n        } = this.props;\n\n        const mods = isMobile ? { isEditingActive } : {};\n\n        return (\n            <button\n              block=\"Button\"\n              mods={ { isHollow: isMobile } }\n              mix={ { block: 'WishlistItem', elem: 'AddToCart', mods } }\n              onClick={ addToCart }\n            >\n                { __('Add to cart') }\n            </button>\n        );\n    }\n\n    renderRemove() {\n        const { removeItem } = this.props;\n\n        return (\n            <button\n              block=\"WishlistItem\"\n              elem=\"Remove\"\n              onClick={ removeItem }\n              aria-label={ __('Remove') }\n            />\n        );\n    }\n\n    getWishlistProduct() {\n        const {\n            product,\n            product: { url, type_id }\n        } = this.props;\n\n        if (type_id !== 'configurable') {\n            return product;\n        }\n\n        const wishedVariant = product.variants.find(({ sku }) => sku === product.wishlist.sku);\n\n        if (!wishedVariant) {\n            return {\n                ...product,\n                url\n            };\n        }\n\n        return {\n            ...wishedVariant,\n            url\n        };\n    }\n\n    renderOption = (option) => {\n        const { label, value } = option;\n\n        return (\n            <div block=\"WishlistItemOption\">\n                <span block=\"WishlistItemOption\" elem=\"Label\">\n                    { label }\n                    :\n                </span>\n                <span block=\"WishlistItemOption\" elem=\"Value\">\n                    { value }\n                </span>\n            </div>\n        );\n    };\n\n    renderOptionsList() {\n        const { product: { wishlist: { options } } } = this.props;\n\n        return (\n            <div block=\"WishlistItemOptions\" elem=\"List\">\n                { options.map(this.renderOption) }\n            </div>\n        );\n    }\n\n    renderOptions() {\n        const { product: { wishlist: { options = [] }, type_id } } = this.props;\n\n        if (\n            options.length === 0\n            || (type_id !== BUNDLE && type_id !== GROUPED)\n        ) {\n            return null;\n        }\n\n        return (\n            <div block=\"WishlistItemOptions\">\n                { this.renderOptionsList() }\n            </div>\n        );\n    }\n\n    renderName() {\n        const { product: { name } } = this.props;\n\n        return (\n            <span>{ name }</span>\n        );\n    }\n\n    renderPrice(productPrice) {\n        return (\n            <div\n              block=\"WishlistItem\"\n              elem=\"Price\"\n            >\n                { productPrice() }\n            </div>\n        );\n    }\n\n    renderAttributes() {\n        const { attributes } = this.props;\n\n        return (\n            <div block=\"WishlistItem\" elem=\"AttributeWrapper\">\n                { attributes.map((attr) => (\n                    <span mix={ { block: 'ProductAttribute' } }>\n                        { attr }\n                    </span>\n                )) }\n            </div>\n        );\n    }\n\n    renderSelectCheckbox() {\n        const { product: { wishlist: { id } }, handleSelectIdChange, isEditingActive } = this.props;\n\n        return (\n            <div block=\"WishlistItem\" elem=\"Select\" mods={ { isEditingActive } }>\n                <Field\n                  type=\"checkbox\"\n                  id={ `option-${ id }` }\n                  name={ `option-${ id }` }\n                  // eslint-disable-next-line react/jsx-no-bind\n                  onClick={ () => handleSelectIdChange(id) }\n                />\n            </div>\n        );\n    }\n\n    renderContentMobile({\n        content: { productPrice },\n        pictureBlock: { picture: renderPicture },\n        renderCardLinkWrapper\n    }) {\n        const { isEditingActive } = this.props;\n\n        return (\n            <>\n                <div block=\"WishlistItem\" elem=\"SelectWrapper\">\n                    { this.renderSelectCheckbox() }\n                    <div block=\"WishlistItem\" elem=\"ContentWrapper\" mods={ { isEditingActive } }>\n                        { renderCardLinkWrapper((\n                            <figure mix={ { block: 'ProductCard', elem: 'Figure' } }>\n                                { renderPicture({ block: 'WishlistItem', elem: 'Picture' }) }\n                            </figure>\n                        ), { block: 'WishlistItem', elem: 'ImageWrapper' }) }\n                        <div block=\"WishlistItem\" elem=\"Content\">\n                            { this.renderName() }\n                            { this.renderAttributes() }\n                            { this.renderQuantityField() }\n                            <div block=\"WishlistItem\" elem=\"RowWrapper\">\n                                { this.renderPrice(productPrice) }\n                                { this.renderAddToCartButton() }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                { this.renderDescription() }\n            </>\n        );\n    }\n\n    renderContent = (renderMethods) => {\n        const {\n            content: { productPrice },\n            pictureBlock: { picture: renderPicture },\n            renderCardLinkWrapper\n        } = renderMethods;\n\n        const { isMobile } = this.props;\n\n        if (isMobile) {\n            return this.renderContentMobile(renderMethods);\n        }\n\n        return (\n            <>\n                <div block=\"WishlistItem\" elem=\"FigureWrapper\">\n                    { renderCardLinkWrapper(\n                        <>\n                            <figure mix={ { block: 'ProductCard', elem: 'Figure' } }>\n                                { renderPicture({ block: 'WishlistItem', elem: 'Picture' }) }\n                            </figure>\n                            { this.renderName() }\n                            { this.renderAttributes() }\n                        </>\n                    ) }\n                    { this.renderRemove() }\n                </div>\n                { this.renderOptions() }\n                <div block=\"WishlistItem\" elem=\"Content\">\n                    <div block=\"WishlistItem\" elem=\"RowWrapper\">\n                        { this.renderQuantityField() }\n                        { this.renderPrice(productPrice) }\n                    </div>\n                    { this.renderDescription() }\n                    { this.renderAddToCartButton() }\n                </div>\n            </>\n        );\n    };\n\n    render() {\n        const { isLoading, isRemoving } = this.props;\n\n        return (\n            <ProductCard\n              product={ this.getWishlistProduct() }\n              mix={ { block: 'WishlistItem', elem: 'ProductCard' } }\n              isLoading={ isLoading || isRemoving }\n              renderContent={ this.renderContent }\n              hideWishlistButton\n              hideCompareButton\n            />\n        );\n    }\n}\n\nexport default WishlistItem;\n"]},"metadata":{},"sourceType":"module"}