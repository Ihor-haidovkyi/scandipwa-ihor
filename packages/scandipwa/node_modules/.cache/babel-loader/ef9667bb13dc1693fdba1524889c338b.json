{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import{connect}from'react-redux';import CartCoupon from\"./CartCoupon.component\";export var CartDispatcher=import(/* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Cart/Cart.dispatcher\");/** @namespace Component/CartCoupon/Container/mapDispatchToProps */export var mapDispatchToProps=middleware(function(dispatch){return{applyCouponToCart:function applyCouponToCart(couponCode){return CartDispatcher.then(function(_ref){var dispatcher=_ref.default;return dispatcher.applyCouponToCart(dispatch,couponCode);});},removeCouponFromCart:function removeCouponFromCart(){return CartDispatcher.then(function(_ref2){var dispatcher=_ref2.default;return dispatcher.removeCouponFromCart(dispatch);});}};},\"Component/CartCoupon/Container/mapDispatchToProps\");/** @namespace Component/CartCoupon/Container */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _CartCouponContainer=/*#__PURE__*/function(_Extensible){_inherits(_CartCouponContainer,_Extensible);var _super=_createSuper(_CartCouponContainer);function _CartCouponContainer(){var _this;_classCallCheck(this,_CartCouponContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.containerFunctions={handleApplyCouponToCart:_this.handleApplyCouponToCart.bind(_assertThisInitialized(_this)),handleRemoveCouponFromCart:_this.handleRemoveCouponFromCart.bind(_assertThisInitialized(_this))};_this.state={isLoading:false};return _this;}_createClass(_CartCouponContainer,[{key:\"handleApplyCouponToCart\",value:function handleApplyCouponToCart(couponCode){var _this2=this;var _this$props=this.props,applyCouponToCart=_this$props.applyCouponToCart,onCouponCodeUpdate=_this$props.onCouponCodeUpdate;this.setState({isLoading:true});applyCouponToCart(couponCode).then(/** @namespace Component/CartCoupon/Container/applyCouponToCartThen */middleware(function(){return onCouponCodeUpdate();},\"Component/CartCoupon/Container/applyCouponToCartThen\")).finally(/** @namespace Component/CartCoupon/Container/applyCouponToCartFinally */middleware(function(){return _this2.setState({isLoading:false});},\"Component/CartCoupon/Container/applyCouponToCartFinally\"));}},{key:\"handleRemoveCouponFromCart\",value:function handleRemoveCouponFromCart(){var _this3=this;var _this$props2=this.props,removeCouponFromCart=_this$props2.removeCouponFromCart,onCouponCodeUpdate=_this$props2.onCouponCodeUpdate;this.setState({isLoading:true});removeCouponFromCart().then(/** @namespace Component/CartCoupon/Container/removeCouponFromCartThen */middleware(function(){return onCouponCodeUpdate();},\"Component/CartCoupon/Container/removeCouponFromCartThen\")).finally(/** @namespace Component/CartCoupon/Container/removeCouponFromCartFinally */middleware(function(){return _this3.setState({isLoading:false});},\"Component/CartCoupon/Container/removeCouponFromCartFinally\"));}},{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,CartCoupon,Object.assign({},this.props,this.state,this.containerFunctions));}}]);return _CartCouponContainer;}(Extensible(PureComponent));/** @namespace Component/CartCoupon/Container/mapStateToProps */ // eslint-disable-next-line no-unused-vars\n_CartCouponContainer.defaultProps={couponCode:'',onCouponCodeUpdate:function onCouponCodeUpdate(){}};Object.defineProperty(_CartCouponContainer,'name',{value:'CartCouponContainer'});export var CartCouponContainer=middleware(_CartCouponContainer,\"Component/CartCoupon/Container\");export var mapStateToProps=middleware(function(state){return{};},\"Component/CartCoupon/Container/mapStateToProps\");export default connect(mapStateToProps,mapDispatchToProps)(CartCouponContainer);","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/CartCoupon/CartCoupon.container.js"],"names":["PureComponent","connect","CartCoupon","CartDispatcher","mapDispatchToProps","dispatch","applyCouponToCart","couponCode","then","dispatcher","default","removeCouponFromCart","CartCouponContainer","containerFunctions","handleApplyCouponToCart","bind","handleRemoveCouponFromCart","state","isLoading","props","onCouponCodeUpdate","setState","finally","defaultProps","Object","defineProperty","_CartCouponContainer","value","mapStateToProps"],"mappings":"qtBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAGA,OAASA,aAAT,KAA8B,OAA9B,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,MAAOC,CAAAA,UAAP,8BAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,OAC1B,0DAD0B,+EAAvB,CAKP,mEACA,MAAO,IAAMC,CAAAA,kBAAkB,YAAG,SAACC,QAAD,QAAe,CAC7CC,iBAAiB,CAAE,2BAACC,UAAD,QAAgBJ,CAAAA,cAAc,CAACK,IAAf,CAC/B,kBAAYC,CAAAA,UAAZ,MAAGC,OAAH,OAA6BD,CAAAA,UAAU,CAACH,iBAAX,CAA6BD,QAA7B,CAAuCE,UAAvC,CAA7B,EAD+B,CAAhB,EAD0B,CAI7CI,oBAAoB,CAAE,sCAAMR,CAAAA,cAAc,CAACK,IAAf,CACxB,mBAAYC,CAAAA,UAAZ,OAAGC,OAAH,OAA6BD,CAAAA,UAAU,CAACE,oBAAX,CAAgCN,QAAhC,CAA7B,EADwB,CAAN,EAJuB,CAAf,EAAH,qDAAxB,CASP,gD,wEACA,UAAaO,CAAAA,oBAAb,qXAaIC,kBAbJ,CAayB,CACjBC,uBAAuB,CAAE,MAAKA,uBAAL,CAA6BC,IAA7B,+BADR,CAEjBC,0BAA0B,CAAE,MAAKA,0BAAL,CAAgCD,IAAhC,+BAFX,CAbzB,OAkBIE,KAlBJ,CAkBY,CAAEC,SAAS,CAAE,KAAb,CAlBZ,uFAoBI,iCAAwBX,UAAxB,CAAoC,iCACkB,KAAKY,KADvB,CACxBb,iBADwB,aACxBA,iBADwB,CACLc,kBADK,aACLA,kBADK,CAGhC,KAAKC,QAAL,CAAc,CAAEH,SAAS,CAAE,IAAb,CAAd,EAEAZ,iBAAiB,CAACC,UAAD,CAAjB,CAA8BC,IAA9B,CACI,sEADJ,WAEI,iBAAMY,CAAAA,kBAAkB,EAAxB,EAFJ,0DAGEE,OAHF,CAII,yEAJJ,WAKI,iBAAM,CAAA,MAAI,CAACD,QAAL,CAAc,CAAEH,SAAS,CAAE,KAAb,CAAd,CAAN,EALJ,6DAOH,CAhCL,0CAkCI,qCAA6B,kCAC4B,KAAKC,KADjC,CACjBR,oBADiB,cACjBA,oBADiB,CACKS,kBADL,cACKA,kBADL,CAGzB,KAAKC,QAAL,CAAc,CAAEH,SAAS,CAAE,IAAb,CAAd,EAEAP,oBAAoB,GAAGH,IAAvB,CACI,yEADJ,WAEI,iBAAMY,CAAAA,kBAAkB,EAAxB,EAFJ,6DAGEE,OAHF,CAII,4EAJJ,WAKI,iBAAM,CAAA,MAAI,CAACD,QAAL,CAAc,CAAEH,SAAS,CAAE,KAAb,CAAd,CAAN,EALJ,gEAOH,CA9CL,sBAgDI,iBAAS,CACL,mCACK,UADL,kBAEW,KAAKC,KAFhB,CAGW,KAAKF,KAHhB,CAIW,KAAKJ,kBAJhB,GAOH,CAxDL,6DA2DA,gE,CACA;AA5DaD,oB,CAQFW,Y,CAAe,CAClBhB,UAAU,CAAE,EADM,CAElBa,kBAAkB,CAAE,6BAAM,CAAE,CAFV,C,CAzC1BI,MAAM,CAACC,cAAP,CAAsBC,oBAAtB,CAA4C,MAA5C,CAAoD,CAAEC,KAAK,CAAE,qBAAT,CAApD,E,iGA8FA,MAAO,IAAMC,CAAAA,eAAe,YAAG,SAACX,KAAD,QAAY,EAAZ,EAAH,kDAArB,CAEP,cAAehB,CAAAA,OAAO,CAAC2B,eAAD,CAAkBxB,kBAAlB,CAAP,CAA6CQ,mBAA7C,CAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport CartCoupon from './CartCoupon.component';\n\nexport const CartDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Cart/Cart.dispatcher'\n);\n\n/** @namespace Component/CartCoupon/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    applyCouponToCart: (couponCode) => CartDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.applyCouponToCart(dispatch, couponCode)\n    ),\n    removeCouponFromCart: () => CartDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.removeCouponFromCart(dispatch)\n    )\n});\n\n/** @namespace Component/CartCoupon/Container */\nexport class CartCouponContainer extends PureComponent {\n    static propTypes = {\n        couponCode: PropTypes.string,\n        applyCouponToCart: PropTypes.func.isRequired,\n        removeCouponFromCart: PropTypes.func.isRequired,\n        onCouponCodeUpdate: PropTypes.func\n    };\n\n    static defaultProps = {\n        couponCode: '',\n        onCouponCodeUpdate: () => {}\n    };\n\n    containerFunctions = {\n        handleApplyCouponToCart: this.handleApplyCouponToCart.bind(this),\n        handleRemoveCouponFromCart: this.handleRemoveCouponFromCart.bind(this)\n    };\n\n    state = { isLoading: false };\n\n    handleApplyCouponToCart(couponCode) {\n        const { applyCouponToCart, onCouponCodeUpdate } = this.props;\n\n        this.setState({ isLoading: true });\n\n        applyCouponToCart(couponCode).then(\n            /** @namespace Component/CartCoupon/Container/applyCouponToCartThen */\n            () => onCouponCodeUpdate()\n        ).finally(\n            /** @namespace Component/CartCoupon/Container/applyCouponToCartFinally */\n            () => this.setState({ isLoading: false })\n        );\n    }\n\n    handleRemoveCouponFromCart() {\n        const { removeCouponFromCart, onCouponCodeUpdate } = this.props;\n\n        this.setState({ isLoading: true });\n\n        removeCouponFromCart().then(\n            /** @namespace Component/CartCoupon/Container/removeCouponFromCartThen */\n            () => onCouponCodeUpdate()\n        ).finally(\n            /** @namespace Component/CartCoupon/Container/removeCouponFromCartFinally */\n            () => this.setState({ isLoading: false })\n        );\n    }\n\n    render() {\n        return (\n            <CartCoupon\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\n/** @namespace Component/CartCoupon/Container/mapStateToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapStateToProps = (state) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CartCouponContainer);\n"]},"metadata":{},"sourceType":"module"}