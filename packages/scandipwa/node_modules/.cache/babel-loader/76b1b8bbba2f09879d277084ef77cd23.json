{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/* eslint-disable react/jsx-no-bind */ /* eslint-disable max-len */ /**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{cloneElement,lazy,PureComponent,Suspense}from'react';import{Router as ReactRouter}from'react-router';import{Route,Switch}from'react-router-dom';import Breadcrumbs from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Breadcrumbs\";import CookiePopup from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/CookiePopup\";import DemoNotice from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/DemoNotice\";import Footer from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Footer\";import Header from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Header\";import Loader from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Loader\";import Meta from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Meta\";import NavigationTabs from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/NavigationTabs\";import NewVersionPopup from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/NewVersionPopup\";import NotificationList from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/NotificationList\";import OfflineNotice from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/OfflineNotice\";import SomethingWentWrong from\"/home/marketihor/scandipwa/packages/scandipwa/src/route/SomethingWentWrong\";import UrlRewrites from\"/home/marketihor/scandipwa/packages/scandipwa/src/route/UrlRewrites\";import history from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/History\";import{AFTER_ITEMS_TYPE,BEFORE_ITEMS_TYPE,SWITCH_ITEMS_TYPE}from\"./Router.config\";export var CartPage=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"cart\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/route/CartPage\");});export var Checkout=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"checkout\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/route/Checkout\");});export var CmsPage=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"cms\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/route/CmsPage\");});export var HomePage=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"cms\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/route/HomePage\");});export var MyAccount=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"account\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/route/MyAccount\");});export var PasswordChangePage=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"misc\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/route/PasswordChangePage\");});export var SearchPage=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"category\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/route/SearchPage\");});export var ConfirmAccountPage=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"cms\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/route/ConfirmAccountPage\");});export var MenuPage=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"cms\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/route/MenuPage\");});export var WishlistShared=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"misc\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/route/WishlistSharedPage\");});export var ContactPage=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"contact\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/route/ContactPage\");});export var ProductComparePage=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"compare\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/route/ProductComparePage\");});export var CreateAccountPage=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"compare\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/route/CreateAccount\");});export var LoginAccountPage=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"compare\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/route/LoginAccount\");});export var ForgotPasswordPage=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"compare\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/route/ForgotPassword\");});/** @namespace Component/Router/Component/withStoreRegex */export var withStoreRegex=middleware(function(path){return window.storeRegexText.concat(path);},\"Component/Router/Component/withStoreRegex\");/** @namespace Component/Router/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _Router=/*#__PURE__*/function(_Extensible){_inherits(_Router,_Extensible);var _super=_createSuper(_Router);function _Router(){var _this;_classCallCheck(this,_Router);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this[BEFORE_ITEMS_TYPE]=[{component:/*#__PURE__*/_checkBEM(React,NotificationList,null),position:10},{component:/*#__PURE__*/_checkBEM(React,DemoNotice,null),position:15},{component:/*#__PURE__*/_checkBEM(React,Header,null),position:20},{component:/*#__PURE__*/_checkBEM(React,NavigationTabs,null),position:25},{component:/*#__PURE__*/_checkBEM(React,Breadcrumbs,null),position:30},{component:/*#__PURE__*/_checkBEM(React,NewVersionPopup,null),position:35}];_this[SWITCH_ITEMS_TYPE]=[{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/'),exact:true,render:function render(props){return/*#__PURE__*/_checkBEM(React,HomePage,props);}}),position:10},{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/search/:query/'),render:function render(props){return/*#__PURE__*/_checkBEM(React,SearchPage,props);}}),position:25},{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/page'),render:function render(props){return/*#__PURE__*/_checkBEM(React,CmsPage,props);}}),position:40},{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/cart'),exact:true,render:function render(props){return/*#__PURE__*/_checkBEM(React,CartPage,props);}}),position:50},{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/checkout/:step?'),render:function render(props){return/*#__PURE__*/_checkBEM(React,Checkout,props);}}),position:55},{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/:account*/createPassword/'),render:function render(props){return/*#__PURE__*/_checkBEM(React,PasswordChangePage,props);}}),position:60},{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/:account*/create/'),render:function render(props){return/*#__PURE__*/_checkBEM(React,CreateAccountPage,props);}}),position:61},{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/:account*/login/'),render:function render(props){return/*#__PURE__*/_checkBEM(React,LoginAccountPage,props);}}),position:62},{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/:account*/forgotpassword/'),render:function render(props){return/*#__PURE__*/_checkBEM(React,ForgotPasswordPage,props);}}),position:63},{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/:account*/confirm'),render:function render(props){return/*#__PURE__*/_checkBEM(React,ConfirmAccountPage,props);}}),position:65},{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/my-account/:tab?'),render:function render(props){return/*#__PURE__*/_checkBEM(React,MyAccount,props);}}),position:70},{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/forgot-password'),render:function render(props){return/*#__PURE__*/_checkBEM(React,MyAccount,props);}}),position:71},{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/menu'),render:function render(props){return/*#__PURE__*/_checkBEM(React,MenuPage,props);}}),position:80},{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/wishlist/shared/:code'),render:function render(props){return/*#__PURE__*/_checkBEM(React,WishlistShared,props);}}),position:81},{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/contact'),render:function render(props){return/*#__PURE__*/_checkBEM(React,ContactPage,props);}}),position:82},{component:/*#__PURE__*/_checkBEM(React,Route,{path:withStoreRegex('/compare'),render:function render(props){return/*#__PURE__*/_checkBEM(React,ProductComparePage,props);}}),position:83},{component:/*#__PURE__*/_checkBEM(React,Route,{render:function render(props){return/*#__PURE__*/_checkBEM(React,UrlRewrites,props);}}),position:1000}];_this[AFTER_ITEMS_TYPE]=[{component:/*#__PURE__*/_checkBEM(React,Footer,null),position:10},{component:/*#__PURE__*/_checkBEM(React,CookiePopup,null),position:20}];_this.state={hasError:false,errorDetails:{}};_this.handleErrorReset=function(){_this.setState({hasError:false});};return _this;}_createClass(_Router,[{key:\"componentDidCatch\",value:function componentDidCatch(err,info){this.setState({hasError:true,errorDetails:{err:err,info:info}});}},{key:\"getSortedItems\",value:function getSortedItems(type){return this[type].sort(function(a,b){return a.position-b.position;}).filter(function(entry){if(!entry.component){// eslint-disable-next-line no-console\nconsole.warn('There is an item without a component property declared in main router.');return false;}return true;});}},{key:\"renderItemsOfType\",value:function renderItemsOfType(type){return this.getSortedItems(type).map(function(_ref){var position=_ref.position,component=_ref.component;return/*#__PURE__*/cloneElement(component,{key:position});});}},{key:\"renderMainItems\",value:function renderMainItems(){var isBigOffline=this.props.isBigOffline;if(!navigator.onLine&&isBigOffline){return/*#__PURE__*/_checkBEM(React,OfflineNotice,{isPage:true});}return/*#__PURE__*/_checkBEM(React,Suspense,{fallback:this.renderFallbackPage()},/*#__PURE__*/_checkBEM(React,Switch,null,this.renderItemsOfType(SWITCH_ITEMS_TYPE)));}},{key:\"renderErrorRouterContent\",value:function renderErrorRouterContent(){var errorDetails=this.state.errorDetails;return/*#__PURE__*/_checkBEM(React,SomethingWentWrong,{onClick:this.handleErrorReset,errorDetails:errorDetails});}},{key:\"renderFallbackPage\",value:function renderFallbackPage(){return/*#__PURE__*/_checkBEM(React,\"main\",{style:{height:'100vh'}},/*#__PURE__*/_checkBEM(React,Loader,{isLoading:true}));}},{key:\"renderDefaultRouterContent\",value:function renderDefaultRouterContent(){return/*#__PURE__*/_checkBEM(React,React.Fragment,null,this.renderItemsOfType(BEFORE_ITEMS_TYPE),this.renderMainItems(),this.renderItemsOfType(AFTER_ITEMS_TYPE));}},{key:\"renderRouterContent\",value:function renderRouterContent(){var hasError=this.state.hasError;if(hasError){return this.renderErrorRouterContent();}return this.renderDefaultRouterContent();}},{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,React.Fragment,null,/*#__PURE__*/_checkBEM(React,Meta,null),/*#__PURE__*/_checkBEM(React,ReactRouter,{history:history},this.renderRouterContent()));}}]);return _Router;}(Extensible(PureComponent));_Router.defaultProps={isBigOffline:false};Object.defineProperty(_Router,'name',{value:'Router'});export var Router=middleware(_Router,\"Component/Router/Component\");export default Router;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/Router/Router.component.js"],"names":["cloneElement","lazy","PureComponent","Suspense","Router","ReactRouter","Route","Switch","Breadcrumbs","CookiePopup","DemoNotice","Footer","Header","Loader","Meta","NavigationTabs","NewVersionPopup","NotificationList","OfflineNotice","SomethingWentWrong","UrlRewrites","history","AFTER_ITEMS_TYPE","BEFORE_ITEMS_TYPE","SWITCH_ITEMS_TYPE","CartPage","Checkout","CmsPage","HomePage","MyAccount","PasswordChangePage","SearchPage","ConfirmAccountPage","MenuPage","WishlistShared","ContactPage","ProductComparePage","CreateAccountPage","LoginAccountPage","ForgotPasswordPage","withStoreRegex","path","window","storeRegexText","concat","component","position","props","state","hasError","errorDetails","handleErrorReset","setState","err","info","type","sort","a","b","filter","entry","console","warn","getSortedItems","map","key","isBigOffline","navigator","onLine","renderFallbackPage","renderItemsOfType","height","renderMainItems","renderErrorRouterContent","renderDefaultRouterContent","renderRouterContent","defaultProps","Object","defineProperty","_Router","value"],"mappings":"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","sourcesContent":["/* eslint-disable react/jsx-no-bind */\n/* eslint-disable max-len */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport {\n    cloneElement,\n    lazy,\n    PureComponent,\n    Suspense\n} from 'react';\nimport { Router as ReactRouter } from 'react-router';\nimport { Route, Switch } from 'react-router-dom';\n\nimport Breadcrumbs from 'Component/Breadcrumbs';\nimport CookiePopup from 'Component/CookiePopup';\nimport DemoNotice from 'Component/DemoNotice';\nimport Footer from 'Component/Footer';\nimport Header from 'Component/Header';\nimport Loader from 'Component/Loader';\nimport Meta from 'Component/Meta';\nimport NavigationTabs from 'Component/NavigationTabs';\nimport NewVersionPopup from 'Component/NewVersionPopup';\nimport NotificationList from 'Component/NotificationList';\nimport OfflineNotice from 'Component/OfflineNotice';\nimport SomethingWentWrong from 'Route/SomethingWentWrong';\nimport UrlRewrites from 'Route/UrlRewrites';\nimport history from 'Util/History';\n\nimport {\n    AFTER_ITEMS_TYPE,\n    BEFORE_ITEMS_TYPE,\n    SWITCH_ITEMS_TYPE\n} from './Router.config';\n\nexport const CartPage = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"cart\" */ 'Route/CartPage'));\nexport const Checkout = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"checkout\" */ 'Route/Checkout'));\nexport const CmsPage = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"cms\" */ 'Route/CmsPage'));\nexport const HomePage = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"cms\" */ 'Route/HomePage'));\nexport const MyAccount = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"account\" */ 'Route/MyAccount'));\nexport const PasswordChangePage = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"misc\" */ 'Route/PasswordChangePage'));\nexport const SearchPage = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"category\" */ 'Route/SearchPage'));\nexport const ConfirmAccountPage = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"cms\" */ 'Route/ConfirmAccountPage'));\nexport const MenuPage = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"cms\" */ 'Route/MenuPage'));\nexport const WishlistShared = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"misc\" */ 'Route/WishlistSharedPage'));\nexport const ContactPage = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"contact\" */ 'Route/ContactPage'));\nexport const ProductComparePage = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"compare\" */ 'Route/ProductComparePage'));\nexport const CreateAccountPage = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"compare\" */ 'Route/CreateAccount'));\nexport const LoginAccountPage = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"compare\" */ 'Route/LoginAccount'));\nexport const ForgotPasswordPage = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"compare\" */ 'Route/ForgotPassword'));\n\n/** @namespace Component/Router/Component/withStoreRegex */\nexport const withStoreRegex = (path) => window.storeRegexText.concat(path);\n\n/** @namespace Component/Router/Component */\nexport class Router extends PureComponent {\n    static propTypes = {\n        isBigOffline: PropTypes.bool\n    };\n\n    static defaultProps = {\n        isBigOffline: false\n    };\n\n    [BEFORE_ITEMS_TYPE] = [\n        {\n            component: <NotificationList />,\n            position: 10\n        },\n        {\n            component: <DemoNotice />,\n            position: 15\n        },\n        {\n            component: <Header />,\n            position: 20\n        },\n        {\n            component: <NavigationTabs />,\n            position: 25\n        },\n        {\n            component: <Breadcrumbs />,\n            position: 30\n        },\n        {\n            component: <NewVersionPopup />,\n            position: 35\n        }\n    ];\n\n    [SWITCH_ITEMS_TYPE] = [\n        {\n            component: <Route path={ withStoreRegex('/') } exact render={ (props) => <HomePage { ...props } /> } />,\n            position: 10\n        },\n        {\n            component: <Route path={ withStoreRegex('/search/:query/') } render={ (props) => <SearchPage { ...props } /> } />,\n            position: 25\n        },\n        {\n            component: <Route path={ withStoreRegex('/page') } render={ (props) => <CmsPage { ...props } /> } />,\n            position: 40\n        },\n        {\n            component: <Route path={ withStoreRegex('/cart') } exact render={ (props) => <CartPage { ...props } /> } />,\n            position: 50\n        },\n        {\n            component: <Route path={ withStoreRegex('/checkout/:step?') } render={ (props) => <Checkout { ...props } /> } />,\n            position: 55\n        },\n        {\n            component: <Route path={ withStoreRegex('/:account*/createPassword/') } render={ (props) => <PasswordChangePage { ...props } /> } />,\n            position: 60\n        },\n        {\n            component: <Route path={ withStoreRegex('/:account*/create/') } render={ (props) => <CreateAccountPage { ...props } /> } />,\n            position: 61\n        },\n        {\n            component: <Route path={ withStoreRegex('/:account*/login/') } render={ (props) => <LoginAccountPage { ...props } /> } />,\n            position: 62\n        },\n        {\n            component: <Route path={ withStoreRegex('/:account*/forgotpassword/') } render={ (props) => <ForgotPasswordPage { ...props } /> } />,\n            position: 63\n        },\n        {\n            component: <Route path={ withStoreRegex('/:account*/confirm') } render={ (props) => <ConfirmAccountPage { ...props } /> } />,\n            position: 65\n        },\n        {\n            component: <Route path={ withStoreRegex('/my-account/:tab?') } render={ (props) => <MyAccount { ...props } /> } />,\n            position: 70\n        },\n        {\n            component: <Route path={ withStoreRegex('/forgot-password') } render={ (props) => <MyAccount { ...props } /> } />,\n            position: 71\n        },\n        {\n            component: <Route path={ withStoreRegex('/menu') } render={ (props) => <MenuPage { ...props } /> } />,\n            position: 80\n        },\n        {\n            component: <Route path={ withStoreRegex('/wishlist/shared/:code') } render={ (props) => <WishlistShared { ...props } /> } />,\n            position: 81\n        },\n        {\n            component: <Route path={ withStoreRegex('/contact') } render={ (props) => <ContactPage { ...props } /> } />,\n            position: 82\n        },\n        {\n            component: <Route path={ withStoreRegex('/compare') } render={ (props) => <ProductComparePage { ...props } /> } />,\n            position: 83\n        },\n        {\n            component: <Route render={ (props) => <UrlRewrites { ...props } /> } />,\n            position: 1000\n        }\n    ];\n\n    [AFTER_ITEMS_TYPE] = [\n        {\n            component: <Footer />,\n            position: 10\n        },\n        {\n            component: <CookiePopup />,\n            position: 20\n        }\n    ];\n\n    state = {\n        hasError: false,\n        errorDetails: {}\n    };\n\n    componentDidCatch(err, info) {\n        this.setState({\n            hasError: true,\n            errorDetails: { err, info }\n        });\n    }\n\n    getSortedItems(type) {\n        return this[type].sort(\n            (a, b) => a.position - b.position\n        ).filter(\n            (entry) => {\n                if (!entry.component) {\n                    // eslint-disable-next-line no-console\n                    console.warn('There is an item without a component property declared in main router.');\n                    return false;\n                }\n\n                return true;\n            }\n        );\n    }\n\n    handleErrorReset = () => {\n        this.setState({ hasError: false });\n    };\n\n    renderItemsOfType(type) {\n        return this.getSortedItems(type)\n            .map(({ position, component }) => cloneElement(component, { key: position }));\n    }\n\n    renderMainItems() {\n        const { isBigOffline } = this.props;\n\n        if (!navigator.onLine && isBigOffline) {\n            return <OfflineNotice isPage />;\n        }\n\n        return (\n            <Suspense fallback={ this.renderFallbackPage() }>\n                <Switch>\n                    { this.renderItemsOfType(SWITCH_ITEMS_TYPE) }\n                </Switch>\n            </Suspense>\n        );\n    }\n\n    renderErrorRouterContent() {\n        const { errorDetails } = this.state;\n\n        return (\n            <SomethingWentWrong\n              onClick={ this.handleErrorReset }\n              errorDetails={ errorDetails }\n            />\n        );\n    }\n\n    renderFallbackPage() {\n        return (\n            <main style={ { height: '100vh' } }>\n                <Loader isLoading />\n            </main>\n        );\n    }\n\n    renderDefaultRouterContent() {\n        return (\n            <>\n                { this.renderItemsOfType(BEFORE_ITEMS_TYPE) }\n                { this.renderMainItems() }\n                { this.renderItemsOfType(AFTER_ITEMS_TYPE) }\n            </>\n        );\n    }\n\n    renderRouterContent() {\n        const { hasError } = this.state;\n\n        if (hasError) {\n            return this.renderErrorRouterContent();\n        }\n\n        return this.renderDefaultRouterContent();\n    }\n\n    render() {\n        return (\n            <>\n                <Meta />\n                <ReactRouter history={ history }>\n                    { this.renderRouterContent() }\n                </ReactRouter>\n            </>\n        );\n    }\n}\n\nexport default Router;\n"]},"metadata":{},"sourceType":"module"}