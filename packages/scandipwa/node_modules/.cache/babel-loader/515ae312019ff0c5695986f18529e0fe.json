{"ast":null,"code":"var attributesToProps=require(\"./attributes-to-props\");var utilities=require(\"./utilities\");/**\n * Converts DOM nodes to React elements.\n *\n * @param {DomElement[]} nodes - The DOM nodes.\n * @param {Object} [options={}] - The additional options.\n * @param {Function} [options.replace] - The replacer.\n * @param {Object} [options.library] - The library (React, Preact, etc.).\n * @return {String|ReactElement|ReactElement[]}\n */function domToReact(nodes,options){options=options||{};var React=options.library||require('react');var cloneElement=React.cloneElement;var createElement=React.createElement;var isValidElement=React.isValidElement;var result=[];var node;var hasReplace=typeof options.replace==='function';var replaceElement;var props;var children;var data;var trim=options.trim;for(var i=0,len=nodes.length;i<len;i++){node=nodes[i];// replace with custom React element (if present)\nif(hasReplace){replaceElement=options.replace(node);if(isValidElement(replaceElement)){// set \"key\" prop for sibling elements\n// https://fb.me/react-warning-keys\nif(len>1){replaceElement=cloneElement(replaceElement,{key:replaceElement.key||i});}result.push(replaceElement);continue;}}if(node.type==='text'){// if trim option is enabled, skip whitespace text nodes\nif(trim){data=node.data.trim();if(data){result.push(node.data);}}else{result.push(node.data);}continue;}props=node.attribs;if(!shouldPassAttributesUnaltered(node)){props=attributesToProps(node.attribs);}children=null;switch(node.type){case'script':case'style':// prevent text in <script> or <style> from being escaped\n// https://reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml\nif(node.children[0]){props.dangerouslySetInnerHTML={__html:node.children[0].data};}break;case'tag':// setting textarea value in children is an antipattern in React\n// https://reactjs.org/docs/forms.html#the-textarea-tag\nif(node.name==='textarea'&&node.children[0]){props.defaultValue=node.children[0].data;}else if(node.children&&node.children.length){// continue recursion of creating React elements (if applicable)\nchildren=domToReact(node.children,options);}break;// skip all other cases (e.g., comment)\ndefault:continue;}// set \"key\" prop for sibling elements\n// https://fb.me/react-warning-keys\nif(len>1){props.key=i;}result.push(createElement(node.name,props,children));}return result.length===1?result[0]:result;}/**\n * Determines whether attributes should be altered or not.\n *\n * @param {React.ReactElement} node\n * @return {Boolean}\n */function shouldPassAttributesUnaltered(node){return utilities.PRESERVE_CUSTOM_ATTRIBUTES&&node.type==='tag'&&utilities.isCustomComponent(node.name,node.attribs);}module.exports=domToReact;","map":{"version":3,"sources":["/home/marketihor/scandipwa/node_modules/html-react-parser/lib/dom-to-react.js"],"names":["attributesToProps","require","utilities","domToReact","nodes","options","React","library","cloneElement","createElement","isValidElement","result","node","hasReplace","replace","replaceElement","props","children","data","trim","i","len","length","key","push","type","attribs","shouldPassAttributesUnaltered","dangerouslySetInnerHTML","__html","name","defaultValue","PRESERVE_CUSTOM_ATTRIBUTES","isCustomComponent","module","exports"],"mappings":"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","sourcesContent":["var attributesToProps = require('./attributes-to-props');\nvar utilities = require('./utilities');\n\n/**\n * Converts DOM nodes to React elements.\n *\n * @param {DomElement[]} nodes - The DOM nodes.\n * @param {Object} [options={}] - The additional options.\n * @param {Function} [options.replace] - The replacer.\n * @param {Object} [options.library] - The library (React, Preact, etc.).\n * @return {String|ReactElement|ReactElement[]}\n */\nfunction domToReact(nodes, options) {\n  options = options || {};\n\n  var React = options.library || require('react');\n  var cloneElement = React.cloneElement;\n  var createElement = React.createElement;\n  var isValidElement = React.isValidElement;\n\n  var result = [];\n  var node;\n  var hasReplace = typeof options.replace === 'function';\n  var replaceElement;\n  var props;\n  var children;\n  var data;\n  var trim = options.trim;\n\n  for (var i = 0, len = nodes.length; i < len; i++) {\n    node = nodes[i];\n\n    // replace with custom React element (if present)\n    if (hasReplace) {\n      replaceElement = options.replace(node);\n\n      if (isValidElement(replaceElement)) {\n        // set \"key\" prop for sibling elements\n        // https://fb.me/react-warning-keys\n        if (len > 1) {\n          replaceElement = cloneElement(replaceElement, {\n            key: replaceElement.key || i\n          });\n        }\n        result.push(replaceElement);\n        continue;\n      }\n    }\n\n    if (node.type === 'text') {\n      // if trim option is enabled, skip whitespace text nodes\n      if (trim) {\n        data = node.data.trim();\n        if (data) {\n          result.push(node.data);\n        }\n      } else {\n        result.push(node.data);\n      }\n      continue;\n    }\n\n    props = node.attribs;\n    if (!shouldPassAttributesUnaltered(node)) {\n      props = attributesToProps(node.attribs);\n    }\n\n    children = null;\n\n    switch (node.type) {\n      case 'script':\n      case 'style':\n        // prevent text in <script> or <style> from being escaped\n        // https://reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml\n        if (node.children[0]) {\n          props.dangerouslySetInnerHTML = {\n            __html: node.children[0].data\n          };\n        }\n        break;\n\n      case 'tag':\n        // setting textarea value in children is an antipattern in React\n        // https://reactjs.org/docs/forms.html#the-textarea-tag\n        if (node.name === 'textarea' && node.children[0]) {\n          props.defaultValue = node.children[0].data;\n        } else if (node.children && node.children.length) {\n          // continue recursion of creating React elements (if applicable)\n          children = domToReact(node.children, options);\n        }\n        break;\n\n      // skip all other cases (e.g., comment)\n      default:\n        continue;\n    }\n\n    // set \"key\" prop for sibling elements\n    // https://fb.me/react-warning-keys\n    if (len > 1) {\n      props.key = i;\n    }\n\n    result.push(createElement(node.name, props, children));\n  }\n\n  return result.length === 1 ? result[0] : result;\n}\n\n/**\n * Determines whether attributes should be altered or not.\n *\n * @param {React.ReactElement} node\n * @return {Boolean}\n */\nfunction shouldPassAttributesUnaltered(node) {\n  return (\n    utilities.PRESERVE_CUSTOM_ATTRIBUTES &&\n    node.type === 'tag' &&\n    utilities.isCustomComponent(node.name, node.attribs)\n  );\n}\n\nmodule.exports = domToReact;\n"]},"metadata":{},"sourceType":"module"}