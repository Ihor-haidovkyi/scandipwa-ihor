{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{createRef,PureComponent}from'react';import{MixType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Common\";import CSS from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/CSS\";import\"./ProductReviewRating.style\";/**\n * @class ProductReviewRating\n * @namespace Component/ProductReviewRating/Component\n */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _ProductReviewRating=/*#__PURE__*/function(_Extensible){_inherits(_ProductReviewRating,_Extensible);var _super=_createSuper(_ProductReviewRating);function _ProductReviewRating(){var _this;_classCallCheck(this,_ProductReviewRating);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.reviewRating=/*#__PURE__*/createRef();return _this;}_createClass(_ProductReviewRating,[{key:\"componentDidMount\",value:function componentDidMount(){this.updateRating();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.updateRating();}},{key:\"getAriaText\",value:function getAriaText(summary,code){var ONE_FIFTH_OF_A_HUNDRED=20;var rating=parseFloat(summary/ONE_FIFTH_OF_A_HUNDRED).toFixed(2);return code?\"Review's \".concat(code,\" rating is \").concat(rating,\" out of 5\"):\"Product's rating is \".concat(rating,\" out of 5\");}},{key:\"updateRating\",value:function updateRating(){var summary=this.props.summary;CSS.setVariable(this.reviewRating,'percentage',\"\".concat(summary,\"%\"));}},{key:\"renderPlaceholder\",value:function renderPlaceholder(){return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductReviewRating\",ref:this.reviewRating});}},{key:\"render\",value:function render(){var _this$props=this.props,summary=_this$props.summary,code=_this$props.code,placeholder=_this$props.placeholder,mix=_this$props.mix;var ariaText=this.getAriaText(summary,code);if(placeholder){return this.renderPlaceholder();}return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductReviewRating\",title:\"\".concat(summary,\"%\"),ref:this.reviewRating,\"aria-label\":ariaText,mix:mix});}}]);return _ProductReviewRating;}(Extensible(PureComponent));_ProductReviewRating.defaultProps={summary:0,code:'',placeholder:false,mix:{}};Object.defineProperty(_ProductReviewRating,'name',{value:'ProductReviewRating'});export var ProductReviewRating=middleware(_ProductReviewRating,\"Component/ProductReviewRating/Component\");export default ProductReviewRating;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductReviewRating/ProductReviewRating.component.js"],"names":["createRef","PureComponent","MixType","CSS","ProductReviewRating","reviewRating","updateRating","summary","code","ONE_FIFTH_OF_A_HUNDRED","rating","parseFloat","toFixed","props","setVariable","placeholder","mix","ariaText","getAriaText","renderPlaceholder","defaultProps","Object","defineProperty","_ProductReviewRating","value"],"mappings":"ojBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAGA,OAASA,SAAT,CAAoBC,aAApB,KAAyC,OAAzC,CAEA,OAASC,OAAT,qEACA,MAAOC,CAAAA,GAAP,kEAEA,oCAEA;AACA;AACA;AACA,G,wEACA,UAAaC,CAAAA,oBAAb,qXAeIC,YAfJ,cAemBL,SAAS,EAf5B,iFAiBI,4BAAoB,CAChB,KAAKM,YAAL,GACH,CAnBL,kCAqBI,6BAAqB,CACjB,KAAKA,YAAL,GACH,CAvBL,2BAyBI,qBAAYC,OAAZ,CAAqBC,IAArB,CAA2B,CACvB,GAAMC,CAAAA,sBAAsB,CAAG,EAA/B,CACA,GAAMC,CAAAA,MAAM,CAAGC,UAAU,CAACJ,OAAO,CAAGE,sBAAX,CAAV,CAA6CG,OAA7C,CAAqD,CAArD,CAAf,CAEA,MAAOJ,CAAAA,IAAI,oBACOA,IADP,uBACyBE,MADzB,4CAEkBA,MAFlB,aAAX,CAGH,CAhCL,4BAkCI,uBAAe,IACHH,CAAAA,OADG,CACS,KAAKM,KADd,CACHN,OADG,CAGXJ,GAAG,CAACW,WAAJ,CACI,KAAKT,YADT,CAEI,YAFJ,WAGOE,OAHP,OAKH,CA1CL,iCA4CI,4BAAoB,CAChB,0CAEM,KAAK,CAAC,qBAFZ,CAGM,GAAG,CAAG,KAAKF,YAHjB,GAMH,CAnDL,sBAqDI,iBAAS,iBAMD,KAAKQ,KANJ,CAEDN,OAFC,aAEDA,OAFC,CAGDC,IAHC,aAGDA,IAHC,CAIDO,WAJC,aAIDA,WAJC,CAKDC,GALC,aAKDA,GALC,CAQL,GAAMC,CAAAA,QAAQ,CAAG,KAAKC,WAAL,CAAiBX,OAAjB,CAA0BC,IAA1B,CAAjB,CAEA,GAAIO,WAAJ,CAAiB,CACb,MAAO,MAAKI,iBAAL,EAAP,CACH,CAED,0CAEM,KAAK,CAAC,qBAFZ,CAGM,KAAK,WAAMZ,OAAN,KAHX,CAIM,GAAG,CAAG,KAAKF,YAJjB,CAKM,aAAaY,QALnB,CAMM,GAAG,CAAGD,GANZ,GASH,CA5EL,6DAAaZ,oB,CAQFgB,Y,CAAe,CAClBb,OAAO,CAAE,CADS,CAElBC,IAAI,CAAE,EAFY,CAGlBO,WAAW,CAAE,KAHK,CAIlBC,GAAG,CAAE,EAJa,C,CA/B1BK,MAAM,CAACC,cAAP,CAAsBC,oBAAtB,CAA4C,MAA5C,CAAoD,CAAEC,KAAK,CAAE,qBAAT,CAApD,E,0GAsGA,cAAepB,CAAAA,mBAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\n\nimport { MixType } from 'Type/Common';\nimport CSS from 'Util/CSS';\n\nimport './ProductReviewRating.style';\n\n/**\n * @class ProductReviewRating\n * @namespace Component/ProductReviewRating/Component\n */\nexport class ProductReviewRating extends PureComponent {\n    static propTypes = {\n        summary: PropTypes.number,\n        code: PropTypes.string,\n        placeholder: PropTypes.bool,\n        mix: MixType\n    };\n\n    static defaultProps = {\n        summary: 0,\n        code: '',\n        placeholder: false,\n        mix: {}\n    };\n\n    reviewRating = createRef();\n\n    componentDidMount() {\n        this.updateRating();\n    }\n\n    componentDidUpdate() {\n        this.updateRating();\n    }\n\n    getAriaText(summary, code) {\n        const ONE_FIFTH_OF_A_HUNDRED = 20;\n        const rating = parseFloat(summary / ONE_FIFTH_OF_A_HUNDRED).toFixed(2);\n\n        return code\n            ? `Review's ${code} rating is ${rating} out of 5`\n            : `Product's rating is ${rating} out of 5`;\n    }\n\n    updateRating() {\n        const { summary } = this.props;\n\n        CSS.setVariable(\n            this.reviewRating,\n            'percentage',\n            `${summary}%`\n        );\n    }\n\n    renderPlaceholder() {\n        return (\n            <div\n              block=\"ProductReviewRating\"\n              ref={ this.reviewRating }\n            />\n        );\n    }\n\n    render() {\n        const {\n            summary,\n            code,\n            placeholder,\n            mix\n        } = this.props;\n\n        const ariaText = this.getAriaText(summary, code);\n\n        if (placeholder) {\n            return this.renderPlaceholder();\n        }\n\n        return (\n            <div\n              block=\"ProductReviewRating\"\n              title={ `${summary}%` }\n              ref={ this.reviewRating }\n              aria-label={ ariaText }\n              mix={ mix }\n            />\n        );\n    }\n}\n\nexport default ProductReviewRating;\n"]},"metadata":{},"sourceType":"module"}