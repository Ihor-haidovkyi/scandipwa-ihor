{"ast":null,"code":"import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{getIndexedProducts}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Product\";import{CLEAR_SEARCH_RESULTS,UPDATE_SEARCH_BAR,UPDATE_SEARCH_LOAD_STATUS}from\"./SearchBar.action\";/** @namespace Store/SearchBar/Reducer/getInitialState */export var getInitialState=middleware(function(){return{productsInSearch:[],isLoading:true};},\"Store/SearchBar/Reducer/getInitialState\");/** @namespace Store/SearchBar/Reducer */export var SearchBarReducer=middleware(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:getInitialState();var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case UPDATE_SEARCH_BAR:var initialItems=action.result.products.items;return _objectSpread(_objectSpread({},state),{},{productsInSearch:getIndexedProducts(initialItems)});case UPDATE_SEARCH_LOAD_STATUS:var isLoading=action.isLoading;return _objectSpread(_objectSpread({},state),{},{isLoading:isLoading});case CLEAR_SEARCH_RESULTS:return _objectSpread(_objectSpread({},state),{},{productsInSearch:getInitialState().productsInSearch});default:return state;}},\"Store/SearchBar/Reducer\");export default SearchBarReducer;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/store/SearchBar/SearchBar.reducer.js"],"names":["getIndexedProducts","CLEAR_SEARCH_RESULTS","UPDATE_SEARCH_BAR","UPDATE_SEARCH_LOAD_STATUS","getInitialState","productsInSearch","isLoading","SearchBarReducer","state","action","type","initialItems","result","products","items"],"mappings":"gJAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,OAASA,kBAAT,sEAEA,OACIC,oBADJ,CAEIC,iBAFJ,CAGIC,yBAHJ,0BAMA,yDACA,MAAO,IAAMC,CAAAA,eAAe,YAAG,iBAAO,CAClCC,gBAAgB,CAAE,EADgB,CAElCC,SAAS,CAAE,IAFuB,CAAP,EAAH,2CAArB,CAKP,yCACA,MAAO,IAAMC,CAAAA,gBAAgB,YAAG,UAG3B,IAFDC,CAAAA,KAEC,2DAFOJ,eAAe,EAEtB,IADDK,CAAAA,MACC,2CACD,OAAQA,MAAM,CAACC,IAAf,EACA,IAAKR,CAAAA,iBAAL,IACyCS,CAAAA,YADzC,CAC8DF,MAD9D,CACYG,MADZ,CACsBC,QADtB,CACkCC,KADlC,CAGI,sCACON,KADP,MAEIH,gBAAgB,CAAEL,kBAAkB,CAACW,YAAD,CAFxC,GAKJ,IAAKR,CAAAA,yBAAL,IACYG,CAAAA,SADZ,CAC0BG,MAD1B,CACYH,SADZ,CAGI,sCACOE,KADP,MAEIF,SAAS,CAATA,SAFJ,GAKJ,IAAKL,CAAAA,oBAAL,CACI,sCACOO,KADP,MAEIH,gBAAgB,CAAED,eAAe,GAAGC,gBAFxC,GAKJ,QACI,MAAOG,CAAAA,KAAP,CAxBJ,CA0BH,CA9B4B,2BAAtB,CAgCP,cAAeD,CAAAA,gBAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { getIndexedProducts } from 'Util/Product';\n\nimport {\n    CLEAR_SEARCH_RESULTS,\n    UPDATE_SEARCH_BAR,\n    UPDATE_SEARCH_LOAD_STATUS\n} from './SearchBar.action';\n\n/** @namespace Store/SearchBar/Reducer/getInitialState */\nexport const getInitialState = () => ({\n    productsInSearch: [],\n    isLoading: true\n});\n\n/** @namespace Store/SearchBar/Reducer */\nexport const SearchBarReducer = (\n    state = getInitialState(),\n    action\n) => {\n    switch (action.type) {\n    case UPDATE_SEARCH_BAR:\n        const { result: { products: { items: initialItems } } } = action;\n\n        return {\n            ...state,\n            productsInSearch: getIndexedProducts(initialItems)\n        };\n\n    case UPDATE_SEARCH_LOAD_STATUS:\n        const { isLoading } = action;\n\n        return {\n            ...state,\n            isLoading\n        };\n\n    case CLEAR_SEARCH_RESULTS:\n        return {\n            ...state,\n            productsInSearch: getInitialState().productsInSearch\n        };\n\n    default:\n        return state;\n    }\n};\n\nexport default SearchBarReducer;\n"]},"metadata":{},"sourceType":"module"}