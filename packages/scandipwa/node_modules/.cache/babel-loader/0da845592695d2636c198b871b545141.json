{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import ContentWrapper from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ContentWrapper\";import ExpandableContent from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ExpandableContent\";import Html from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Html\";import{ProductType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/ProductList\";import\"./ProductInformation.style\";/** @namespace Component/ProductInformation/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _ProductInformation=/*#__PURE__*/function(_Extensible){_inherits(_ProductInformation,_Extensible);var _super=_createSuper(_ProductInformation);function _ProductInformation(){_classCallCheck(this,_ProductInformation);return _super.apply(this,arguments);}_createClass(_ProductInformation,[{key:\"renderDescription\",value:function renderDescription(){var _this$props$product$d=this.props.product.description;_this$props$product$d=_this$props$product$d===void 0?{}:_this$props$product$d;var html=_this$props$product$d.html;if(!html){return null;}var cleanDescription=html.replace(/<\\/?[^>]+(>|$)/g,'');return/*#__PURE__*/_checkBEM(React,\"div\",null,/*#__PURE__*/_checkBEM(React,\"meta\",{itemProp:\"description\",content:cleanDescription}),/*#__PURE__*/_checkBEM(React,Html,{content:html}));}},{key:\"renderContent\",value:function renderContent(){var areDetailsLoaded=this.props.areDetailsLoaded;var heading=areDetailsLoaded?__('Product information'):'';return/*#__PURE__*/_checkBEM(React,ExpandableContent// show placeholder if the details are not loaded\n,{heading:heading,mix:{block:'ProductInformation',elem:'Content'}},this.renderDescription());}},{key:\"isHTMLWhiteSpaceOrUndefined\",value:function isHTMLWhiteSpaceOrUndefined(htmlString){if(!htmlString||htmlString.trim()===''){return true;}// creates a DOM object from string\nvar parser=new DOMParser();var document=parser.parseFromString(htmlString.trim(),'text/html');// handles the case of plain text\nif(document.body.children.length===0){return false;}// check if at least one HTML element has content\nvar elementsWithContent=Array.from(document.body.children).filter(function(element){return element.innerText!=='';});return elementsWithContent.length===0;}},{key:\"render\",value:function render(){var _this$props=this.props,areDetailsLoaded=_this$props.areDetailsLoaded,_this$props$product$d2=_this$props.product.description;_this$props$product$d2=_this$props$product$d2===void 0?{}:_this$props$product$d2;var html=_this$props$product$d2.html;if(this.isHTMLWhiteSpaceOrUndefined(html)&&areDetailsLoaded){return null;}return/*#__PURE__*/_checkBEM(React,ContentWrapper,{label:\"Product information\",mix:{block:'ProductInformation'},wrapperMix:{block:'ProductInformation',elem:'Wrapper'}},this.renderContent());}}]);return _ProductInformation;}(Extensible(PureComponent));Object.defineProperty(_ProductInformation,'name',{value:'ProductInformation'});export var ProductInformation=middleware(_ProductInformation,\"Component/ProductInformation/Component\");export default ProductInformation;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductInformation/ProductInformation.component.js"],"names":["PureComponent","ContentWrapper","ExpandableContent","Html","ProductType","ProductInformation","props","product","description","html","cleanDescription","replace","areDetailsLoaded","heading","__","block","elem","renderDescription","htmlString","trim","parser","DOMParser","document","parseFromString","body","children","length","elementsWithContent","Array","from","filter","element","innerText","isHTMLWhiteSpaceOrUndefined","renderContent","Object","defineProperty","_ProductInformation","value"],"mappings":"ojBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAGA,OAASA,aAAT,KAA8B,OAA9B,CAEA,MAAOC,CAAAA,cAAP,kFACA,MAAOC,CAAAA,iBAAP,qFACA,MAAOC,CAAAA,IAAP,wEACA,OAASC,WAAT,0EAEA,mCAEA,wD,wEACA,UAAaC,CAAAA,mBAAb,2SAMI,4BAAoB,2BACoC,KAAKC,KADzC,CACRC,OADQ,CACGC,WADH,sDAC2B,EAD3B,0BACkBC,CAAAA,IADlB,uBACkBA,IADlB,CAGhB,GAAI,CAACA,IAAL,CAAW,CACP,MAAO,KAAP,CACH,CAED,GAAMC,CAAAA,gBAAgB,CAAGD,IAAI,CAACE,OAAL,CAAa,iBAAb,CAAgC,EAAhC,CAAzB,CAEA,mFAEc,QAAQ,CAAC,aAFvB,CAEqC,OAAO,CAAGD,gBAF/C,gCAGS,IAHT,EAGc,OAAO,CAAGD,IAHxB,IAMH,CArBL,6BAuBI,wBAAgB,IACJG,CAAAA,gBADI,CACiB,KAAKN,KADtB,CACJM,gBADI,CAEZ,GAAMC,CAAAA,OAAO,CAAGD,gBAAgB,CAAGE,EAAE,CAAC,qBAAD,CAAL,CAA+B,EAA/D,CAEA,mCACK,iBACC;AAFN,EAGM,OAAO,CAAGD,OAHhB,CAIM,GAAG,CAAG,CAAEE,KAAK,CAAE,oBAAT,CAA+BC,IAAI,CAAE,SAArC,CAJZ,EAMU,KAAKC,iBAAL,EANV,EASH,CApCL,2CAsCI,qCAA4BC,UAA5B,CAAwC,CACpC,GAAI,CAACA,UAAD,EAAeA,UAAU,CAACC,IAAX,KAAsB,EAAzC,CAA6C,CACzC,MAAO,KAAP,CACH,CAED;AACA,GAAMC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,SAAJ,EAAf,CACA,GAAMC,CAAAA,QAAQ,CAAGF,MAAM,CAACG,eAAP,CAAuBL,UAAU,CAACC,IAAX,EAAvB,CAA0C,WAA1C,CAAjB,CAEA;AACA,GAAIG,QAAQ,CAACE,IAAT,CAAcC,QAAd,CAAuBC,MAAvB,GAAkC,CAAtC,CAAyC,CACrC,MAAO,MAAP,CACH,CAED;AACA,GAAMC,CAAAA,mBAAmB,CAAGC,KAAK,CAACC,IAAN,CAAWP,QAAQ,CAACE,IAAT,CAAcC,QAAzB,EAAmCK,MAAnC,CAA0C,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACC,SAAR,GAAsB,EAAnC,EAA1C,CAA5B,CACA,MAAOL,CAAAA,mBAAmB,CAACD,MAApB,GAA+B,CAAtC,CACH,CAvDL,sBAyDI,iBAAS,iBAMD,KAAKpB,KANJ,CAEDM,gBAFC,aAEDA,gBAFC,oCAGDL,OAHC,CAIGC,WAJH,wDAI2B,EAJ3B,2BAIkBC,CAAAA,IAJlB,wBAIkBA,IAJlB,CAQL,GAAI,KAAKwB,2BAAL,CAAiCxB,IAAjC,GAA0CG,gBAA9C,CAAgE,CAC5D,MAAO,KAAP,CACH,CAED,mCACK,cADL,EAEM,KAAK,CAAC,qBAFZ,CAGM,GAAG,CAAG,CAAEG,KAAK,CAAE,oBAAT,CAHZ,CAIM,UAAU,CAAG,CAAEA,KAAK,CAAE,oBAAT,CAA+BC,IAAI,CAAE,SAArC,CAJnB,EAMU,KAAKkB,aAAL,EANV,EASH,CA9EL,4DAtBAC,MAAM,CAACC,cAAP,CAAsBC,mBAAtB,CAA2C,MAA3C,CAAmD,CAAEC,KAAK,CAAE,oBAAT,CAAnD,E,uGAuGA,cAAejC,CAAAA,kBAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Html from 'Component/Html';\nimport { ProductType } from 'Type/ProductList';\n\nimport './ProductInformation.style';\n\n/** @namespace Component/ProductInformation/Component */\nexport class ProductInformation extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired\n    };\n\n    renderDescription() {\n        const { product: { description: { html } = {} } } = this.props;\n\n        if (!html) {\n            return null;\n        }\n\n        const cleanDescription = html.replace(/<\\/?[^>]+(>|$)/g, '');\n\n        return (\n            <div>\n                <meta itemProp=\"description\" content={ cleanDescription } />\n                <Html content={ html } />\n            </div>\n        );\n    }\n\n    renderContent() {\n        const { areDetailsLoaded } = this.props;\n        const heading = areDetailsLoaded ? __('Product information') : '';\n\n        return (\n            <ExpandableContent\n              // show placeholder if the details are not loaded\n              heading={ heading }\n              mix={ { block: 'ProductInformation', elem: 'Content' } }\n            >\n                { this.renderDescription() }\n            </ExpandableContent>\n        );\n    }\n\n    isHTMLWhiteSpaceOrUndefined(htmlString) {\n        if (!htmlString || htmlString.trim() === '') {\n            return true;\n        }\n\n        // creates a DOM object from string\n        const parser = new DOMParser();\n        const document = parser.parseFromString(htmlString.trim(), 'text/html');\n\n        // handles the case of plain text\n        if (document.body.children.length === 0) {\n            return false;\n        }\n\n        // check if at least one HTML element has content\n        const elementsWithContent = Array.from(document.body.children).filter((element) => element.innerText !== '');\n        return elementsWithContent.length === 0;\n    }\n\n    render() {\n        const {\n            areDetailsLoaded,\n            product: {\n                description: { html } = {}\n            }\n        } = this.props;\n\n        if (this.isHTMLWhiteSpaceOrUndefined(html) && areDetailsLoaded) {\n            return null;\n        }\n\n        return (\n            <ContentWrapper\n              label=\"Product information\"\n              mix={ { block: 'ProductInformation' } }\n              wrapperMix={ { block: 'ProductInformation', elem: 'Wrapper' } }\n            >\n                { this.renderContent() }\n            </ContentWrapper>\n        );\n    }\n}\n\nexport default ProductInformation;\n"]},"metadata":{},"sourceType":"module"}