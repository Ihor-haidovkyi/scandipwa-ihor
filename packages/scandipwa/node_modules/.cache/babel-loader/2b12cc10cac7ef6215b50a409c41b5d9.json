{"ast":null,"code":"import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import{AttributeType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/ProductList\";import ProductConfigurableAttributeDropdown from\"./ProductConfigurableAttributeDropdown.component\";/** @namespace Component/ProductConfigurableAttributeDropdown/Container */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _ProductConfigurableAttributeDropdownContainer=/*#__PURE__*/function(_Extensible){_inherits(_ProductConfigurableAttributeDropdownContainer,_Extensible);var _super=_createSuper(_ProductConfigurableAttributeDropdownContainer);function _ProductConfigurableAttributeDropdownContainer(){var _this;_classCallCheck(this,_ProductConfigurableAttributeDropdownContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.containerFunctions={onChange:_this.onChange.bind(_assertThisInitialized(_this))};_this.containerProps=function(){var _this$props$option=_this.props.option,attribute_code=_this$props$option.attribute_code,attribute_label=_this$props$option.attribute_label;return{selectValue:_this._getSelectValue(),selectOptions:_this._getSelectOptions(),selectName:attribute_code,selectLabel:attribute_label};};_this._getSelectOptions=function(){var _this$props=_this.props,_this$props$option2=_this$props.option,attribute_options=_this$props$option2.attribute_options,attribute_code=_this$props$option2.attribute_code,getIsConfigurableAttributeAvailable=_this$props.getIsConfigurableAttributeAvailable;if(!attribute_options){// eslint-disable-next-line no-console\nconsole.warn(\"Please make sure \\\"\".concat(attribute_code,\"\\\" is visible on Storefront.\"));return[];}return Object.values(attribute_options).reduce(function(acc,option){var value=option.value;var isAvailable=getIsConfigurableAttributeAvailable({attribute_code:attribute_code,attribute_value:value});if(!isAvailable){return acc;}return[].concat(_toConsumableArray(acc),[_objectSpread(_objectSpread({},option),{},{id:value})]);},[]);};_this._getSelectValue=function(){var attribute_code=_this.props.option.attribute_code;var _this$props$parameter=_this.props.parameters,parameters=_this$props$parameter===void 0?{}:_this$props$parameter;return parameters[attribute_code];};return _this;}_createClass(_ProductConfigurableAttributeDropdownContainer,[{key:\"onChange\",value:function onChange(value){var _this$props2=this.props,updateConfigurableVariant=_this$props2.updateConfigurableVariant,attribute_code=_this$props2.option.attribute_code;updateConfigurableVariant(attribute_code,value);}},{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,ProductConfigurableAttributeDropdown,Object.assign({},this.props,this.containerFunctions,this.containerProps()));}}]);return _ProductConfigurableAttributeDropdownContainer;}(Extensible(PureComponent));Object.defineProperty(_ProductConfigurableAttributeDropdownContainer,'name',{value:'ProductConfigurableAttributeDropdownContainer'});export var ProductConfigurableAttributeDropdownContainer=middleware(_ProductConfigurableAttributeDropdownContainer,\"Component/ProductConfigurableAttributeDropdown/Container\");export default ProductConfigurableAttributeDropdownContainer;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductConfigurableAttributeDropdown/ProductConfigurableAttributeDropdown.container.js"],"names":["PureComponent","AttributeType","ProductConfigurableAttributeDropdown","ProductConfigurableAttributeDropdownContainer","containerFunctions","onChange","bind","containerProps","props","option","attribute_code","attribute_label","selectValue","_getSelectValue","selectOptions","_getSelectOptions","selectName","selectLabel","attribute_options","getIsConfigurableAttributeAvailable","console","warn","Object","values","reduce","acc","value","isAvailable","attribute_value","id","parameters","updateConfigurableVariant","defineProperty","_ProductConfigurableAttributeDropdownContainer"],"mappings":"8/BAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,OAASA,aAAT,KAA8B,OAA9B,CAEA,OAASC,aAAT,0EAEA,MAAOC,CAAAA,oCAAP,wDAEA,0E,wEACA,UAAaC,CAAAA,8CAAb,6dAQIC,kBARJ,CAQyB,CACjBC,QAAQ,CAAE,MAAKA,QAAL,CAAcC,IAAd,+BADO,CARzB,OAqBIC,cArBJ,CAqBqB,UAAM,wBACqC,MAAKC,KAD1C,CACXC,MADW,CACDC,cADC,oBACDA,cADC,CACeC,eADf,oBACeA,eADf,CAGnB,MAAO,CACHC,WAAW,CAAE,MAAKC,eAAL,EADV,CAEHC,aAAa,CAAE,MAAKC,iBAAL,EAFZ,CAGHC,UAAU,CAAEN,cAHT,CAIHO,WAAW,CAAEN,eAJV,CAAP,CAMH,CA9BL,OAgCII,iBAhCJ,CAgCwB,UAAM,iBAOlB,MAAKP,KAPa,iCAElBC,MAFkB,CAGdS,iBAHc,qBAGdA,iBAHc,CAIdR,cAJc,qBAIdA,cAJc,CAMlBS,mCANkB,aAMlBA,mCANkB,CAStB,GAAI,CAACD,iBAAL,CAAwB,CACpB;AACAE,OAAO,CAACC,IAAR,8BAAmCX,cAAnC,kCACA,MAAO,EAAP,CACH,CAED,MAAOY,CAAAA,MAAM,CAACC,MAAP,CAAcL,iBAAd,EACFM,MADE,CACK,SAACC,GAAD,CAAMhB,MAAN,CAAiB,IACbiB,CAAAA,KADa,CACHjB,MADG,CACbiB,KADa,CAGrB,GAAMC,CAAAA,WAAW,CAAGR,mCAAmC,CAAC,CACpDT,cAAc,CAAdA,cADoD,CAEpDkB,eAAe,CAAEF,KAFmC,CAAD,CAAvD,CAKA,GAAI,CAACC,WAAL,CAAkB,CACd,MAAOF,CAAAA,GAAP,CACH,CAED,mCAAWA,GAAX,kCACOhB,MADP,MAEIoB,EAAE,CAAEH,KAFR,KAIH,CAjBE,CAiBA,EAjBA,CAAP,CAkBH,CAjEL,OAmEIb,eAnEJ,CAmEsB,UAAM,IACFH,CAAAA,cADE,CACmB,MAAKF,KADxB,CACZC,MADY,CACFC,cADE,2BAEQ,MAAKF,KAFb,CAEZsB,UAFY,CAEZA,UAFY,gCAEC,EAFD,uBAGpB,MAAOA,CAAAA,UAAU,CAACpB,cAAD,CAAjB,CACH,CAvEL,kGAYI,kBAASgB,KAAT,CAAgB,kBAIR,KAAKlB,KAJG,CAERuB,yBAFQ,cAERA,yBAFQ,CAGErB,cAHF,cAGRD,MAHQ,CAGEC,cAHF,CAMZqB,yBAAyB,CAACrB,cAAD,CAAiBgB,KAAjB,CAAzB,CACH,CAnBL,sBAyEI,iBAAS,CACL,mCACK,oCADL,kBAEW,KAAKlB,KAFhB,CAGW,KAAKJ,kBAHhB,CAIW,KAAKG,cAAL,EAJX,GAOH,CAjFL,uFAlBAe,MAAM,CAACU,cAAP,CAAsBC,8CAAtB,CAAsE,MAAtE,CAA8E,CAAEP,KAAK,CAAE,+CAAT,CAA9E,E,+KAsGA,cAAevB,CAAAA,6CAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { AttributeType } from 'Type/ProductList';\n\nimport ProductConfigurableAttributeDropdown from './ProductConfigurableAttributeDropdown.component';\n\n/** @namespace Component/ProductConfigurableAttributeDropdown/Container */\nexport class ProductConfigurableAttributeDropdownContainer extends PureComponent {\n    static propTypes = {\n        option: AttributeType.isRequired,\n        updateConfigurableVariant: PropTypes.func.isRequired,\n        getIsConfigurableAttributeAvailable: PropTypes.func.isRequired,\n        parameters: PropTypes.objectOf(PropTypes.string).isRequired\n    };\n\n    containerFunctions = {\n        onChange: this.onChange.bind(this)\n    };\n\n    onChange(value) {\n        const {\n            updateConfigurableVariant,\n            option: { attribute_code }\n        } = this.props;\n\n        updateConfigurableVariant(attribute_code, value);\n    }\n\n    containerProps = () => {\n        const { option: { attribute_code, attribute_label } } = this.props;\n\n        return {\n            selectValue: this._getSelectValue(),\n            selectOptions: this._getSelectOptions(),\n            selectName: attribute_code,\n            selectLabel: attribute_label\n        };\n    };\n\n    _getSelectOptions = () => {\n        const {\n            option: {\n                attribute_options,\n                attribute_code\n            },\n            getIsConfigurableAttributeAvailable\n        } = this.props;\n\n        if (!attribute_options) {\n            // eslint-disable-next-line no-console\n            console.warn(`Please make sure \"${ attribute_code }\" is visible on Storefront.`);\n            return [];\n        }\n\n        return Object.values(attribute_options)\n            .reduce((acc, option) => {\n                const { value } = option;\n\n                const isAvailable = getIsConfigurableAttributeAvailable({\n                    attribute_code,\n                    attribute_value: value\n                });\n\n                if (!isAvailable) {\n                    return acc;\n                }\n\n                return [...acc, {\n                    ...option,\n                    id: value\n                }];\n            }, []);\n    };\n\n    _getSelectValue = () => {\n        const { option: { attribute_code } } = this.props;\n        const { parameters = {} } = this.props;\n        return parameters[attribute_code];\n    };\n\n    render() {\n        return (\n            <ProductConfigurableAttributeDropdown\n              { ...this.props }\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default ProductConfigurableAttributeDropdownContainer;\n"]},"metadata":{},"sourceType":"module"}