{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import ClickOutside from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ClickOutside\";import Field from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Field\";import StoreItems from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/StoreItems\";import{DeviceType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Device\";import\"./StoreSwitcher.style\";/** @namespace Component/StoreSwitcher/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _StoreSwitcher=/*#__PURE__*/function(_Extensible){_inherits(_StoreSwitcher,_Extensible);var _super=_createSuper(_StoreSwitcher);function _StoreSwitcher(){var _this;_classCallCheck(this,_StoreSwitcher);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderStoreList=function(item){var handleStoreSelect=_this.props.handleStoreSelect;var value=item.value;return/*#__PURE__*/_checkBEM(React,StoreItems,{key:value,item:item,handleStoreSelect:handleStoreSelect});};return _this;}_createClass(_StoreSwitcher,[{key:\"renderMobileStoreSwitcher\",value:function renderMobileStoreSwitcher(){var _this$props=this.props,storeList=_this$props.storeList,handleStoreSelect=_this$props.handleStoreSelect,currentStoreCode=_this$props.currentStoreCode;return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"StoreSwitcher\"},/*#__PURE__*/_checkBEM(React,Field,{id:\"StoreSwitcher\",name:\"StoreSwitcher\",type:\"select\",selectOptions:storeList,value:currentStoreCode,onChange:handleStoreSelect}));}},{key:\"renderDesktopStoreSwitcher\",value:function renderDesktopStoreSwitcher(){var _this$props2=this.props,storeList=_this$props2.storeList,onStoreSwitcherOutsideClick=_this$props2.onStoreSwitcherOutsideClick,onStoreSwitcherClick=_this$props2.onStoreSwitcherClick,isOpened=_this$props2.isOpened,storeLabel=_this$props2.storeLabel;var mods={isOpen:isOpened};return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"StoreSwitcher\"},/*#__PURE__*/_checkBEM(React,ClickOutside,{onClick:onStoreSwitcherOutsideClick},/*#__PURE__*/_checkBEM(React,\"button\",{block:\"StoreSwitcher\",elem:\"Title\",mods:mods,onClick:onStoreSwitcherClick},storeLabel),/*#__PURE__*/_checkBEM(React,\"div\",{block:\"StoreSwitcher\",elem:\"StoreList\",mods:mods},storeList.map(this.renderStoreList))));}},{key:\"render\",value:function render(){var _this$props3=this.props,storeList=_this$props3.storeList,device=_this$props3.device;if(storeList.length<=1){return null;}if(device.isMobile){return this.renderMobileStoreSwitcher();}return this.renderDesktopStoreSwitcher();}}]);return _StoreSwitcher;}(Extensible(PureComponent));_StoreSwitcher.defaultProps={storeLabel:''};Object.defineProperty(_StoreSwitcher,'name',{value:'StoreSwitcher'});export var StoreSwitcher=middleware(_StoreSwitcher,\"Component/StoreSwitcher/Component\");export default StoreSwitcher;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/StoreSwitcher/StoreSwitcher.component.js"],"names":["PureComponent","ClickOutside","Field","StoreItems","DeviceType","StoreSwitcher","renderStoreList","item","handleStoreSelect","props","value","storeList","currentStoreCode","onStoreSwitcherOutsideClick","onStoreSwitcherClick","isOpened","storeLabel","mods","isOpen","map","device","length","isMobile","renderMobileStoreSwitcher","renderDesktopStoreSwitcher","defaultProps","Object","defineProperty","_StoreSwitcher"],"mappings":"ojBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAGA,OAASA,aAAT,KAA8B,OAA9B,CAEA,MAAOC,CAAAA,YAAP,gFACA,MAAOC,CAAAA,KAAP,yEACA,MAAOC,CAAAA,UAAP,8EACA,OAASC,UAAT,qEAEA,8BAEA,mD,wEACA,UAAaC,CAAAA,cAAb,6VAoBIC,eApBJ,CAoBsB,SAACC,IAAD,CAAU,IAChBC,CAAAA,iBADgB,CACM,MAAKC,KADX,CAChBD,iBADgB,IAEhBE,CAAAA,KAFgB,CAENH,IAFM,CAEhBG,KAFgB,CAIxB,mCACK,UADL,EAEM,GAAG,CAAGA,KAFZ,CAGM,IAAI,CAAGH,IAHb,CAIM,iBAAiB,CAAGC,iBAJ1B,GAOH,CA/BL,mFAiCI,oCAA4B,iBAKpB,KAAKC,KALe,CAEpBE,SAFoB,aAEpBA,SAFoB,CAGpBH,iBAHoB,aAGpBA,iBAHoB,CAIpBI,gBAJoB,aAIpBA,gBAJoB,CAOxB,0CACS,KAAK,CAAC,eADf,+BAES,KAFT,EAGU,EAAE,CAAC,eAHb,CAIU,IAAI,CAAC,eAJf,CAKU,IAAI,CAAC,QALf,CAMU,aAAa,CAAGD,SAN1B,CAOU,KAAK,CAAGC,gBAPlB,CAQU,QAAQ,CAAGJ,iBARrB,IAYH,CApDL,0CAsDI,qCAA6B,kBAOrB,KAAKC,KAPgB,CAErBE,SAFqB,cAErBA,SAFqB,CAGrBE,2BAHqB,cAGrBA,2BAHqB,CAIrBC,oBAJqB,cAIrBA,oBAJqB,CAKrBC,QALqB,cAKrBA,QALqB,CAMrBC,UANqB,cAMrBA,UANqB,CASzB,GAAMC,CAAAA,IAAI,CAAG,CAAEC,MAAM,CAAEH,QAAV,CAAb,CAEA,0CACS,KAAK,CAAC,eADf,+BAES,YAFT,EAEsB,OAAO,CAAGF,2BAFhC,yCAIc,KAAK,CAAC,eAJpB,CAKc,IAAI,CAAC,OALnB,CAMc,IAAI,CAAGI,IANrB,CAOc,OAAO,CAAGH,oBAPxB,EASkBE,UATlB,sCAYiB,KAAK,CAAC,eAZvB,CAYuC,IAAI,CAAC,WAZ5C,CAYwD,IAAI,CAAGC,IAZ/D,EAakBN,SAAS,CAACQ,GAAV,CAAc,KAAKb,eAAnB,CAblB,IAkBH,CAnFL,sBAqFI,iBAAS,kBACyB,KAAKG,KAD9B,CACGE,SADH,cACGA,SADH,CACcS,MADd,cACcA,MADd,CAGL,GAAIT,SAAS,CAACU,MAAV,EAAoB,CAAxB,CAA2B,CACvB,MAAO,KAAP,CACH,CAED,GAAID,MAAM,CAACE,QAAX,CAAqB,CACjB,MAAO,MAAKC,yBAAL,EAAP,CACH,CAED,MAAO,MAAKC,0BAAL,EAAP,CACH,CAjGL,uDAAanB,c,CAgBFoB,Y,CAAe,CAClBT,UAAU,CAAE,EADM,C,CAtC1BU,MAAM,CAACC,cAAP,CAAsBC,cAAtB,CAAsC,MAAtC,CAA8C,CAAElB,KAAK,CAAE,eAAT,CAA9C,E,wFA0HA,cAAeL,CAAAA,aAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ClickOutside from 'Component/ClickOutside';\nimport Field from 'Component/Field';\nimport StoreItems from 'Component/StoreItems';\nimport { DeviceType } from 'Type/Device';\n\nimport './StoreSwitcher.style';\n\n/** @namespace Component/StoreSwitcher/Component */\nexport class StoreSwitcher extends PureComponent {\n    static propTypes = {\n        storeList: PropTypes.arrayOf(\n            PropTypes.objectOf(\n                PropTypes.string\n            )\n        ).isRequired,\n        isOpened: PropTypes.bool.isRequired,\n        currentStoreCode: PropTypes.string.isRequired,\n        handleStoreSelect: PropTypes.func.isRequired,\n        onStoreSwitcherClick: PropTypes.func.isRequired,\n        onStoreSwitcherOutsideClick: PropTypes.func.isRequired,\n        storeLabel: PropTypes.string,\n        device: DeviceType.isRequired\n    };\n\n    static defaultProps = {\n        storeLabel: ''\n    };\n\n    renderStoreList = (item) => {\n        const { handleStoreSelect } = this.props;\n        const { value } = item;\n\n        return (\n            <StoreItems\n              key={ value }\n              item={ item }\n              handleStoreSelect={ handleStoreSelect }\n            />\n        );\n    };\n\n    renderMobileStoreSwitcher() {\n        const {\n            storeList,\n            handleStoreSelect,\n            currentStoreCode\n        } = this.props;\n\n        return (\n            <div block=\"StoreSwitcher\">\n                <Field\n                  id=\"StoreSwitcher\"\n                  name=\"StoreSwitcher\"\n                  type=\"select\"\n                  selectOptions={ storeList }\n                  value={ currentStoreCode }\n                  onChange={ handleStoreSelect }\n                />\n            </div>\n        );\n    }\n\n    renderDesktopStoreSwitcher() {\n        const {\n            storeList,\n            onStoreSwitcherOutsideClick,\n            onStoreSwitcherClick,\n            isOpened,\n            storeLabel\n        } = this.props;\n\n        const mods = { isOpen: isOpened };\n\n        return (\n            <div block=\"StoreSwitcher\">\n                <ClickOutside onClick={ onStoreSwitcherOutsideClick }>\n                    <button\n                      block=\"StoreSwitcher\"\n                      elem=\"Title\"\n                      mods={ mods }\n                      onClick={ onStoreSwitcherClick }\n                    >\n                        { storeLabel }\n                    </button>\n\n                    <div block=\"StoreSwitcher\" elem=\"StoreList\" mods={ mods }>\n                        { storeList.map(this.renderStoreList) }\n                    </div>\n                </ClickOutside>\n            </div>\n        );\n    }\n\n    render() {\n        const { storeList, device } = this.props;\n\n        if (storeList.length <= 1) {\n            return null;\n        }\n\n        if (device.isMobile) {\n            return this.renderMobileStoreSwitcher();\n        }\n\n        return this.renderDesktopStoreSwitcher();\n    }\n}\n\nexport default StoreSwitcher;\n"]},"metadata":{},"sourceType":"module"}