{"ast":null,"code":"/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/import{cacheNames}from'workbox-core/_private/cacheNames.js';import{logger}from'workbox-core/_private/logger.js';import{deleteOutdatedCaches}from\"./utils/deleteOutdatedCaches.js\";import\"./_version.js\";/**\n * Adds an `activate` event listener which will clean up incompatible\n * precaches that were created by older versions of Workbox.\n *\n * @memberof module:workbox-precaching\n */function cleanupOutdatedCaches(){// See https://github.com/Microsoft/TypeScript/issues/28357#issuecomment-436484705\nself.addEventListener('activate',function(event){var cacheName=cacheNames.getPrecacheName();event.waitUntil(deleteOutdatedCaches(cacheName).then(function(cachesDeleted){if(process.env.NODE_ENV!=='production'){if(cachesDeleted.length>0){logger.log(\"The following out-of-date precaches were cleaned up \"+\"automatically:\",cachesDeleted);}}}));});}export{cleanupOutdatedCaches};","map":{"version":3,"sources":["/home/marketihor/scandipwa/node_modules/workbox-precaching/cleanupOutdatedCaches.js"],"names":["cacheNames","logger","deleteOutdatedCaches","cleanupOutdatedCaches","self","addEventListener","event","cacheName","getPrecacheName","waitUntil","then","cachesDeleted","process","env","NODE_ENV","length","log"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,EACA,OAASA,UAAT,KAA2B,qCAA3B,CACA,OAASC,MAAT,KAAuB,iCAAvB,CACA,OAASC,oBAAT,uCACA,sBACA;AACA;AACA;AACA;AACA;AACA,GACA,QAASC,CAAAA,qBAAT,EAAiC,CAC7B;AACAC,IAAI,CAACC,gBAAL,CAAsB,UAAtB,CAAmC,SAACC,KAAD,CAAW,CAC1C,GAAMC,CAAAA,SAAS,CAAGP,UAAU,CAACQ,eAAX,EAAlB,CACAF,KAAK,CAACG,SAAN,CAAgBP,oBAAoB,CAACK,SAAD,CAApB,CAAgCG,IAAhC,CAAqC,SAACC,aAAD,CAAmB,CACpE,GAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,GAAyB,YAA7B,CAA2C,CACvC,GAAIH,aAAa,CAACI,MAAd,CAAuB,CAA3B,CAA8B,CAC1Bd,MAAM,CAACe,GAAP,CAAW,uEAAX,CACsBL,aADtB,EAEH,CACJ,CACJ,CAPe,CAAhB,EAQH,CAVD,EAWH,CACD,OAASR,qBAAT","sourcesContent":["/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { cacheNames } from 'workbox-core/_private/cacheNames.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { deleteOutdatedCaches } from './utils/deleteOutdatedCaches.js';\nimport './_version.js';\n/**\n * Adds an `activate` event listener which will clean up incompatible\n * precaches that were created by older versions of Workbox.\n *\n * @memberof module:workbox-precaching\n */\nfunction cleanupOutdatedCaches() {\n    // See https://github.com/Microsoft/TypeScript/issues/28357#issuecomment-436484705\n    self.addEventListener('activate', ((event) => {\n        const cacheName = cacheNames.getPrecacheName();\n        event.waitUntil(deleteOutdatedCaches(cacheName).then((cachesDeleted) => {\n            if (process.env.NODE_ENV !== 'production') {\n                if (cachesDeleted.length > 0) {\n                    logger.log(`The following out-of-date precaches were cleaned up ` +\n                        `automatically:`, cachesDeleted);\n                }\n            }\n        }));\n    }));\n}\nexport { cleanupOutdatedCaches };\n"]},"metadata":{},"sourceType":"module"}