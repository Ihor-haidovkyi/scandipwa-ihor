{"ast":null,"code":"import _defineProperty from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/* eslint-disable max-len */ /**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{lazy,PureComponent,Suspense}from'react';import RenderWhenVisible from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/RenderWhenVisible\";import{CATALOG_PRODUCT_LIST,NEW_PRODUCTS,RECENTLY_VIEWED,SLIDER}from\"./WidgetFactory.config\";import\"./WidgetFactory.style\";export var ProductListWidget=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"category\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductListWidget\");});export var NewProducts=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"category\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/component/NewProducts\");});export var HomeSlider=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"cms\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/component/SliderWidget\");});export var RecentlyViewedWidget=/*#__PURE__*/lazy(function(){return import(/* webpackMode: \"lazy\", webpackChunkName: \"category\" */\"/home/marketihor/scandipwa/packages/scandipwa/src/component/RecentlyViewedWidget\");});/** @namespace Component/WidgetFactory/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _WidgetFactory=/*#__PURE__*/function(_Extensible){_inherits(_WidgetFactory,_Extensible);var _super=_createSuper(_WidgetFactory);function _WidgetFactory(){var _this$renderMap;var _this;_classCallCheck(this,_WidgetFactory);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderMap=(_this$renderMap={},_defineProperty(_this$renderMap,SLIDER,{component:HomeSlider,fallback:_this.renderSliderFallback}),_defineProperty(_this$renderMap,NEW_PRODUCTS,{component:NewProducts}),_defineProperty(_this$renderMap,CATALOG_PRODUCT_LIST,{component:ProductListWidget}),_defineProperty(_this$renderMap,RECENTLY_VIEWED,{component:RecentlyViewedWidget}),_this$renderMap);return _this;}_createClass(_WidgetFactory,[{key:\"renderSliderFallback\",value:function renderSliderFallback(){return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"WidgetFactory\",elem:\"SliderPlaceholder\"});}},{key:\"renderDefaultFallback\",value:function renderDefaultFallback(){return/*#__PURE__*/_checkBEM(React,\"div\",null);}},{key:\"renderContent\",value:function renderContent(){var type=this.props.type;var _ref=this.renderMap[type]||{},Widget=_ref.component,fallback=_ref.fallback;if(Widget!==undefined){return/*#__PURE__*/_checkBEM(React,RenderWhenVisible,{fallback:fallback},/*#__PURE__*/_checkBEM(React,Widget,this.props));}return null;}},{key:\"renderFallback\",value:function renderFallback(){var type=this.props.type;var _ref2=this.renderMap[type]||{},_ref2$fallback=_ref2.fallback,fallback=_ref2$fallback===void 0?this.renderDefaultFallback:_ref2$fallback;return fallback();}},{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,Suspense,{fallback:this.renderFallback()},this.renderContent());}}]);return _WidgetFactory;}(Extensible(PureComponent));Object.defineProperty(_WidgetFactory,'name',{value:'WidgetFactory'});export var WidgetFactory=middleware(_WidgetFactory,\"Component/WidgetFactory/Component\");export default WidgetFactory;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/WidgetFactory/WidgetFactory.component.js"],"names":["lazy","PureComponent","Suspense","RenderWhenVisible","CATALOG_PRODUCT_LIST","NEW_PRODUCTS","RECENTLY_VIEWED","SLIDER","ProductListWidget","NewProducts","HomeSlider","RecentlyViewedWidget","WidgetFactory","renderMap","component","fallback","renderSliderFallback","type","props","Widget","undefined","renderDefaultFallback","renderFallback","renderContent","Object","defineProperty","_WidgetFactory","value"],"mappings":"usBAAA,4B,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAGA,OAASA,IAAT,CAAeC,aAAf,CAA8BC,QAA9B,KAA8C,OAA9C,CAEA,MAAOC,CAAAA,iBAAP,qFAEA,OACIC,oBADJ,CAEIC,YAFJ,CAGIC,eAHJ,CAIIC,MAJJ,8BAOA,8BAEA,MAAO,IAAMC,CAAAA,iBAAiB,cAAGR,IAAI,CAAC,iBAAM,QAAO,uDAAP,gFAAN,EAAD,CAA9B,CACP,MAAO,IAAMS,CAAAA,WAAW,cAAGT,IAAI,CAAC,iBAAM,QAAO,uDAAP,0EAAN,EAAD,CAAxB,CACP,MAAO,IAAMU,CAAAA,UAAU,cAAGV,IAAI,CAAC,iBAAM,QAAO,kDAAP,2EAAN,EAAD,CAAvB,CACP,MAAO,IAAMW,CAAAA,oBAAoB,cAAGX,IAAI,CAAC,iBAAM,QAAO,uDAAP,mFAAN,EAAD,CAAjC,CAEP,mD,wEACA,UAAaY,CAAAA,cAAb,iXAKIC,SALJ,qDAMSN,MANT,CAMkB,CACNO,SAAS,CAAEJ,UADL,CAENK,QAAQ,CAAE,MAAKC,oBAFT,CANlB,kCAUSX,YAVT,CAUwB,CACZS,SAAS,CAAEL,WADC,CAVxB,kCAaSL,oBAbT,CAagC,CACpBU,SAAS,CAAEN,iBADS,CAbhC,kCAgBSF,eAhBT,CAgB2B,CACfQ,SAAS,CAAEH,oBADI,CAhB3B,gGAqBI,+BAAuB,CACnB,0CACS,KAAK,CAAC,eADf,CAC+B,IAAI,CAAC,mBADpC,GAGH,CAzBL,qCA2BI,gCAAwB,CACpB,+CACH,CA7BL,6BA+BI,wBAAgB,IACJM,CAAAA,IADI,CACK,KAAKC,KADV,CACJD,IADI,UAKR,KAAKJ,SAAL,CAAeI,IAAf,GAAwB,EALhB,CAGGE,MAHH,MAGRL,SAHQ,CAIRC,QAJQ,MAIRA,QAJQ,CAOZ,GAAII,MAAM,GAAKC,SAAf,CAA0B,CACtB,mCACK,iBADL,EACuB,QAAQ,CAAGL,QADlC,+BAES,MAFT,CAEqB,KAAKG,KAF1B,GAKH,CAED,MAAO,KAAP,CACH,CA/CL,8BAiDI,yBAAiB,IACLD,CAAAA,IADK,CACI,KAAKC,KADT,CACLD,IADK,WAEqC,KAAKJ,SAAL,CAAeI,IAAf,GAAwB,EAF7D,sBAELF,QAFK,CAELA,QAFK,yBAEM,KAAKM,qBAFX,gBAGb,MAAON,CAAAA,QAAQ,EAAf,CACH,CArDL,sBAuDI,iBAAS,CACL,mCACK,QADL,EACc,QAAQ,CAAG,KAAKO,cAAL,EADzB,EAEU,KAAKC,aAAL,EAFV,EAKH,CA7DL,uDAhCAC,MAAM,CAACC,cAAP,CAAsBC,cAAtB,CAAsC,MAAtC,CAA8C,CAAEC,KAAK,CAAE,eAAT,CAA9C,E,wFAgGA,cAAef,CAAAA,aAAf","sourcesContent":["/* eslint-disable max-len */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { lazy, PureComponent, Suspense } from 'react';\n\nimport RenderWhenVisible from 'Component/RenderWhenVisible';\n\nimport {\n    CATALOG_PRODUCT_LIST,\n    NEW_PRODUCTS,\n    RECENTLY_VIEWED,\n    SLIDER\n} from './WidgetFactory.config';\n\nimport './WidgetFactory.style';\n\nexport const ProductListWidget = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"category\" */ 'Component/ProductListWidget'));\nexport const NewProducts = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"category\" */ 'Component/NewProducts'));\nexport const HomeSlider = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"cms\" */ 'Component/SliderWidget'));\nexport const RecentlyViewedWidget = lazy(() => import(/* webpackMode: \"lazy\", webpackChunkName: \"category\" */ 'Component/RecentlyViewedWidget'));\n\n/** @namespace Component/WidgetFactory/Component */\nexport class WidgetFactory extends PureComponent {\n    static propTypes = {\n        type: PropTypes.string.isRequired\n    };\n\n    renderMap = {\n        [SLIDER]: {\n            component: HomeSlider,\n            fallback: this.renderSliderFallback\n        },\n        [NEW_PRODUCTS]: {\n            component: NewProducts\n        },\n        [CATALOG_PRODUCT_LIST]: {\n            component: ProductListWidget\n        },\n        [RECENTLY_VIEWED]: {\n            component: RecentlyViewedWidget\n        }\n    };\n\n    renderSliderFallback() {\n        return (\n            <div block=\"WidgetFactory\" elem=\"SliderPlaceholder\" />\n        );\n    }\n\n    renderDefaultFallback() {\n        return <div />;\n    }\n\n    renderContent() {\n        const { type } = this.props;\n        const {\n            component: Widget,\n            fallback\n        } = this.renderMap[type] || {};\n\n        if (Widget !== undefined) {\n            return (\n                <RenderWhenVisible fallback={ fallback }>\n                    <Widget { ...this.props } />\n                </RenderWhenVisible>\n            );\n        }\n\n        return null;\n    }\n\n    renderFallback() {\n        const { type } = this.props;\n        const { fallback = this.renderDefaultFallback } = this.renderMap[type] || {};\n        return fallback();\n    }\n\n    render() {\n        return (\n            <Suspense fallback={ this.renderFallback() }>\n                { this.renderContent() }\n            </Suspense>\n        );\n    }\n}\n\nexport default WidgetFactory;\n"]},"metadata":{},"sourceType":"module"}