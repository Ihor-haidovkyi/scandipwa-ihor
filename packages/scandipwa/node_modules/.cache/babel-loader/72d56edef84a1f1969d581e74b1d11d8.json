{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import{connect}from'react-redux';import{POPUP}from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Header/Header.config\";import{changeNavigationState,goToPreviousNavigationState as _goToPreviousNavigationState}from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Navigation/Navigation.action\";import{TOP_NAVIGATION_TYPE}from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Navigation/Navigation.reducer\";import{hideActiveOverlay as _hideActiveOverlay,hideActivePopup}from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Overlay/Overlay.action\";import Popup from\"./Popup.component\";/** @namespace Component/Popup/Container/mapStateToProps */export var mapStateToProps=middleware(function(state){return{activeOverlay:state.OverlayReducer.activeOverlay,areOtherOverlaysOpen:state.OverlayReducer.areOtherOverlaysOpen,shouldPopupClose:state.PopupReducer.shouldPopupClose,payload:state.PopupReducer.popupPayload,device:state.ConfigReducer.device};},\"Component/Popup/Container/mapStateToProps\");/** @namespace Component/Popup/Container/mapDispatchToProps */export var mapDispatchToProps=middleware(function(dispatch){return{hideActiveOverlay:function hideActiveOverlay(){return dispatch(_hideActiveOverlay());},resetHideActivePopup:function resetHideActivePopup(){return dispatch(hideActivePopup(false));},changeHeaderState:function changeHeaderState(state){return dispatch(changeNavigationState(TOP_NAVIGATION_TYPE,state));},goToPreviousNavigationState:function goToPreviousNavigationState(state){return dispatch(_goToPreviousNavigationState(TOP_NAVIGATION_TYPE,state));}};},\"Component/Popup/Container/mapDispatchToProps\");/** @namespace Component/Popup/Container */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _PopupContainer=/*#__PURE__*/function(_Extensible){_inherits(_PopupContainer,_Extensible);var _super=_createSuper(_PopupContainer);function _PopupContainer(){var _this;_classCallCheck(this,_PopupContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.containerFunctions={onVisible:_this.onVisible.bind(_assertThisInitialized(_this))};_this.containerProps=function(){return{title:_this._getPopupTitle()};};return _this;}_createClass(_PopupContainer,[{key:\"onVisible\",value:function onVisible(){var _this$props=this.props,changeHeaderState=_this$props.changeHeaderState,onVisible=_this$props.onVisible;changeHeaderState({name:POPUP,title:this._getPopupTitle(),onCloseClick:function onCloseClick(){history.back();}});onVisible();}},{key:\"_getPopupTitle\",value:function _getPopupTitle(){var _this$props2=this.props,payload=_this$props2.payload,activeOverlay=_this$props2.activeOverlay;var _ref=payload[activeOverlay]||{},title=_ref.title;return title;}},{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,Popup,Object.assign({},this.props,this.containerProps(),this.containerFunctions));}}]);return _PopupContainer;}(Extensible(PureComponent));_PopupContainer.defaultProps={onVisible:function onVisible(){},onClose:function onClose(){}};Object.defineProperty(_PopupContainer,'name',{value:'PopupContainer'});export var PopupContainer=middleware(_PopupContainer,\"Component/Popup/Container\");export default connect(mapStateToProps,mapDispatchToProps)(PopupContainer);","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/Popup/Popup.container.js"],"names":["PureComponent","connect","POPUP","changeNavigationState","goToPreviousNavigationState","TOP_NAVIGATION_TYPE","hideActiveOverlay","hideActivePopup","Popup","mapStateToProps","state","activeOverlay","OverlayReducer","areOtherOverlaysOpen","shouldPopupClose","PopupReducer","payload","popupPayload","device","ConfigReducer","mapDispatchToProps","dispatch","resetHideActivePopup","changeHeaderState","PopupContainer","containerFunctions","onVisible","bind","containerProps","title","_getPopupTitle","props","name","onCloseClick","history","back","defaultProps","onClose","Object","defineProperty","_PopupContainer","value"],"mappings":"qtBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAGA,OAASA,aAAT,KAA8B,OAA9B,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,KAAT,wFACA,OAASC,qBAAT,CAAgCC,2BAA2B,GAA3BA,CAAAA,4BAAhC,4FACA,OAASC,mBAAT,6FACA,OAASC,iBAAiB,GAAjBA,CAAAA,kBAAT,CAA4BC,eAA5B,sFAEA,MAAOC,CAAAA,KAAP,yBAEA,2DACA,MAAO,IAAMC,CAAAA,eAAe,YAAG,SAACC,KAAD,QAAY,CACvCC,aAAa,CAAED,KAAK,CAACE,cAAN,CAAqBD,aADG,CAEvCE,oBAAoB,CAAEH,KAAK,CAACE,cAAN,CAAqBC,oBAFJ,CAGvCC,gBAAgB,CAAEJ,KAAK,CAACK,YAAN,CAAmBD,gBAHE,CAIvCE,OAAO,CAAEN,KAAK,CAACK,YAAN,CAAmBE,YAJW,CAKvCC,MAAM,CAAER,KAAK,CAACS,aAAN,CAAoBD,MALW,CAAZ,EAAH,6CAArB,CAQP,8DACA,MAAO,IAAME,CAAAA,kBAAkB,YAAG,SAACC,QAAD,QAAe,CAC7Cf,iBAAiB,CAAE,mCAAMe,CAAAA,QAAQ,CAACf,kBAAiB,EAAlB,CAAd,EAD0B,CAE7CgB,oBAAoB,CAAE,sCAAMD,CAAAA,QAAQ,CAACd,eAAe,CAAC,KAAD,CAAhB,CAAd,EAFuB,CAG7CgB,iBAAiB,CAAE,2BAACb,KAAD,QAAWW,CAAAA,QAAQ,CAAClB,qBAAqB,CAACE,mBAAD,CAAsBK,KAAtB,CAAtB,CAAnB,EAH0B,CAI7CN,2BAA2B,CAAE,qCAACM,KAAD,QAAWW,CAAAA,QAAQ,CAACjB,4BAA2B,CAACC,mBAAD,CAAsBK,KAAtB,CAA5B,CAAnB,EAJgB,CAAf,EAAH,gDAAxB,CAOP,2C,wEACA,UAAac,CAAAA,eAAb,iWAoBIC,kBApBJ,CAoByB,CACjBC,SAAS,CAAE,MAAKA,SAAL,CAAeC,IAAf,+BADM,CApBzB,OAsCIC,cAtCJ,CAsCqB,iBAAO,CACpBC,KAAK,CAAE,MAAKC,cAAL,EADa,CAAP,EAtCrB,oEAwBI,oBAAY,iBACiC,KAAKC,KADtC,CACAR,iBADA,aACAA,iBADA,CACmBG,SADnB,aACmBA,SADnB,CAGRH,iBAAiB,CAAC,CACdS,IAAI,CAAE9B,KADQ,CAEd2B,KAAK,CAAE,KAAKC,cAAL,EAFO,CAGdG,YAAY,CAAE,uBAAM,CAChBC,OAAO,CAACC,IAAR,GACH,CALa,CAAD,CAAjB,CAQAT,SAAS,GACZ,CApCL,8BA0CI,yBAAiB,kBACsB,KAAKK,KAD3B,CACLf,OADK,cACLA,OADK,CACIL,aADJ,cACIA,aADJ,UAEKK,OAAO,CAACL,aAAD,CAAP,EAA0B,EAF/B,CAELkB,KAFK,MAELA,KAFK,CAGb,MAAOA,CAAAA,KAAP,CACH,CA9CL,sBAgDI,iBAAS,CACL,mCACK,KADL,kBAEW,KAAKE,KAFhB,CAGW,KAAKH,cAAL,EAHX,CAIW,KAAKH,kBAJhB,GAOH,CAxDL,wDAAaD,e,CAeFY,Y,CAAe,CAClBV,SAAS,CAAE,oBAAM,CAAE,CADD,CAElBW,OAAO,CAAE,kBAAM,CAAE,CAFC,C,CAvD1BC,MAAM,CAACC,cAAP,CAAsBC,eAAtB,CAAuC,MAAvC,CAA+C,CAAEC,KAAK,CAAE,gBAAT,CAA/C,E,kFAmGA,cAAexC,CAAAA,OAAO,CAACQ,eAAD,CAAkBW,kBAAlB,CAAP,CAA6CI,cAA7C,CAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { POPUP } from 'Component/Header/Header.config';\nimport { changeNavigationState, goToPreviousNavigationState } from 'Store/Navigation/Navigation.action';\nimport { TOP_NAVIGATION_TYPE } from 'Store/Navigation/Navigation.reducer';\nimport { hideActiveOverlay, hideActivePopup } from 'Store/Overlay/Overlay.action';\n\nimport Popup from './Popup.component';\n\n/** @namespace Component/Popup/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    activeOverlay: state.OverlayReducer.activeOverlay,\n    areOtherOverlaysOpen: state.OverlayReducer.areOtherOverlaysOpen,\n    shouldPopupClose: state.PopupReducer.shouldPopupClose,\n    payload: state.PopupReducer.popupPayload,\n    device: state.ConfigReducer.device\n});\n\n/** @namespace Component/Popup/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    hideActiveOverlay: () => dispatch(hideActiveOverlay()),\n    resetHideActivePopup: () => dispatch(hideActivePopup(false)),\n    changeHeaderState: (state) => dispatch(changeNavigationState(TOP_NAVIGATION_TYPE, state)),\n    goToPreviousNavigationState: (state) => dispatch(goToPreviousNavigationState(TOP_NAVIGATION_TYPE, state))\n});\n\n/** @namespace Component/Popup/Container */\nexport class PopupContainer extends PureComponent {\n    static propTypes = {\n        payload: PropTypes.objectOf(\n            PropTypes.shape({\n                title: PropTypes.string\n            })\n        ).isRequired,\n        activeOverlay: PropTypes.string.isRequired,\n        goToPreviousNavigationState: PropTypes.func.isRequired,\n        changeHeaderState: PropTypes.func.isRequired,\n        onVisible: PropTypes.func,\n        onClose: PropTypes.func,\n        shouldPopupClose: PropTypes.bool.isRequired\n    };\n\n    static defaultProps = {\n        onVisible: () => {},\n        onClose: () => {}\n    };\n\n    containerFunctions = {\n        onVisible: this.onVisible.bind(this)\n    };\n\n    onVisible() {\n        const { changeHeaderState, onVisible } = this.props;\n\n        changeHeaderState({\n            name: POPUP,\n            title: this._getPopupTitle(),\n            onCloseClick: () => {\n                history.back();\n            }\n        });\n\n        onVisible();\n    }\n\n    containerProps = () => ({\n        title: this._getPopupTitle()\n    });\n\n    _getPopupTitle() {\n        const { payload, activeOverlay } = this.props;\n        const { title } = payload[activeOverlay] || {};\n        return title;\n    }\n\n    render() {\n        return (\n            <Popup\n              { ...this.props }\n              { ...this.containerProps() }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PopupContainer);\n"]},"metadata":{},"sourceType":"module"}