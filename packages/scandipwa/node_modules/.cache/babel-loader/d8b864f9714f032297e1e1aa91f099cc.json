{"ast":null,"code":"import _toConsumableArray from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import PropTypes from'prop-types';import{connect}from'react-redux';import{PRICE_TYPE_PERCENT}from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductBundleItem/ProductBundleItem.config\";import{mapDispatchToProps,mapStateToProps,ProductCustomizableOptionContainer}from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductCustomizableOption/ProductCustomizableOption.container\";import ProductBundleItem from\"./ProductBundleItem.component\";/** @namespace Component/ProductBundleItem/Container */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _ProductBundleItemContainer=/*#__PURE__*/function(_Extensible){_inherits(_ProductBundleItemContainer,_Extensible);var _super=_createSuper(_ProductBundleItemContainer);function _ProductBundleItemContainer(){var _this;_classCallCheck(this,_ProductBundleItemContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.containerFunctions=_objectSpread(_objectSpread({},_this.containerFunctions),{},{setDropdownItemQuantity:_this.setDropdownItemQuantity.bind(_assertThisInitialized(_this))});return _this;}_createClass(_ProductBundleItemContainer,[{key:\"componentDidMount\",value:function componentDidMount(){this.getDefaultValues();}},{key:\"getDefaultValues\",value:function getDefaultValues(){var _this$containerProps=this.containerProps(),optionType=_this$containerProps.optionType;switch(optionType){case'select':case'radio':// handle radio as select\nthis.setDefaultDropdownValue();break;case'checkbox':case'multi':// handle multi-select as checkbox\nthis.setDefaultCheckboxValue();break;default:return null;}return null;}},{key:\"setDefaultDropdownValue\",value:function setDefaultDropdownValue(){var _this2=this;var _this$props=this.props,setSelectedDropdownValue=_this$props.setSelectedDropdownValue,_this$props$option=_this$props.option,option_id=_this$props$option.option_id,options=_this$props$option.options;return options.reduce(function(acc,_ref){var is_default=_ref.is_default,id=_ref.id,quantity=_ref.quantity;if(is_default){var value=id.toString();setSelectedDropdownValue(option_id,{value:value,quantity:quantity});_this2.setState({selectedDropdownValue:id});}return acc;},[]);}},{key:\"setDefaultCheckboxValue\",value:function setDefaultCheckboxValue(){var _this$props2=this.props,_this$props2$option=_this$props2.option,option_id=_this$props2$option.option_id,options=_this$props2$option.options,setSelectedCheckboxValues=_this$props2.setSelectedCheckboxValues;return options.reduce(function(acc,_ref2){var is_default=_ref2.is_default,id=_ref2.id,quantity=_ref2.quantity;if(is_default){var value=id.toString();setSelectedCheckboxValues(option_id,{value:value,quantity:quantity});}return acc;},[]);}},{key:\"getIsRequiredSelected\",value:function getIsRequiredSelected(){var _this$props3=this.props,productOptionsData=_this$props3.productOptionsData,_this$props3$productO=_this$props3.productOptionsData,requiredOptions=_this$props3$productO.requiredOptions,productOptions=_this$props3$productO.productOptions,productOptionsMulti=_this$props3$productO.productOptionsMulti,option_id=_this$props3.option.option_id;if(Object.keys(productOptionsData).length<1||!requiredOptions){return true;}var selectedItems=[].concat(_toConsumableArray(productOptions||[]),_toConsumableArray(productOptionsMulti||[]));var isRequired=requiredOptions.reduce(function(acc,item){if(item===option_id){acc.push(item);}return acc;},[]);if(!isRequired.length){return true;}var isRequiredSelected=selectedItems.reduce(function(acc,_ref3){var id=_ref3.id;if(isRequired[0]===id){acc.push(id);}return acc;},[]);return!!isRequiredSelected.length;}},{key:\"getSelectedCheckboxValue\",value:function getSelectedCheckboxValue(value){var _this$props4=this.props,option_id=_this$props4.option.option_id,setSelectedCheckboxValues=_this$props4.setSelectedCheckboxValues;var selectedValue=this.getSelectedOptionData(value);setSelectedCheckboxValues(option_id,selectedValue);}},{key:\"setDropdownItemQuantity\",value:function setDropdownItemQuantity(quantity){var _this$props5=this.props,setSelectedDropdownValue=_this$props5.setSelectedDropdownValue,option_id=_this$props5.option.option_id;var selectedDropdownValue=this.state.selectedDropdownValue;var value=selectedDropdownValue.toString();var selectedValue={value:value,quantity:quantity};setSelectedDropdownValue(option_id,selectedValue);}},{key:\"setDropdownValue\",value:function setDropdownValue(value){var _this$props6=this.props,setSelectedDropdownValue=_this$props6.setSelectedDropdownValue,option=_this$props6.option,option_id=_this$props6.option.option_id;var selectedDropdownValue=this.state.selectedDropdownValue;if(selectedDropdownValue===value){setSelectedDropdownValue(null,option);this.setState({selectedDropdownValue:0});}else{this.setState({selectedDropdownValue:parseInt(value,10)});var selectedValue=this.getSelectedOptionData(value.toString());setSelectedDropdownValue(option_id,selectedValue);}}},{key:\"getSelectedOptionData\",value:function getSelectedOptionData(optionId){var options=this.props.option.options;return options.reduce(function(parameters,_ref4){var id=_ref4.id,quantity=_ref4.quantity;var value=id.toString();if(optionId===value){return{value:value,quantity:quantity};}return parameters;},{});}},{key:\"getDropdownOptions\",value:function getDropdownOptions(values){var _this3=this;var currencyCode=this.props.currencyCode;return values.reduce(function(acc,_ref5){var id=_ref5.id,label=_ref5.label,price_type=_ref5.price_type,quantity=_ref5.quantity,can_change_quantity=_ref5.can_change_quantity,finalOptionPrice=_ref5.finalOptionPrice,price=_ref5.price;var finalPrice=price_type===PRICE_TYPE_PERCENT?price:finalOptionPrice;var dropdownLabel=!can_change_quantity?\"\".concat(quantity,\" x \").concat(label,\" + \").concat(_this3.renderOptionLabel(price_type,finalPrice,currencyCode)):\"\".concat(label,\" + \").concat(_this3.renderOptionLabel(price_type,finalPrice,currencyCode));acc.push({id:id,name:label,value:id,label:dropdownLabel});return acc;},[]);}},{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,ProductBundleItem,Object.assign({},this.props,this.state,this.containerFunctions,this.containerProps()));}}]);return _ProductBundleItemContainer;}(Extensible(ProductCustomizableOptionContainer));_ProductBundleItemContainer.propTypes=_objectSpread(_objectSpread({},ProductCustomizableOptionContainer.propTypes),{},{setCustomizableOptionTextFieldValue:PropTypes.func,updateQuantity:PropTypes.func.isRequired});_ProductBundleItemContainer.defaultProps=_objectSpread(_objectSpread({},ProductCustomizableOptionContainer.defaultProps),{},{setCustomizableOptionTextFieldValue:function setCustomizableOptionTextFieldValue(){}});Object.defineProperty(_ProductBundleItemContainer,'name',{value:'ProductBundleItemContainer'});export var ProductBundleItemContainer=middleware(_ProductBundleItemContainer,\"Component/ProductBundleItem/Container\");export default connect(mapStateToProps,mapDispatchToProps)(ProductBundleItemContainer);","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductBundleItem/ProductBundleItem.container.js"],"names":["PropTypes","connect","PRICE_TYPE_PERCENT","mapDispatchToProps","mapStateToProps","ProductCustomizableOptionContainer","ProductBundleItem","ProductBundleItemContainer","containerFunctions","setDropdownItemQuantity","bind","getDefaultValues","containerProps","optionType","setDefaultDropdownValue","setDefaultCheckboxValue","props","setSelectedDropdownValue","option","option_id","options","reduce","acc","is_default","id","quantity","value","toString","setState","selectedDropdownValue","setSelectedCheckboxValues","productOptionsData","requiredOptions","productOptions","productOptionsMulti","Object","keys","length","selectedItems","isRequired","item","push","isRequiredSelected","selectedValue","getSelectedOptionData","state","parseInt","optionId","parameters","values","currencyCode","label","price_type","can_change_quantity","finalOptionPrice","price","finalPrice","dropdownLabel","renderOptionLabel","name","propTypes","setCustomizableOptionTextFieldValue","func","updateQuantity","defaultProps","defineProperty","_ProductBundleItemContainer"],"mappings":"8/BAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAOA,CAAAA,SAAP,KAAsB,YAAtB,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,kBAAT,8GACA,OACIC,kBADJ,CAEIC,eAFJ,CAGIC,kCAHJ,iIAMA,MAAOC,CAAAA,iBAAP,qCAEA,uD,wEACA,UAAaC,CAAAA,2BAAb,iZAYIC,kBAZJ,gCAaW,MAAKA,kBAbhB,MAcQC,uBAAuB,CAAE,MAAKA,uBAAL,CAA6BC,IAA7B,+BAdjC,0FAiBI,4BAAoB,CAChB,KAAKC,gBAAL,GACH,CAnBL,gCAqBI,2BAAmB,0BACQ,KAAKC,cAAL,EADR,CACPC,UADO,sBACPA,UADO,CAGf,OAAQA,UAAR,EACA,IAAK,QAAL,CACA,IAAK,OAAL,CAAc;AACV,KAAKC,uBAAL,GACA,MACJ,IAAK,UAAL,CACA,IAAK,OAAL,CAAc;AACV,KAAKC,uBAAL,GACA,MACJ,QACI,MAAO,KAAP,CAVJ,CAaA,MAAO,KAAP,CACH,CAtCL,uCAwCI,kCAA0B,iCAIlB,KAAKC,KAJa,CAElBC,wBAFkB,aAElBA,wBAFkB,gCAGlBC,MAHkB,CAGRC,SAHQ,oBAGRA,SAHQ,CAGGC,OAHH,oBAGGA,OAHH,CAMtB,MAAOA,CAAAA,OAAO,CAACC,MAAR,CAAe,SAACC,GAAD,MAAuC,IAA/BC,CAAAA,UAA+B,MAA/BA,UAA+B,CAAnBC,EAAmB,MAAnBA,EAAmB,CAAfC,QAAe,MAAfA,QAAe,CACzD,GAAIF,UAAJ,CAAgB,CACZ,GAAMG,CAAAA,KAAK,CAAGF,EAAE,CAACG,QAAH,EAAd,CACAV,wBAAwB,CAACE,SAAD,CAAY,CAAEO,KAAK,CAALA,KAAF,CAASD,QAAQ,CAARA,QAAT,CAAZ,CAAxB,CACA,MAAI,CAACG,QAAL,CAAc,CAAEC,qBAAqB,CAAEL,EAAzB,CAAd,EACH,CAED,MAAOF,CAAAA,GAAP,CACH,CARM,CAQJ,EARI,CAAP,CASH,CAvDL,uCAyDI,kCAA0B,kBACgD,KAAKN,KADrD,kCACdE,MADc,CACJC,SADI,qBACJA,SADI,CACOC,OADP,qBACOA,OADP,CACkBU,yBADlB,cACkBA,yBADlB,CAGtB,MAAOV,CAAAA,OAAO,CAACC,MAAR,CAAe,SAACC,GAAD,OAAuC,IAA/BC,CAAAA,UAA+B,OAA/BA,UAA+B,CAAnBC,EAAmB,OAAnBA,EAAmB,CAAfC,QAAe,OAAfA,QAAe,CACzD,GAAIF,UAAJ,CAAgB,CACZ,GAAMG,CAAAA,KAAK,CAAGF,EAAE,CAACG,QAAH,EAAd,CACAG,yBAAyB,CAACX,SAAD,CAAY,CAAEO,KAAK,CAALA,KAAF,CAASD,QAAQ,CAARA,QAAT,CAAZ,CAAzB,CACH,CAED,MAAOH,CAAAA,GAAP,CACH,CAPM,CAOJ,EAPI,CAAP,CAQH,CApEL,qCAsEI,gCAAwB,kBAWhB,KAAKN,KAXW,CAEhBe,kBAFgB,cAEhBA,kBAFgB,oCAGhBA,kBAHgB,CAIZC,eAJY,uBAIZA,eAJY,CAKZC,cALY,uBAKZA,cALY,CAMZC,mBANY,uBAMZA,mBANY,CASZf,SATY,cAQhBD,MARgB,CASZC,SATY,CAapB,GAAIgB,MAAM,CAACC,IAAP,CAAYL,kBAAZ,EAAgCM,MAAhC,CAAyC,CAAzC,EAA8C,CAACL,eAAnD,CAAoE,CAChE,MAAO,KAAP,CACH,CAED,GAAMM,CAAAA,aAAa,8BAAOL,cAAc,EAAI,EAAzB,qBAAgCC,mBAAmB,EAAI,EAAvD,EAAnB,CACA,GAAMK,CAAAA,UAAU,CAAGP,eAAe,CAACX,MAAhB,CAAuB,SAACC,GAAD,CAAMkB,IAAN,CAAe,CACrD,GAAIA,IAAI,GAAKrB,SAAb,CAAwB,CACpBG,GAAG,CAACmB,IAAJ,CAASD,IAAT,EACH,CAED,MAAOlB,CAAAA,GAAP,CACH,CANkB,CAMhB,EANgB,CAAnB,CAQA,GAAI,CAACiB,UAAU,CAACF,MAAhB,CAAwB,CACpB,MAAO,KAAP,CACH,CAED,GAAMK,CAAAA,kBAAkB,CAAGJ,aAAa,CAACjB,MAAd,CAAqB,SAACC,GAAD,OAAiB,IAATE,CAAAA,EAAS,OAATA,EAAS,CAC7D,GAAIe,UAAU,CAAC,CAAD,CAAV,GAAkBf,EAAtB,CAA0B,CACtBF,GAAG,CAACmB,IAAJ,CAASjB,EAAT,EACH,CAED,MAAOF,CAAAA,GAAP,CACH,CAN0B,CAMxB,EANwB,CAA3B,CAQA,MAAO,CAAC,CAACoB,kBAAkB,CAACL,MAA5B,CACH,CA7GL,wCA+GI,kCAAyBX,KAAzB,CAAgC,kBAIxB,KAAKV,KAJmB,CAEdG,SAFc,cAExBD,MAFwB,CAEdC,SAFc,CAGxBW,yBAHwB,cAGxBA,yBAHwB,CAK5B,GAAMa,CAAAA,aAAa,CAAG,KAAKC,qBAAL,CAA2BlB,KAA3B,CAAtB,CAEAI,yBAAyB,CAACX,SAAD,CAAYwB,aAAZ,CAAzB,CACH,CAvHL,uCAyHI,iCAAwBlB,QAAxB,CAAkC,kBAC8B,KAAKT,KADnC,CACtBC,wBADsB,cACtBA,wBADsB,CACcE,SADd,cACID,MADJ,CACcC,SADd,IAEtBU,CAAAA,qBAFsB,CAEI,KAAKgB,KAFT,CAEtBhB,qBAFsB,CAG9B,GAAMH,CAAAA,KAAK,CAAGG,qBAAqB,CAACF,QAAtB,EAAd,CACA,GAAMgB,CAAAA,aAAa,CAAG,CAAEjB,KAAK,CAALA,KAAF,CAASD,QAAQ,CAARA,QAAT,CAAtB,CAEAR,wBAAwB,CAACE,SAAD,CAAYwB,aAAZ,CAAxB,CACH,CAhIL,gCAkII,0BAAiBjB,KAAjB,CAAwB,kBACgD,KAAKV,KADrD,CACZC,wBADY,cACZA,wBADY,CACcC,MADd,cACcA,MADd,CACgCC,SADhC,cACsBD,MADtB,CACgCC,SADhC,IAEZU,CAAAA,qBAFY,CAEc,KAAKgB,KAFnB,CAEZhB,qBAFY,CAIpB,GAAIA,qBAAqB,GAAKH,KAA9B,CAAqC,CACjCT,wBAAwB,CAAC,IAAD,CAAOC,MAAP,CAAxB,CACA,KAAKU,QAAL,CAAc,CAAEC,qBAAqB,CAAE,CAAzB,CAAd,EACH,CAHD,IAGO,CACH,KAAKD,QAAL,CAAc,CAAEC,qBAAqB,CAAEiB,QAAQ,CAACpB,KAAD,CAAQ,EAAR,CAAjC,CAAd,EACA,GAAMiB,CAAAA,aAAa,CAAG,KAAKC,qBAAL,CAA2BlB,KAAK,CAACC,QAAN,EAA3B,CAAtB,CACAV,wBAAwB,CAACE,SAAD,CAAYwB,aAAZ,CAAxB,CACH,CACJ,CA9IL,qCAgJI,+BAAsBI,QAAtB,CAAgC,IACV3B,CAAAA,OADU,CACI,KAAKJ,KADT,CACpBE,MADoB,CACVE,OADU,CAG5B,MAAOA,CAAAA,OAAO,CAACC,MAAR,CACH,SAAC2B,UAAD,OAAkC,IAAnBxB,CAAAA,EAAmB,OAAnBA,EAAmB,CAAfC,QAAe,OAAfA,QAAe,CAC9B,GAAMC,CAAAA,KAAK,CAAGF,EAAE,CAACG,QAAH,EAAd,CAEA,GAAIoB,QAAQ,GAAKrB,KAAjB,CAAwB,CACpB,MAAO,CAAEA,KAAK,CAALA,KAAF,CAASD,QAAQ,CAARA,QAAT,CAAP,CACH,CAED,MAAOuB,CAAAA,UAAP,CACH,CATE,CASA,EATA,CAAP,CAWH,CA9JL,kCAgKI,4BAAmBC,MAAnB,CAA2B,oBAEnBC,CAAAA,YAFmB,CAGnB,KAAKlC,KAHc,CAEnBkC,YAFmB,CAKvB,MAAOD,CAAAA,MAAM,CAAC5B,MAAP,CAAc,SAACC,GAAD,OAQf,IAPFE,CAAAA,EAOE,OAPFA,EAOE,CANF2B,KAME,OANFA,KAME,CALFC,UAKE,OALFA,UAKE,CAJF3B,QAIE,OAJFA,QAIE,CAHF4B,mBAGE,OAHFA,mBAGE,CAFFC,gBAEE,OAFFA,gBAEE,CADFC,KACE,OADFA,KACE,CACF,GAAMC,CAAAA,UAAU,CAAGJ,UAAU,GAAKlD,kBAAf,CAAoCqD,KAApC,CAA4CD,gBAA/D,CAEA,GAAMG,CAAAA,aAAa,CAAG,CAACJ,mBAAD,WACZ5B,QADY,eACI0B,KADJ,eACiB,MAAI,CAACO,iBAAL,CAAuBN,UAAvB,CAAmCI,UAAnC,CAA+CN,YAA/C,CADjB,YAEZC,KAFY,eAEC,MAAI,CAACO,iBAAL,CAAuBN,UAAvB,CAAmCI,UAAnC,CAA+CN,YAA/C,CAFD,CAAtB,CAIA5B,GAAG,CAACmB,IAAJ,CAAS,CACLjB,EAAE,CAAFA,EADK,CAELmC,IAAI,CAAER,KAFD,CAGLzB,KAAK,CAAEF,EAHF,CAIL2B,KAAK,CAAEM,aAJF,CAAT,EAOA,MAAOnC,CAAAA,GAAP,CACH,CAvBM,CAuBJ,EAvBI,CAAP,CAwBH,CA7LL,sBA+LI,iBAAS,CACL,mCACK,iBADL,kBAEW,KAAKN,KAFhB,CAGW,KAAK6B,KAHhB,CAIW,KAAKrC,kBAJhB,CAKW,KAAKI,cAAL,EALX,GAQH,CAxML,yFAAaL,2B,CACFqD,S,gCACAvD,kCAAkC,CAACuD,S,MACtCC,mCAAmC,CAAE7D,SAAS,CAAC8D,I,CAC/CC,cAAc,CAAE/D,SAAS,CAAC8D,IAAV,CAAevB,U,GAJ1BhC,2B,CAOFyD,Y,gCACA3D,kCAAkC,CAAC2D,Y,MACtCH,mCAAmC,CAAE,8CAAM,CAAE,C,GAjCrD1B,MAAM,CAAC8B,cAAP,CAAsBC,2BAAtB,CAAmD,MAAnD,CAA2D,CAAExC,KAAK,CAAE,4BAAT,CAA3D,E,sHAmOA,cAAezB,CAAAA,OAAO,CAACG,eAAD,CAAkBD,kBAAlB,CAAP,CAA6CI,0BAA7C,CAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { PRICE_TYPE_PERCENT } from 'Component/ProductBundleItem/ProductBundleItem.config';\nimport {\n    mapDispatchToProps,\n    mapStateToProps,\n    ProductCustomizableOptionContainer\n} from 'Component/ProductCustomizableOption/ProductCustomizableOption.container';\n\nimport ProductBundleItem from './ProductBundleItem.component';\n\n/** @namespace Component/ProductBundleItem/Container */\nexport class ProductBundleItemContainer extends ProductCustomizableOptionContainer {\n    static propTypes = {\n        ...ProductCustomizableOptionContainer.propTypes,\n        setCustomizableOptionTextFieldValue: PropTypes.func,\n        updateQuantity: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        ...ProductCustomizableOptionContainer.defaultProps,\n        setCustomizableOptionTextFieldValue: () => {}\n    };\n\n    containerFunctions = {\n        ...this.containerFunctions,\n        setDropdownItemQuantity: this.setDropdownItemQuantity.bind(this)\n    };\n\n    componentDidMount() {\n        this.getDefaultValues();\n    }\n\n    getDefaultValues() {\n        const { optionType } = this.containerProps();\n\n        switch (optionType) {\n        case 'select':\n        case 'radio': // handle radio as select\n            this.setDefaultDropdownValue();\n            break;\n        case 'checkbox':\n        case 'multi': // handle multi-select as checkbox\n            this.setDefaultCheckboxValue();\n            break;\n        default:\n            return null;\n        }\n\n        return null;\n    }\n\n    setDefaultDropdownValue() {\n        const {\n            setSelectedDropdownValue,\n            option: { option_id, options }\n        } = this.props;\n\n        return options.reduce((acc, { is_default, id, quantity }) => {\n            if (is_default) {\n                const value = id.toString();\n                setSelectedDropdownValue(option_id, { value, quantity });\n                this.setState({ selectedDropdownValue: id });\n            }\n\n            return acc;\n        }, []);\n    }\n\n    setDefaultCheckboxValue() {\n        const { option: { option_id, options }, setSelectedCheckboxValues } = this.props;\n\n        return options.reduce((acc, { is_default, id, quantity }) => {\n            if (is_default) {\n                const value = id.toString();\n                setSelectedCheckboxValues(option_id, { value, quantity });\n            }\n\n            return acc;\n        }, []);\n    }\n\n    getIsRequiredSelected() {\n        const {\n            productOptionsData,\n            productOptionsData: {\n                requiredOptions,\n                productOptions,\n                productOptionsMulti\n            },\n            option: {\n                option_id\n            }\n        } = this.props;\n\n        if (Object.keys(productOptionsData).length < 1 || !requiredOptions) {\n            return true;\n        }\n\n        const selectedItems = [...productOptions || [], ...productOptionsMulti || []];\n        const isRequired = requiredOptions.reduce((acc, item) => {\n            if (item === option_id) {\n                acc.push(item);\n            }\n\n            return acc;\n        }, []);\n\n        if (!isRequired.length) {\n            return true;\n        }\n\n        const isRequiredSelected = selectedItems.reduce((acc, { id }) => {\n            if (isRequired[0] === id) {\n                acc.push(id);\n            }\n\n            return acc;\n        }, []);\n\n        return !!isRequiredSelected.length;\n    }\n\n    getSelectedCheckboxValue(value) {\n        const {\n            option: { option_id },\n            setSelectedCheckboxValues\n        } = this.props;\n        const selectedValue = this.getSelectedOptionData(value);\n\n        setSelectedCheckboxValues(option_id, selectedValue);\n    }\n\n    setDropdownItemQuantity(quantity) {\n        const { setSelectedDropdownValue, option: { option_id } } = this.props;\n        const { selectedDropdownValue } = this.state;\n        const value = selectedDropdownValue.toString();\n        const selectedValue = { value, quantity };\n\n        setSelectedDropdownValue(option_id, selectedValue);\n    }\n\n    setDropdownValue(value) {\n        const { setSelectedDropdownValue, option, option: { option_id } } = this.props;\n        const { selectedDropdownValue } = this.state;\n\n        if (selectedDropdownValue === value) {\n            setSelectedDropdownValue(null, option);\n            this.setState({ selectedDropdownValue: 0 });\n        } else {\n            this.setState({ selectedDropdownValue: parseInt(value, 10) });\n            const selectedValue = this.getSelectedOptionData(value.toString());\n            setSelectedDropdownValue(option_id, selectedValue);\n        }\n    }\n\n    getSelectedOptionData(optionId) {\n        const { option: { options } } = this.props;\n\n        return options.reduce(\n            (parameters, { id, quantity }) => {\n                const value = id.toString();\n\n                if (optionId === value) {\n                    return { value, quantity };\n                }\n\n                return parameters;\n            }, {}\n        );\n    }\n\n    getDropdownOptions(values) {\n        const {\n            currencyCode\n        } = this.props;\n\n        return values.reduce((acc, {\n            id,\n            label,\n            price_type,\n            quantity,\n            can_change_quantity,\n            finalOptionPrice,\n            price\n        }) => {\n            const finalPrice = price_type === PRICE_TYPE_PERCENT ? price : finalOptionPrice;\n\n            const dropdownLabel = !can_change_quantity\n                ? `${ quantity } x ${ label } + ${ this.renderOptionLabel(price_type, finalPrice, currencyCode) }`\n                : `${ label } + ${ this.renderOptionLabel(price_type, finalPrice, currencyCode) }`;\n\n            acc.push({\n                id,\n                name: label,\n                value: id,\n                label: dropdownLabel\n            });\n\n            return acc;\n        }, []);\n    }\n\n    render() {\n        return (\n            <ProductBundleItem\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductBundleItemContainer);\n"]},"metadata":{},"sourceType":"module"}