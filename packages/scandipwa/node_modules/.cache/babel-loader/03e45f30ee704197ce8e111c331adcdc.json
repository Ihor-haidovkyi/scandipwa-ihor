{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import ProductReviewRating from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductReviewRating\";import\"./ProductReviewItem.style\";/**\n * @class ProductReviewItem\n * @namespace Component/ProductReviewItem/Component\n */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _ProductReviewItem=/*#__PURE__*/function(_Extensible){_inherits(_ProductReviewItem,_Extensible);var _super=_createSuper(_ProductReviewItem);function _ProductReviewItem(){var _this;_classCallCheck(this,_ProductReviewItem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderReviewListItemRating=function(ratingVoteItem,i){var rating_code=ratingVoteItem.rating_code,percent=ratingVoteItem.percent;return/*#__PURE__*/_checkBEM(React,\"div\",{key:i,block:\"ProductReviewItem\",elem:\"RatingSummaryItem\",itemType:\"http://schema.org/Rating\",itemScope:true,itemProp:\"reviewRating\"},/*#__PURE__*/_checkBEM(React,\"p\",{itemProp:\"name\"},rating_code),/*#__PURE__*/_checkBEM(React,\"meta\",{itemProp:\"ratingValue\",content:percent}),/*#__PURE__*/_checkBEM(React,\"meta\",{itemProp:\"worstRating\",content:0}),/*#__PURE__*/_checkBEM(React,\"meta\",{itemProp:\"bestRating\",content:100}),/*#__PURE__*/_checkBEM(React,ProductReviewRating,{summary:percent,code:rating_code}));};return _this;}_createClass(_ProductReviewItem,[{key:\"getFormattedDate\",value:function getFormattedDate(created_at){// Safari bug\nvar fixedDate=created_at.replace(/-/g,'/');var date=new Date(fixedDate);return date?date.toDateString():created_at;}},{key:\"renderAuthor\",value:function renderAuthor(reviewItem){var nickname=reviewItem.nickname,created_at=reviewItem.created_at;return/*#__PURE__*/_checkBEM(React,\"p\",{block:\"ProductReviewItem\",elem:\"ReviewAuthor\"},__('Written by '),/*#__PURE__*/_checkBEM(React,\"strong\",{itemProp:\"author\"},nickname),/*#__PURE__*/_checkBEM(React,\"meta\",{itemProp:\"datePublished\",content:this.getFormattedDate(created_at)}),__(', written at %s',this.getFormattedDate(created_at)));}},{key:\"render\",value:function render(){var _this$props=this.props,reviewItem=_this$props.reviewItem,_this$props$reviewIte=_this$props.reviewItem,title=_this$props$reviewIte.title,detail=_this$props$reviewIte.detail,rating_votes=_this$props$reviewIte.rating_votes;return/*#__PURE__*/_checkBEM(React,\"li\",{block:\"ProductReviewItem\",itemType:\"http://schema.org/Review\",itemProp:\"review\",itemScope:true},/*#__PURE__*/_checkBEM(React,\"h4\",{block:\"ProductReviewItem\",elem:\"ReviewTitle\",itemProp:\"name\"},title),/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductReviewItem\",elem:\"RatingSummary\"},rating_votes.map(this.renderReviewListItemRating)),/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductReviewItem\",elem:\"ReviewContent\"},/*#__PURE__*/_checkBEM(React,\"p\",{block:\"ProductReviewItem\",elem:\"ReviewDetails\",itemProp:\"reviewBody\"},detail),this.renderAuthor(reviewItem)));}}]);return _ProductReviewItem;}(Extensible(PureComponent));Object.defineProperty(_ProductReviewItem,'name',{value:'ProductReviewItem'});export var ProductReviewItem=middleware(_ProductReviewItem,\"Component/ProductReviewItem/Component\");export default ProductReviewItem;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductReviewItem/ProductReviewItem.component.js"],"names":["PureComponent","ProductReviewRating","ProductReviewItem","renderReviewListItemRating","ratingVoteItem","i","rating_code","percent","created_at","fixedDate","replace","date","Date","toDateString","reviewItem","nickname","__","getFormattedDate","props","title","detail","rating_votes","map","renderAuthor","Object","defineProperty","_ProductReviewItem","value"],"mappings":"ojBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAGA,OAASA,aAAT,KAA8B,OAA9B,CAEA,MAAOC,CAAAA,mBAAP,uFAEA,kCAEA;AACA;AACA;AACA,G,wEACA,UAAaC,CAAAA,kBAAb,6WAYIC,0BAZJ,CAYiC,SAACC,cAAD,CAAiBC,CAAjB,CAAuB,IAE5CC,CAAAA,WAF4C,CAI5CF,cAJ4C,CAE5CE,WAF4C,CAG5CC,OAH4C,CAI5CH,cAJ4C,CAG5CG,OAH4C,CAMhD,0CAEM,GAAG,CAAGF,CAFZ,CAGM,KAAK,CAAC,mBAHZ,CAIM,IAAI,CAAC,mBAJX,CAKM,QAAQ,CAAC,0BALf,CAMM,SAAS,KANf,CAOM,QAAQ,CAAC,cAPf,oCASW,QAAQ,CAAC,MATpB,EAS6BC,WAT7B,uCAUc,QAAQ,CAAC,aAVvB,CAUqC,OAAO,CAAGC,OAV/C,wCAWc,QAAQ,CAAC,aAXvB,CAWqC,OAAO,CAAG,CAX/C,wCAYc,QAAQ,CAAC,YAZvB,CAYoC,OAAO,CAAG,GAZ9C,gCAaS,mBAbT,EAcU,OAAO,CAAGA,OAdpB,CAeU,IAAI,CAAGD,WAfjB,IAmBH,CArCL,8EAKI,0BAAiBE,UAAjB,CAA6B,CACzB;AACA,GAAMC,CAAAA,SAAS,CAAGD,UAAU,CAACE,OAAX,CAAmB,IAAnB,CAAyB,GAAzB,CAAlB,CACA,GAAMC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAASH,SAAT,CAAb,CACA,MAAOE,CAAAA,IAAI,CAAGA,IAAI,CAACE,YAAL,EAAH,CAAyBL,UAApC,CACH,CAVL,4BAuCI,sBAAaM,UAAb,CAAyB,IACbC,CAAAA,QADa,CACYD,UADZ,CACbC,QADa,CACHP,UADG,CACYM,UADZ,CACHN,UADG,CAGrB,wCACO,KAAK,CAAC,mBADb,CACiC,IAAI,CAAC,cADtC,EAEUQ,EAAE,CAAC,aAAD,CAFZ,wCAGgB,QAAQ,CAAC,QAHzB,EAGoCD,QAHpC,uCAIc,QAAQ,CAAC,eAJvB,CAIuC,OAAO,CAAG,KAAKE,gBAAL,CAAsBT,UAAtB,CAJjD,GAKUQ,EAAE,CAAC,iBAAD,CAAoB,KAAKC,gBAAL,CAAsBT,UAAtB,CAApB,CALZ,EAQH,CAlDL,sBAoDI,iBAAS,iBAQD,KAAKU,KARJ,CAEDJ,UAFC,aAEDA,UAFC,mCAGDA,UAHC,CAIGK,KAJH,uBAIGA,KAJH,CAKGC,MALH,uBAKGA,MALH,CAMGC,YANH,uBAMGA,YANH,CAUL,yCAEM,KAAK,CAAC,mBAFZ,CAGM,QAAQ,CAAC,0BAHf,CAIM,QAAQ,CAAC,QAJf,CAKM,SAAS,KALf,qCAOY,KAAK,CAAC,mBAPlB,CAOsC,IAAI,CAAC,aAP3C,CAOyD,QAAQ,CAAC,MAPlE,EAQcF,KARd,sCAUa,KAAK,CAAC,mBAVnB,CAUuC,IAAI,CAAC,eAV5C,EAWcE,YAAY,CAACC,GAAb,CAAiB,KAAKnB,0BAAtB,CAXd,sCAaa,KAAK,CAAC,mBAbnB,CAauC,IAAI,CAAC,eAb5C,oCAce,KAAK,CAAC,mBAdrB,CAcyC,IAAI,CAAC,eAd9C,CAc8D,QAAQ,CAAC,YAdvE,EAekBiB,MAflB,EAiBc,KAAKG,YAAL,CAAkBT,UAAlB,CAjBd,GAqBH,CAnFL,2DAtBAU,MAAM,CAACC,cAAP,CAAsBC,kBAAtB,CAA0C,MAA1C,CAAkD,CAAEC,KAAK,CAAE,mBAAT,CAAlD,E,oGA4GA,cAAezB,CAAAA,iBAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ProductReviewRating from 'Component/ProductReviewRating';\n\nimport './ProductReviewItem.style';\n\n/**\n * @class ProductReviewItem\n * @namespace Component/ProductReviewItem/Component\n */\nexport class ProductReviewItem extends PureComponent {\n    static propTypes = {\n        reviewItem: PropTypes.object.isRequired\n    };\n\n    getFormattedDate(created_at) {\n        // Safari bug\n        const fixedDate = created_at.replace(/-/g, '/');\n        const date = new Date(fixedDate);\n        return date ? date.toDateString() : created_at;\n    }\n\n    renderReviewListItemRating = (ratingVoteItem, i) => {\n        const {\n            rating_code,\n            percent\n        } = ratingVoteItem;\n\n        return (\n            <div\n              key={ i }\n              block=\"ProductReviewItem\"\n              elem=\"RatingSummaryItem\"\n              itemType=\"http://schema.org/Rating\"\n              itemScope\n              itemProp=\"reviewRating\"\n            >\n                <p itemProp=\"name\">{ rating_code }</p>\n                <meta itemProp=\"ratingValue\" content={ percent } />\n                <meta itemProp=\"worstRating\" content={ 0 } />\n                <meta itemProp=\"bestRating\" content={ 100 } />\n                <ProductReviewRating\n                  summary={ percent }\n                  code={ rating_code }\n                />\n            </div>\n        );\n    };\n\n    renderAuthor(reviewItem) {\n        const { nickname, created_at } = reviewItem;\n\n        return (\n            <p block=\"ProductReviewItem\" elem=\"ReviewAuthor\">\n                { __('Written by ') }\n                <strong itemProp=\"author\">{ nickname }</strong>\n                <meta itemProp=\"datePublished\" content={ this.getFormattedDate(created_at) } />\n                { __(', written at %s', this.getFormattedDate(created_at)) }\n            </p>\n        );\n    }\n\n    render() {\n        const {\n            reviewItem,\n            reviewItem: {\n                title,\n                detail,\n                rating_votes\n            }\n        } = this.props;\n\n        return (\n            <li\n              block=\"ProductReviewItem\"\n              itemType=\"http://schema.org/Review\"\n              itemProp=\"review\"\n              itemScope\n            >\n                <h4 block=\"ProductReviewItem\" elem=\"ReviewTitle\" itemProp=\"name\">\n                    { title }\n                </h4>\n                <div block=\"ProductReviewItem\" elem=\"RatingSummary\">\n                    { rating_votes.map(this.renderReviewListItemRating) }\n                </div>\n                <div block=\"ProductReviewItem\" elem=\"ReviewContent\">\n                    <p block=\"ProductReviewItem\" elem=\"ReviewDetails\" itemProp=\"reviewBody\">\n                        { detail }\n                    </p>\n                    { this.renderAuthor(reviewItem) }\n                </div>\n            </li>\n        );\n    }\n}\n\nexport default ProductReviewItem;\n"]},"metadata":{},"sourceType":"module"}