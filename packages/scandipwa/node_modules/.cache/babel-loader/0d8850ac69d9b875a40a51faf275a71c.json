{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{createRef,PureComponent}from'react';import Draggable from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Draggable\";import Loader from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Loader\";import{ChildrenType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Common\";import CSS from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/CSS\";import{ANIMATION_DURATION,ANIMATION_DURATION_ON_REMOVE,DRAG_ITEM_REMOVE_THRESHOLD,DRAG_RIGHT_OPEN_THRESHOLD,DRAG_RIGHT_OPEN_TRIGGER_THRESHOLD}from\"./SwipeToDelete.config\";import\"./SwipeToDelete.style\";/** @namespace Component/SwipeToDelete/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _SwipeToDelete=/*#__PURE__*/function(_Extensible){_inherits(_SwipeToDelete,_Extensible);var _super=_createSuper(_SwipeToDelete);function _SwipeToDelete(){var _this;_classCallCheck(this,_SwipeToDelete);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isRightSideOpen:false,isAheadRemoveItemThreshold:false};_this.draggableRef=/*#__PURE__*/createRef();_this.handleDragStart=function(){// Remove animation when drag starts\n_this.setAnimationSpeedStyle(0);};_this.handleDrag=function(_ref){var translateX=_ref.translateX;var dragRightOpenThreshold=_this.props.dragRightOpenThreshold;var _this$state=_this.state,isRightSideOpen=_this$state.isRightSideOpen,isAheadRemoveItemThreshold=_this$state.isAheadRemoveItemThreshold;var _assertThisInitialize=_assertThisInitialized(_this),draggableRemoveThreshold=_assertThisInitialize.draggableRemoveThreshold;var nextIsAheadRemoveItemThreshold=Math.abs(translateX)>draggableRemoveThreshold;if(isAheadRemoveItemThreshold!==nextIsAheadRemoveItemThreshold){_this.setState({isAheadRemoveItemThreshold:nextIsAheadRemoveItemThreshold});}// When dragging to left from current start point, going negative translateX\nif(translateX<=0){var translate=isRightSideOpen// Add (remove to have minus value) opened content width, to have full -translateX value\n?translateX-dragRightOpenThreshold:translateX;_this.setTranslateXStyle(translate);return;}// When dragging to right from current start point, going positive translateX\nif(translateX>0){// When translate goes out of screen\nif(!isRightSideOpen||isRightSideOpen&&translateX-dragRightOpenThreshold>0){_this.setTranslateXStyle(0);return;}// When content is opened and dragging to right side\nif(translateX-dragRightOpenThreshold<0&&isRightSideOpen){// Add (remove to have minus value) opened content width, to have full -translateX value\n_this.setTranslateXStyle(translateX-dragRightOpenThreshold);}}};_this.handleDragEnd=function(_ref2){var translateX=_ref2.translateX;var _this$props=_this.props,dragRightOpenThreshold=_this$props.dragRightOpenThreshold,dragRightOpenTriggerThreshold=_this$props.dragRightOpenTriggerThreshold,onAheadOfDragItemRemoveThreshold=_this$props.onAheadOfDragItemRemoveThreshold,animationDurationOnRemove=_this$props.animationDurationOnRemove;var isAheadRemoveItemThreshold=_this.state.isAheadRemoveItemThreshold;var _assertThisInitialize2=_assertThisInitialized(_this),draggableWidth=_assertThisInitialize2.draggableWidth;var shouldOpen=translateX>-dragRightOpenTriggerThreshold;if(isAheadRemoveItemThreshold){// swipe to the end\n_this.setAnimationSpeedStyle(animationDurationOnRemove);_this.setTranslateXStyle(-draggableWidth);onAheadOfDragItemRemoveThreshold();return;}_this.setAnimationSpeedStyle();_this.setState({isRightSideOpen:!shouldOpen});if(shouldOpen){_this.setTranslateXStyle(0);return;}_this.setTranslateXStyle(-dragRightOpenThreshold);};return _this;}_createClass(_SwipeToDelete,[{key:\"componentDidMount\",value:function componentDidMount(){// Sets default style\nthis.setTranslateXStyle(0);this.setRightSideContentWidth();this.setDraggableWidth();this.setDraggableRemoveThreshold();}},{key:\"setRightSideContentWidth\",value:function setRightSideContentWidth(){var dragRightOpenThreshold=this.props.dragRightOpenThreshold;CSS.setVariable(this.draggableRef,'right-side-content-width',\"\".concat(dragRightOpenThreshold,\"px\"));}},{key:\"setTranslateXStyle\",value:function setTranslateXStyle(translate){CSS.setVariable(this.draggableRef,'translateX',\"\".concat(translate,\"px\"));}},{key:\"setDraggableWidth\",value:function setDraggableWidth(){var draggableRef=this.draggableRef;var _draggableRef$current=draggableRef.current.getBoundingClientRect(),width=_draggableRef$current.width;this.draggableWidth=width;}},{key:\"setDraggableRemoveThreshold\",value:function setDraggableRemoveThreshold(){var draggableWidth=this.draggableWidth;var _this$props2=this.props,dragRightOpenThreshold=_this$props2.dragRightOpenThreshold,dragItemRemoveThreshold=_this$props2.dragItemRemoveThreshold;this.draggableRemoveThreshold=draggableWidth*dragItemRemoveThreshold-dragRightOpenThreshold;}},{key:\"setAnimationSpeedStyle\",value:function setAnimationSpeedStyle(specAnimationDuration){var animationDuration=this.props.animationDuration;var duration=specAnimationDuration===undefined?animationDuration:specAnimationDuration;CSS.setVariable(this.draggableRef,'animation-speed',\"\".concat(duration,\"ms\"));}},{key:\"renderRightSideContent\",value:function renderRightSideContent(){var _this$props3=this.props,renderRightSideContent=_this$props3.renderRightSideContent,rightSideMix=_this$props3.rightSideMix;var isAheadRemoveItemThreshold=this.state.isAheadRemoveItemThreshold;return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"SwipeToDelete\",elem:\"RightSideContentWrapper\"},/*#__PURE__*/_checkBEM(React,\"div\",{block:\"SwipeToDelete\",elem:\"RightSideContent\",mods:{isAheadRemoveItemThreshold:isAheadRemoveItemThreshold},mix:rightSideMix},renderRightSideContent()));}},{key:\"renderChildren\",value:function renderChildren(){var children=this.props.children;return/*#__PURE__*/_checkBEM(React,React.Fragment,null,/*#__PURE__*/_checkBEM(React,\"div\",{block:\"SwipeToDelete\",role:\"button\",tabIndex:\"0\"// eslint-disable-next-line react/jsx-no-bind\n,onMouseDown:function onMouseDown(e){return e.stopPropagation();}},children),this.renderRightSideContent());}},{key:\"render\",value:function render(){var _this$props4=this.props,topElemMix=_this$props4.topElemMix,isLoading=_this$props4.isLoading;var isAheadRemoveItemThreshold=this.state.isAheadRemoveItemThreshold;return/*#__PURE__*/_checkBEM(React,Draggable,{onDrag:this.handleDrag,draggableRef:this.draggableRef,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,mix:topElemMix},/*#__PURE__*/_checkBEM(React,Loader,{isLoading:isLoading&&isAheadRemoveItemThreshold}),this.renderChildren());}}]);return _SwipeToDelete;}(Extensible(PureComponent));_SwipeToDelete.defaultProps={// Threshold after we open right side\ndragRightOpenTriggerThreshold:DRAG_RIGHT_OPEN_TRIGGER_THRESHOLD,// Width of opened right side\ndragRightOpenThreshold:DRAG_RIGHT_OPEN_THRESHOLD,// Threshold after we remove item on touchend as percentage of item width\ndragItemRemoveThreshold:DRAG_ITEM_REMOVE_THRESHOLD,animationDuration:ANIMATION_DURATION,animationDurationOnRemove:ANIMATION_DURATION_ON_REMOVE,renderRightSideContent:function renderRightSideContent(){},rightSideMix:{},topElemMix:{},onAheadOfDragItemRemoveThreshold:function onAheadOfDragItemRemoveThreshold(){},isLoading:false};Object.defineProperty(_SwipeToDelete,'name',{value:'SwipeToDelete'});export var SwipeToDelete=middleware(_SwipeToDelete,\"Component/SwipeToDelete/Component\");export default SwipeToDelete;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/SwipeToDelete/SwipeToDelete.component.js"],"names":["createRef","PureComponent","Draggable","Loader","ChildrenType","CSS","ANIMATION_DURATION","ANIMATION_DURATION_ON_REMOVE","DRAG_ITEM_REMOVE_THRESHOLD","DRAG_RIGHT_OPEN_THRESHOLD","DRAG_RIGHT_OPEN_TRIGGER_THRESHOLD","SwipeToDelete","state","isRightSideOpen","isAheadRemoveItemThreshold","draggableRef","handleDragStart","setAnimationSpeedStyle","handleDrag","translateX","dragRightOpenThreshold","props","draggableRemoveThreshold","nextIsAheadRemoveItemThreshold","Math","abs","setState","translate","setTranslateXStyle","handleDragEnd","dragRightOpenTriggerThreshold","onAheadOfDragItemRemoveThreshold","animationDurationOnRemove","draggableWidth","shouldOpen","setRightSideContentWidth","setDraggableWidth","setDraggableRemoveThreshold","setVariable","current","getBoundingClientRect","width","dragItemRemoveThreshold","specAnimationDuration","animationDuration","duration","undefined","renderRightSideContent","rightSideMix","children","e","stopPropagation","topElemMix","isLoading","renderChildren","defaultProps","Object","defineProperty","_SwipeToDelete","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\n\nimport Draggable from 'Component/Draggable';\nimport Loader from 'Component/Loader';\nimport { ChildrenType } from 'Type/Common';\nimport CSS from 'Util/CSS';\n\nimport {\n    ANIMATION_DURATION,\n    ANIMATION_DURATION_ON_REMOVE,\n    DRAG_ITEM_REMOVE_THRESHOLD,\n    DRAG_RIGHT_OPEN_THRESHOLD,\n    DRAG_RIGHT_OPEN_TRIGGER_THRESHOLD\n} from './SwipeToDelete.config';\n\nimport './SwipeToDelete.style';\n\n/** @namespace Component/SwipeToDelete/Component */\nexport class SwipeToDelete extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        dragRightOpenTriggerThreshold: PropTypes.number,\n        dragRightOpenThreshold: PropTypes.number,\n        dragItemRemoveThreshold: PropTypes.number,\n        animationDuration: PropTypes.number,\n        animationDurationOnRemove: PropTypes.number,\n        renderRightSideContent: PropTypes.func,\n        rightSideMix: PropTypes.object,\n        topElemMix: PropTypes.object,\n        onAheadOfDragItemRemoveThreshold: PropTypes.func,\n        isLoading: PropTypes.bool\n    };\n\n    static defaultProps = {\n        // Threshold after we open right side\n        dragRightOpenTriggerThreshold: DRAG_RIGHT_OPEN_TRIGGER_THRESHOLD,\n        // Width of opened right side\n        dragRightOpenThreshold: DRAG_RIGHT_OPEN_THRESHOLD,\n        // Threshold after we remove item on touchend as percentage of item width\n        dragItemRemoveThreshold: DRAG_ITEM_REMOVE_THRESHOLD,\n        animationDuration: ANIMATION_DURATION,\n        animationDurationOnRemove: ANIMATION_DURATION_ON_REMOVE,\n        renderRightSideContent: () => {},\n        rightSideMix: {},\n        topElemMix: {},\n        onAheadOfDragItemRemoveThreshold: () => {},\n        isLoading: false\n    };\n\n    state = {\n        isRightSideOpen: false,\n        isAheadRemoveItemThreshold: false\n    };\n\n    draggableRef = createRef();\n\n    draggableRemoveThreshold;\n\n    draggableWidth;\n\n    componentDidMount() {\n        // Sets default style\n        this.setTranslateXStyle(0);\n        this.setRightSideContentWidth();\n        this.setDraggableWidth();\n        this.setDraggableRemoveThreshold();\n    }\n\n    setRightSideContentWidth() {\n        const { dragRightOpenThreshold } = this.props;\n        CSS.setVariable(this.draggableRef, 'right-side-content-width', `${ dragRightOpenThreshold }px`);\n    }\n\n    setTranslateXStyle(translate) {\n        CSS.setVariable(this.draggableRef, 'translateX', `${ translate }px`);\n    }\n\n    setDraggableWidth() {\n        const { draggableRef } = this;\n        const { width } = draggableRef.current.getBoundingClientRect();\n        this.draggableWidth = width;\n    }\n\n    setDraggableRemoveThreshold() {\n        const { draggableWidth } = this;\n        const {\n            dragRightOpenThreshold,\n            dragItemRemoveThreshold\n        } = this.props;\n\n        this.draggableRemoveThreshold = draggableWidth * dragItemRemoveThreshold - dragRightOpenThreshold;\n    }\n\n    setAnimationSpeedStyle(specAnimationDuration) {\n        const { animationDuration } = this.props;\n\n        const duration = specAnimationDuration === undefined\n            ? animationDuration\n            : specAnimationDuration;\n\n        CSS.setVariable(this.draggableRef, 'animation-speed', `${ duration }ms`);\n    }\n\n    handleDragStart = () => {\n        // Remove animation when drag starts\n        this.setAnimationSpeedStyle(0);\n    };\n\n    handleDrag = ({ translateX }) => {\n        const { dragRightOpenThreshold } = this.props;\n        const { isRightSideOpen, isAheadRemoveItemThreshold } = this.state;\n        const { draggableRemoveThreshold } = this;\n        const nextIsAheadRemoveItemThreshold = Math.abs(translateX) > draggableRemoveThreshold;\n\n        if (isAheadRemoveItemThreshold !== nextIsAheadRemoveItemThreshold) {\n            this.setState({\n                isAheadRemoveItemThreshold: nextIsAheadRemoveItemThreshold\n            });\n        }\n\n        // When dragging to left from current start point, going negative translateX\n        if (translateX <= 0) {\n            const translate = isRightSideOpen\n                // Add (remove to have minus value) opened content width, to have full -translateX value\n                ? translateX - dragRightOpenThreshold\n                : translateX;\n\n            this.setTranslateXStyle(translate);\n\n            return;\n        }\n\n        // When dragging to right from current start point, going positive translateX\n        if (translateX > 0) {\n            // When translate goes out of screen\n            if (!isRightSideOpen || (isRightSideOpen && translateX - dragRightOpenThreshold > 0)) {\n                this.setTranslateXStyle(0);\n\n                return;\n            }\n\n            // When content is opened and dragging to right side\n            if (translateX - dragRightOpenThreshold < 0 && isRightSideOpen) {\n                // Add (remove to have minus value) opened content width, to have full -translateX value\n                this.setTranslateXStyle(translateX - dragRightOpenThreshold);\n            }\n        }\n    };\n\n    handleDragEnd = ({ translateX }) => {\n        const {\n            dragRightOpenThreshold,\n            dragRightOpenTriggerThreshold,\n            onAheadOfDragItemRemoveThreshold,\n            animationDurationOnRemove\n        } = this.props;\n        const { isAheadRemoveItemThreshold } = this.state;\n        const { draggableWidth } = this;\n        const shouldOpen = translateX > -dragRightOpenTriggerThreshold;\n\n        if (isAheadRemoveItemThreshold) {\n            // swipe to the end\n            this.setAnimationSpeedStyle(animationDurationOnRemove);\n            this.setTranslateXStyle(-draggableWidth);\n            onAheadOfDragItemRemoveThreshold();\n            return;\n        }\n\n        this.setAnimationSpeedStyle();\n        this.setState({ isRightSideOpen: !shouldOpen });\n\n        if (shouldOpen) {\n            this.setTranslateXStyle(0);\n\n            return;\n        }\n\n        this.setTranslateXStyle(-dragRightOpenThreshold);\n    };\n\n    renderRightSideContent() {\n        const { renderRightSideContent, rightSideMix } = this.props;\n        const { isAheadRemoveItemThreshold } = this.state;\n\n        return (\n            <div\n              block=\"SwipeToDelete\"\n              elem=\"RightSideContentWrapper\"\n            >\n                <div\n                  block=\"SwipeToDelete\"\n                  elem=\"RightSideContent\"\n                  mods={ { isAheadRemoveItemThreshold } }\n                  mix={ rightSideMix }\n                >\n                    { renderRightSideContent() }\n                </div>\n            </div>\n        );\n    }\n\n    renderChildren() {\n        const { children } = this.props;\n\n        return (\n            <>\n                <div\n                  block=\"SwipeToDelete\"\n                  role=\"button\"\n                  tabIndex=\"0\"\n                  // eslint-disable-next-line react/jsx-no-bind\n                  onMouseDown={ (e) => e.stopPropagation() }\n                >\n                    { children }\n                </div>\n                { this.renderRightSideContent() }\n            </>\n        );\n    }\n\n    render() {\n        const { topElemMix, isLoading } = this.props;\n        const { isAheadRemoveItemThreshold } = this.state;\n\n        return (\n            <Draggable\n              onDrag={ this.handleDrag }\n              draggableRef={ this.draggableRef }\n              onDragStart={ this.handleDragStart }\n              onDragEnd={ this.handleDragEnd }\n              mix={ topElemMix }\n            >\n                <Loader isLoading={ isLoading && isAheadRemoveItemThreshold } />\n                { this.renderChildren() }\n            </Draggable>\n        );\n    }\n}\n\nexport default SwipeToDelete;\n"]},"metadata":{},"sourceType":"module"}