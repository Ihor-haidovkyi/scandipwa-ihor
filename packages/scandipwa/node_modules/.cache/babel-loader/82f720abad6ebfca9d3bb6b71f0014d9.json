{"ast":null,"code":"import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{CLEAR_COMPARED_PRODUCTS,SET_COMPARE_LIST,TOGGLE_COMPARE_LIST_LOADER}from\"./ProductCompare.action\";/** @namespace Store/ProductCompare/Reducer/getInitialState */export var getInitialState=middleware(function(){return{isLoading:false,count:0,attributes:[],products:[],productIds:[],items:[]};},\"Store/ProductCompare/Reducer/getInitialState\");/** @namespace Store/ProductCompare/Reducer */export var ProductCompareReducer=middleware(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:getInitialState();var action=arguments.length>1?arguments[1]:undefined;var type=action.type;switch(type){case TOGGLE_COMPARE_LIST_LOADER:{var isLoading=action.isLoading;return _objectSpread(_objectSpread({},state),{},{isLoading:isLoading});}case SET_COMPARE_LIST:{var _action$item_count=action.item_count,item_count=_action$item_count===void 0?0:_action$item_count,_action$items=action.items,items=_action$items===void 0?[]:_action$items,_action$attributes=action.attributes,attributes=_action$attributes===void 0?[]:_action$attributes;var products=items.map(function(item){return _objectSpread(_objectSpread({},item.product),{},{attributes:[]});});var productIds=products.map(function(product){return product.id;});return _objectSpread(_objectSpread({},state),{},{count:item_count,attributes:attributes,products:products,productIds:productIds,items:items});}case CLEAR_COMPARED_PRODUCTS:{return _objectSpread(_objectSpread({},state),{},{count:0,products:[],productIds:[],items:[],attributes:[]});}default:return state;}},\"Store/ProductCompare/Reducer\");export default ProductCompareReducer;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/store/ProductCompare/ProductCompare.reducer.js"],"names":["CLEAR_COMPARED_PRODUCTS","SET_COMPARE_LIST","TOGGLE_COMPARE_LIST_LOADER","getInitialState","isLoading","count","attributes","products","productIds","items","ProductCompareReducer","state","action","type","item_count","map","item","product","id"],"mappings":"gJAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,OACIA,uBADJ,CAEIC,gBAFJ,CAGIC,0BAHJ,+BAMA,8DACA,MAAO,IAAMC,CAAAA,eAAe,YAAG,iBAAO,CAClCC,SAAS,CAAE,KADuB,CAElCC,KAAK,CAAE,CAF2B,CAGlCC,UAAU,CAAE,EAHsB,CAIlCC,QAAQ,CAAE,EAJwB,CAKlCC,UAAU,CAAE,EALsB,CAMlCC,KAAK,CAAE,EAN2B,CAAP,EAAH,gDAArB,CASP,8CACA,MAAO,IAAMC,CAAAA,qBAAqB,YAAG,UAAuC,IAAtCC,CAAAA,KAAsC,2DAA9BR,eAAe,EAAe,IAAXS,CAAAA,MAAW,8CAChEC,CAAAA,IADgE,CACvDD,MADuD,CAChEC,IADgE,CAGxE,OAAQA,IAAR,EACA,IAAKX,CAAAA,0BAAL,CAAiC,IACrBE,CAAAA,SADqB,CACPQ,MADO,CACrBR,SADqB,CAG7B,sCACOO,KADP,MAEIP,SAAS,CAATA,SAFJ,GAIH,CAED,IAAKH,CAAAA,gBAAL,CAAuB,wBACqCW,MADrC,CACXE,UADW,CACXA,UADW,6BACE,CADF,kCACqCF,MADrC,CACKH,KADL,CACKA,KADL,wBACa,EADb,kCACqCG,MADrC,CACiBN,UADjB,CACiBA,UADjB,6BAC8B,EAD9B,oBAGnB,GAAMC,CAAAA,QAAQ,CAAGE,KAAK,CAACM,GAAN,CAAU,SAACC,IAAD,wCACpBA,IAAI,CAACC,OADe,MAEvBX,UAAU,CAAE,EAFW,IAAV,CAAjB,CAIA,GAAME,CAAAA,UAAU,CAAGD,QAAQ,CAACQ,GAAT,CAAa,SAACE,OAAD,QAAaA,CAAAA,OAAO,CAACC,EAArB,EAAb,CAAnB,CAEA,sCACOP,KADP,MAEIN,KAAK,CAAES,UAFX,CAGIR,UAAU,CAAVA,UAHJ,CAIIC,QAAQ,CAARA,QAJJ,CAKIC,UAAU,CAAVA,UALJ,CAMIC,KAAK,CAALA,KANJ,GAQH,CAED,IAAKT,CAAAA,uBAAL,CAA8B,CAC1B,sCACOW,KADP,MAEIN,KAAK,CAAE,CAFX,CAGIE,QAAQ,CAAE,EAHd,CAIIC,UAAU,CAAE,EAJhB,CAKIC,KAAK,CAAE,EALX,CAMIH,UAAU,CAAE,EANhB,GAQH,CAED,QACI,MAAOK,CAAAA,KAAP,CAzCJ,CA2CH,CA9CiC,gCAA3B,CAgDP,cAAeD,CAAAA,qBAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport {\n    CLEAR_COMPARED_PRODUCTS,\n    SET_COMPARE_LIST,\n    TOGGLE_COMPARE_LIST_LOADER\n} from './ProductCompare.action';\n\n/** @namespace Store/ProductCompare/Reducer/getInitialState */\nexport const getInitialState = () => ({\n    isLoading: false,\n    count: 0,\n    attributes: [],\n    products: [],\n    productIds: [],\n    items: []\n});\n\n/** @namespace Store/ProductCompare/Reducer */\nexport const ProductCompareReducer = (state = getInitialState(), action) => {\n    const { type } = action;\n\n    switch (type) {\n    case TOGGLE_COMPARE_LIST_LOADER: {\n        const { isLoading } = action;\n\n        return {\n            ...state,\n            isLoading\n        };\n    }\n\n    case SET_COMPARE_LIST: {\n        const { item_count = 0, items = [], attributes = [] } = action;\n\n        const products = items.map((item) => ({\n            ...item.product,\n            attributes: []\n        }));\n        const productIds = products.map((product) => product.id);\n\n        return {\n            ...state,\n            count: item_count,\n            attributes,\n            products,\n            productIds,\n            items\n        };\n    }\n\n    case CLEAR_COMPARED_PRODUCTS: {\n        return {\n            ...state,\n            count: 0,\n            products: [],\n            productIds: [],\n            items: [],\n            attributes: []\n        };\n    }\n\n    default:\n        return state;\n    }\n};\n\nexport default ProductCompareReducer;\n"]},"metadata":{},"sourceType":"module"}