{"ast":null,"code":"/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport CheckEmailQuery from \"/home/marketihor/scandipwa/packages/scandipwa/src/query/CheckEmail.query\";\nimport { QueryDispatcher } from \"/home/marketihor/scandipwa/packages/scandipwa/src/util/Request\";\nimport { updateEmailAvailable } from \"./Checkout.action\";\n/**\n * Checkout Dispatcher\n * @class CheckoutDispatcher\n * @extends QueryDispatcher\n * @namespace Store/Checkout/Dispatcher\n *  */\n\nexport class _CheckoutDispatcher extends Extensible(QueryDispatcher) {\n  __construct() {\n    super.__construct('Checkout');\n  }\n\n  onSuccess(data, dispatch) {\n    const {\n      isEmailAvailable: {\n        is_email_available\n      }\n    } = data;\n    dispatch(updateEmailAvailable(is_email_available));\n  }\n\n  onError(error, dispatch) {\n    dispatch(updateEmailAvailable(true));\n    return error;\n  }\n\n  prepareRequest(email) {\n    return CheckEmailQuery.getIsEmailAvailableQuery(email);\n  }\n\n}\nObject.defineProperty(_CheckoutDispatcher, 'name', {\n  value: 'CheckoutDispatcher'\n});\n\nexport const CheckoutDispatcher = middleware(_CheckoutDispatcher, \"Store/Checkout/Dispatcher\");\nexport default new CheckoutDispatcher();","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/store/Checkout/Checkout.dispatcher.js"],"names":["CheckEmailQuery","QueryDispatcher","updateEmailAvailable","CheckoutDispatcher","__construct","onSuccess","data","dispatch","isEmailAvailable","is_email_available","onError","error","prepareRequest","email","getIsEmailAvailableQuery","Object","defineProperty","_CheckoutDispatcher","value"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,eAAP;AACA,SAASC,eAAT;AAEA,SAASC,oBAAT;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,mBAAN,qCAAiD;AACpDC,EAAAA,WAAW,GAAG;AACV,UAAMA,WAAN,CAAkB,UAAlB;AACH;;AAEDC,EAAAA,SAAS,CAACC,IAAD,EAAOC,QAAP,EAAiB;AACtB,UAAM;AAAEC,MAAAA,gBAAgB,EAAE;AAAEC,QAAAA;AAAF;AAApB,QAA+CH,IAArD;AACAC,IAAAA,QAAQ,CAACL,oBAAoB,CAACO,kBAAD,CAArB,CAAR;AACH;;AAEDC,EAAAA,OAAO,CAACC,KAAD,EAAQJ,QAAR,EAAkB;AACrBA,IAAAA,QAAQ,CAACL,oBAAoB,CAAC,IAAD,CAArB,CAAR;AACA,WAAOS,KAAP;AACH;;AAEDC,EAAAA,cAAc,CAACC,KAAD,EAAQ;AAClB,WAAOb,eAAe,CAACc,wBAAhB,CAAyCD,KAAzC,CAAP;AACH;;AAjBmD;AAtBxDE,MAAM,CAACC,cAAP,CAAsBC,mBAAtB,EAA2C,MAA3C,EAAmD;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAAnD;;;AA0CA,eAAe,IAAIf,kBAAJ,EAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport CheckEmailQuery from 'Query/CheckEmail.query';\nimport { QueryDispatcher } from 'Util/Request';\n\nimport { updateEmailAvailable } from './Checkout.action';\n\n/**\n * Checkout Dispatcher\n * @class CheckoutDispatcher\n * @extends QueryDispatcher\n * @namespace Store/Checkout/Dispatcher\n *  */\nexport class CheckoutDispatcher extends QueryDispatcher {\n    __construct() {\n        super.__construct('Checkout');\n    }\n\n    onSuccess(data, dispatch) {\n        const { isEmailAvailable: { is_email_available } } = data;\n        dispatch(updateEmailAvailable(is_email_available));\n    }\n\n    onError(error, dispatch) {\n        dispatch(updateEmailAvailable(true));\n        return error;\n    }\n\n    prepareRequest(email) {\n        return CheckEmailQuery.getIsEmailAvailableQuery(email);\n    }\n}\n\nexport default new CheckoutDispatcher();\n"]},"metadata":{},"sourceType":"module"}