{"ast":null,"code":"/* eslint-disable no-param-reassign */ /**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n*/import{combineReducers,createStore}from'redux';/**\n * Configure the store\n * @namespace Store/Index/configureStore\n * */export var configureStore=middleware(function configureStore(store){// Add a dictionary to keep track of the registered async reducers\nstore.asyncReducers={};// Create an inject reducer function\n// This function adds the async reducer, and creates a new combined reducer\nstore.injectReducer=function(key,asyncReducer){store.asyncReducers[key]=asyncReducer;store.replaceReducer(combineReducers(store.asyncReducers));};// Return the modified store\nreturn store;},\"Store/Index/configureStore\\n\");export var noopReducer=function noopReducer(state){return state;};export var getStore=function(){// Initialize the store\nvar store=configureStore(createStore(noopReducer,// enable Redux dev-tools only in development\nprocess.env.NODE_ENV==='development'&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:true})));return function storeGetter(){return store;};}();export default getStore;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/util/Store/index.js"],"names":["combineReducers","createStore","store","asyncReducers","injectReducer","key","asyncReducer","replaceReducer","noopReducer","state","getStore","configureStore","process","env","NODE_ENV","window","__REDUX_DEVTOOLS_EXTENSION__","trace","storeGetter"],"mappings":"AAAA,sC,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EACA,OAASA,eAAT,CAA0BC,WAA1B,KAA6C,OAA7C,CAEA;AACA;AACA;AACA,KACA,6DAA+BC,KAA/B,CAAsC,CAClC;AACAA,KAAK,CAACC,aAAN,CAAsB,EAAtB,CAEA;AACA;AACAD,KAAK,CAACE,aAAN,CAAsB,SAACC,GAAD,CAAMC,YAAN,CAAuB,CACzCJ,KAAK,CAACC,aAAN,CAAoBE,GAApB,EAA2BC,YAA3B,CACAJ,KAAK,CAACK,cAAN,CAAqBP,eAAe,CAACE,KAAK,CAACC,aAAP,CAApC,EACH,CAHD,CAKA;AACA,MAAOD,CAAAA,KAAP,CACH,CAbD,iCAeA,MAAO,IAAMM,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,QAAWA,CAAAA,KAAX,EAApB,CAEP,MAAO,IAAMC,CAAAA,QAAQ,CAAI,UAAM,CAC3B;AACA,GAAMR,CAAAA,KAAK,CAAGS,cAAc,CAACV,WAAW,CACpCO,WADoC,CAElC;AACEI,OAAO,CAACC,GAAR,CAAYC,QAAZ,GAAyB,aAAzB,EACGC,MAAM,CAACC,4BAFd,EAGKD,MAAM,CAACC,4BAAP,CAAoC,CACrCC,KAAK,CAAE,IAD8B,CAApC,CAL+B,CAAZ,CAA5B,CAUA,MAAO,SAASC,CAAAA,WAAT,EAAuB,CAC1B,MAAOhB,CAAAA,KAAP,CACH,CAFD,CAGH,CAfuB,EAAjB,CAiBP,cAAeQ,CAAAA,QAAf","sourcesContent":["/* eslint-disable no-param-reassign */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n*/\nimport { combineReducers, createStore } from 'redux';\n\n/**\n * Configure the store\n * @namespace Store/Index/configureStore\n * */\nexport function configureStore(store) {\n    // Add a dictionary to keep track of the registered async reducers\n    store.asyncReducers = {};\n\n    // Create an inject reducer function\n    // This function adds the async reducer, and creates a new combined reducer\n    store.injectReducer = (key, asyncReducer) => {\n        store.asyncReducers[key] = asyncReducer;\n        store.replaceReducer(combineReducers(store.asyncReducers));\n    };\n\n    // Return the modified store\n    return store;\n}\n\nexport const noopReducer = (state) => state;\n\nexport const getStore = (() => {\n    // Initialize the store\n    const store = configureStore(createStore(\n        noopReducer,\n        ( // enable Redux dev-tools only in development\n            process.env.NODE_ENV === 'development'\n            && window.__REDUX_DEVTOOLS_EXTENSION__\n        ) && window.__REDUX_DEVTOOLS_EXTENSION__({\n            trace: true\n        })\n    ));\n\n    return function storeGetter() {\n        return store;\n    };\n})();\n\nexport default getStore;\n"]},"metadata":{},"sourceType":"module"}