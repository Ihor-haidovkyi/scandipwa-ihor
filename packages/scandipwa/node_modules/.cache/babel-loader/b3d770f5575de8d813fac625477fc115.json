{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import Field from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Field\";import Form from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Form\";import{signInStateType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Account\";import history from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/History\";import\"./MyAccountCreateAccount.style.scss\";/** @namespace Component/MyAccountCreateAccount/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _MyAccountCreateAccount=/*#__PURE__*/function(_Extensible){_inherits(_MyAccountCreateAccount,_Extensible);var _super=_createSuper(_MyAccountCreateAccount);function _MyAccountCreateAccount(){_classCallCheck(this,_MyAccountCreateAccount);return _super.apply(this,arguments);}_createClass(_MyAccountCreateAccount,[{key:\"renderVatNumberField\",value:function renderVatNumberField(){var _this$props=this.props,showTaxVatNumber=_this$props.showTaxVatNumber,vatNumberValidation=_this$props.vatNumberValidation;if(!showTaxVatNumber){return null;}return/*#__PURE__*/_checkBEM(React,Field,{type:\"text\",label:__('Tax/VAT Number'),id:\"taxvat\",name:\"taxvat\",validation:vatNumberValidation});}},{key:\"renderSubscribeToNewsletter\",value:function renderSubscribeToNewsletter(){return/*#__PURE__*/_checkBEM(React,Field,{type:\"checkbox\",value:\"is_subscribed\",label:__('Subscribe to newsletter'),id:\"is_subscribed\",mix:{block:'MyAccountOverlay',elem:'Checkbox'},name:\"is_subscribed\"});}},{key:\"renderCreateAccountPersonalInfoFields\",value:function renderCreateAccountPersonalInfoFields(){var newsletterActive=this.props.newsletterActive;var _history$location$sta=history.location.state;_history$location$sta=_history$location$sta===void 0?{}:_history$location$sta;var _history$location$sta2=_history$location$sta.firstName,firstName=_history$location$sta2===void 0?'':_history$location$sta2,_history$location$sta3=_history$location$sta.lastName,lastName=_history$location$sta3===void 0?'':_history$location$sta3;return/*#__PURE__*/_checkBEM(React,\"fieldset\",{block:\"MyAccountOverlay\",elem:\"Legend\"},/*#__PURE__*/_checkBEM(React,\"legend\",null,__('Personal Information')),/*#__PURE__*/_checkBEM(React,Field,{type:\"text\",label:__('First Name'),id:\"firstname\",name:\"firstname\",value:firstName,autocomplete:\"given-name\",validation:['notEmpty']}),/*#__PURE__*/_checkBEM(React,Field,{type:\"text\",label:__('Last Name'),id:\"lastname\",name:\"lastname\",value:lastName,autocomplete:\"family-name\",validation:['notEmpty']}),this.renderVatNumberField(),newsletterActive?this.renderSubscribeToNewsletter():null);}},{key:\"renderCreateAccountSignUpInfoFields\",value:function renderCreateAccountSignUpInfoFields(){var _history$location$sta4=history.location.state;_history$location$sta4=_history$location$sta4===void 0?{}:_history$location$sta4;var _history$location$sta5=_history$location$sta4.email,email=_history$location$sta5===void 0?'':_history$location$sta5;return/*#__PURE__*/_checkBEM(React,\"fieldset\",{block:\"MyAccountOverlay\",elem:\"Legend\"},/*#__PURE__*/_checkBEM(React,\"legend\",null,__('Sign-Up Information')),/*#__PURE__*/_checkBEM(React,Field,{type:\"text\",label:__('Email'),id:\"email\",name:\"email\",value:email,autocomplete:\"email\",validation:['notEmpty','email']}),/*#__PURE__*/_checkBEM(React,Field,{type:\"password\",label:__('Password'),id:\"password\",name:\"password\",autocomplete:\"new-password\",validation:['notEmpty','password']}),/*#__PURE__*/_checkBEM(React,Field,{type:\"password\",label:__('Confirm password'),id:\"confirm_password\",name:\"confirm_password\",autocomplete:\"new-password\",validation:['notEmpty','password','password_match']}));}},{key:\"renderSubmitButton\",value:function renderSubmitButton(){return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"MyAccountOverlay\",elem:\"Buttons\"},/*#__PURE__*/_checkBEM(React,\"button\",{block:\"Button\",type:\"submit\"},__('Sign up')));}},{key:\"renderCreateAccountForm\",value:function renderCreateAccountForm(){var _this$props2=this.props,onCreateAccountAttempt=_this$props2.onCreateAccountAttempt,onCreateAccountSuccess=_this$props2.onCreateAccountSuccess;return/*#__PURE__*/_checkBEM(React,Form,{key:\"create-account\",onSubmit:onCreateAccountAttempt,onSubmitSuccess:onCreateAccountSuccess,onSubmitError:onCreateAccountAttempt},this.renderCreateAccountPersonalInfoFields(),this.renderCreateAccountSignUpInfoFields(),this.renderSubmitButton());}},{key:\"renderAdditionalField\",value:function renderAdditionalField(){var _this$props3=this.props,state=_this$props3.state,handleSignIn=_this$props3.handleSignIn;return/*#__PURE__*/_checkBEM(React,\"article\",{block:\"MyAccountOverlay\",elem:\"Additional\",mods:{state:state}},/*#__PURE__*/_checkBEM(React,\"section\",null,/*#__PURE__*/_checkBEM(React,\"h4\",null,__('Already have an account?')),/*#__PURE__*/_checkBEM(React,\"button\",{block:\"Button\",mods:{likeLink:true},onClick:handleSignIn},__('Sign in here'))));}},{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,React.Fragment,null,this.renderCreateAccountForm(),this.renderAdditionalField());}}]);return _MyAccountCreateAccount;}(Extensible(PureComponent));Object.defineProperty(_MyAccountCreateAccount,'name',{value:'MyAccountCreateAccount'});export var MyAccountCreateAccount=middleware(_MyAccountCreateAccount,\"Component/MyAccountCreateAccount/Component\");export default MyAccountCreateAccount;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountCreateAccount/MyAccountCreateAccount.component.js"],"names":["PureComponent","Field","Form","signInStateType","history","MyAccountCreateAccount","props","showTaxVatNumber","vatNumberValidation","__","block","elem","newsletterActive","location","state","firstName","lastName","renderVatNumberField","renderSubscribeToNewsletter","email","onCreateAccountAttempt","onCreateAccountSuccess","renderCreateAccountPersonalInfoFields","renderCreateAccountSignUpInfoFields","renderSubmitButton","handleSignIn","likeLink","renderCreateAccountForm","renderAdditionalField","Object","defineProperty","_MyAccountCreateAccount","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Field from 'Component/Field';\nimport Form from 'Component/Form';\nimport { signInStateType } from 'Type/Account';\nimport history from 'Util/History';\n\nimport './MyAccountCreateAccount.style.scss';\n\n/** @namespace Component/MyAccountCreateAccount/Component */\nexport class MyAccountCreateAccount extends PureComponent {\n    static propTypes = {\n        state: signInStateType.isRequired,\n        onCreateAccountAttempt: PropTypes.func.isRequired,\n        onCreateAccountSuccess: PropTypes.func.isRequired,\n        handleSignIn: PropTypes.func.isRequired,\n        showTaxVatNumber: PropTypes.string.isRequired,\n        vatNumberValidation: PropTypes.array.isRequired,\n        newsletterActive: PropTypes.bool.isRequired\n    };\n\n    renderVatNumberField() {\n        const { showTaxVatNumber, vatNumberValidation } = this.props;\n\n        if (!showTaxVatNumber) {\n            return null;\n        }\n\n        return (\n            <Field\n              type=\"text\"\n              label={ __('Tax/VAT Number') }\n              id=\"taxvat\"\n              name=\"taxvat\"\n              validation={ vatNumberValidation }\n            />\n        );\n    }\n\n    renderSubscribeToNewsletter() {\n        return (\n            <Field\n              type=\"checkbox\"\n              value=\"is_subscribed\"\n              label={ __('Subscribe to newsletter') }\n              id=\"is_subscribed\"\n              mix={ { block: 'MyAccountOverlay', elem: 'Checkbox' } }\n              name=\"is_subscribed\"\n            />\n        );\n    }\n\n    renderCreateAccountPersonalInfoFields() {\n        const { newsletterActive } = this.props;\n        const { location: { state: { firstName = '', lastName = '' } = {} } } = history;\n\n        return (\n            <fieldset block=\"MyAccountOverlay\" elem=\"Legend\">\n                <legend>{ __('Personal Information') }</legend>\n                <Field\n                  type=\"text\"\n                  label={ __('First Name') }\n                  id=\"firstname\"\n                  name=\"firstname\"\n                  value={ firstName }\n                  autocomplete=\"given-name\"\n                  validation={ ['notEmpty'] }\n                />\n                <Field\n                  type=\"text\"\n                  label={ __('Last Name') }\n                  id=\"lastname\"\n                  name=\"lastname\"\n                  value={ lastName }\n                  autocomplete=\"family-name\"\n                  validation={ ['notEmpty'] }\n                />\n                { this.renderVatNumberField() }\n                { newsletterActive ? this.renderSubscribeToNewsletter() : null }\n            </fieldset>\n        );\n    }\n\n    renderCreateAccountSignUpInfoFields() {\n        const { location: { state: { email = '' } = {} } } = history;\n\n        return (\n            <fieldset block=\"MyAccountOverlay\" elem=\"Legend\">\n                <legend>{ __('Sign-Up Information') }</legend>\n                <Field\n                  type=\"text\"\n                  label={ __('Email') }\n                  id=\"email\"\n                  name=\"email\"\n                  value={ email }\n                  autocomplete=\"email\"\n                  validation={ ['notEmpty', 'email'] }\n                />\n                <Field\n                  type=\"password\"\n                  label={ __('Password') }\n                  id=\"password\"\n                  name=\"password\"\n                  autocomplete=\"new-password\"\n                  validation={ ['notEmpty', 'password'] }\n                />\n                <Field\n                  type=\"password\"\n                  label={ __('Confirm password') }\n                  id=\"confirm_password\"\n                  name=\"confirm_password\"\n                  autocomplete=\"new-password\"\n                  validation={ ['notEmpty', 'password', 'password_match'] }\n                />\n            </fieldset>\n        );\n    }\n\n    renderSubmitButton() {\n        return (\n            <div block=\"MyAccountOverlay\" elem=\"Buttons\">\n                <button\n                  block=\"Button\"\n                  type=\"submit\"\n                >\n                    { __('Sign up') }\n                </button>\n            </div>\n        );\n    }\n\n    renderCreateAccountForm() {\n        const { onCreateAccountAttempt, onCreateAccountSuccess } = this.props;\n        return (\n            <Form\n              key=\"create-account\"\n              onSubmit={ onCreateAccountAttempt }\n              onSubmitSuccess={ onCreateAccountSuccess }\n              onSubmitError={ onCreateAccountAttempt }\n            >\n                { this.renderCreateAccountPersonalInfoFields() }\n                { this.renderCreateAccountSignUpInfoFields() }\n                { this.renderSubmitButton() }\n            </Form>\n        );\n    }\n\n    renderAdditionalField() {\n        const { state, handleSignIn } = this.props;\n\n        return (\n            <article block=\"MyAccountOverlay\" elem=\"Additional\" mods={ { state } }>\n                <section>\n                    <h4>{ __('Already have an account?') }</h4>\n                    <button\n                      block=\"Button\"\n                      mods={ { likeLink: true } }\n                      onClick={ handleSignIn }\n                    >\n                        { __('Sign in here') }\n                    </button>\n                </section>\n            </article>\n        );\n    }\n\n    render() {\n        return (\n            <>\n                { this.renderCreateAccountForm() }\n                { this.renderAdditionalField() }\n            </>\n        );\n    }\n}\n\nexport default MyAccountCreateAccount;\n"]},"metadata":{},"sourceType":"module"}