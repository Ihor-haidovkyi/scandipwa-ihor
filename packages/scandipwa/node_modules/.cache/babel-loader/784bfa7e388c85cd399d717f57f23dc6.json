{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/* eslint-disable no-undef */ /**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import{connect}from'react-redux';import{showNotification}from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Notification/Notification.action\";import KlarnaComponent from\"./Klarna.component\";/** @namespace Component/Klarna/Container/mapDispatchToProps */export var mapDispatchToProps=middleware(function(dispatch){return{showError:function showError(message){return dispatch(showNotification('error',message));}};},\"Component/Klarna/Container/mapDispatchToProps\");/** @namespace Component/Klarna/Container */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _KlarnaContainer=/*#__PURE__*/function(_Extensible){_inherits(_KlarnaContainer,_Extensible);var _super=_createSuper(_KlarnaContainer);function _KlarnaContainer(){_classCallCheck(this,_KlarnaContainer);return _super.apply(this,arguments);}_createClass(_KlarnaContainer,[{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,KlarnaComponent,this.props);}}],[{key:\"authorize\",value:function authorize(){return new Promise(function(resolve,reject){window.Klarna.Payments.authorize({payment_method_category:localStorage.getItem('kl_pm')},{},function(res){var error=res.error,approved=res.approved,authorization_token=res.authorization_token;if(!approved){reject(error);}resolve({authorization_token:authorization_token});});});}}]);return _KlarnaContainer;}(Extensible(PureComponent));/** @namespace Component/Klarna/Container/mapStateToProps */ // eslint-disable-next-line no-unused-vars\nObject.defineProperty(_KlarnaContainer,'name',{value:'KlarnaContainer'});export var KlarnaContainer=middleware(_KlarnaContainer,\"Component/Klarna/Container\");export var mapStateToProps=middleware(function(state){return{};},\"Component/Klarna/Container/mapStateToProps\");export default connect(mapStateToProps,mapDispatchToProps)(KlarnaContainer);","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/Klarna/Klarna.container.js"],"names":["PureComponent","connect","showNotification","KlarnaComponent","mapDispatchToProps","dispatch","showError","message","KlarnaContainer","props","Promise","resolve","reject","window","Klarna","Payments","authorize","payment_method_category","localStorage","getItem","res","error","approved","authorization_token","Object","defineProperty","_KlarnaContainer","value","mapStateToProps","state"],"mappings":"ojBAAA,6B,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,OAASA,aAAT,KAA8B,OAA9B,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,gBAAT,gGAEA,MAAOC,CAAAA,eAAP,0BAEA,+DACA,MAAO,IAAMC,CAAAA,kBAAkB,YAAG,SAACC,QAAD,QAAe,CAC7CC,SAAS,CAAE,mBAACC,OAAD,QAAaF,CAAAA,QAAQ,CAACH,gBAAgB,CAAC,OAAD,CAAUK,OAAV,CAAjB,CAArB,EADkC,CAAf,EAAH,iDAAxB,CAIP,4C,wEACA,UAAaC,CAAAA,gBAAb,iRAkBI,iBAAS,CACL,mCAAQ,eAAR,CAA6B,KAAKC,KAAlC,EACH,CApBL,2BACI,oBAAmB,CACf,MAAO,IAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACpCC,MAAM,CAACC,MAAP,CAAcC,QAAd,CAAuBC,SAAvB,CACI,CAAEC,uBAAuB,CAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA3B,CADJ,CAEI,EAFJ,CAGI,SAACC,GAAD,CAAS,IACGC,CAAAA,KADH,CAC4CD,GAD5C,CACGC,KADH,CACUC,QADV,CAC4CF,GAD5C,CACUE,QADV,CACoBC,mBADpB,CAC4CH,GAD5C,CACoBG,mBADpB,CAEL,GAAI,CAACD,QAAL,CAAe,CACXV,MAAM,CAACS,KAAD,CAAN,CACH,CAEDV,OAAO,CAAC,CAAEY,mBAAmB,CAAnBA,mBAAF,CAAD,CAAP,CACH,CAVL,EAYH,CAbM,CAAP,CAcH,CAhBL,yDAuBA,4D,CACA;AAjDAC,MAAM,CAACC,cAAP,CAAsBC,gBAAtB,CAAwC,MAAxC,CAAgD,CAAEC,KAAK,CAAE,iBAAT,CAAhD,E,qFAkDA,MAAO,IAAMC,CAAAA,eAAe,YAAG,SAACC,KAAD,QAAY,EAAZ,EAAH,8CAArB,CAEP,cAAe5B,CAAAA,OAAO,CAAC2B,eAAD,CAAkBxB,kBAAlB,CAAP,CAA6CI,eAA7C,CAAf","sourcesContent":["/* eslint-disable no-undef */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { showNotification } from 'Store/Notification/Notification.action';\n\nimport KlarnaComponent from './Klarna.component';\n\n/** @namespace Component/Klarna/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    showError: (message) => dispatch(showNotification('error', message))\n});\n\n/** @namespace Component/Klarna/Container */\nexport class KlarnaContainer extends PureComponent {\n    static authorize() {\n        return new Promise((resolve, reject) => {\n            window.Klarna.Payments.authorize(\n                { payment_method_category: localStorage.getItem('kl_pm') },\n                {},\n                (res) => {\n                    const { error, approved, authorization_token } = res;\n                    if (!approved) {\n                        reject(error);\n                    }\n\n                    resolve({ authorization_token });\n                }\n            );\n        });\n    }\n\n    render() {\n        return <KlarnaComponent { ...this.props } />;\n    }\n}\n\n/** @namespace Component/Klarna/Container/mapStateToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapStateToProps = (state) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(KlarnaContainer);\n"]},"metadata":{},"sourceType":"module"}