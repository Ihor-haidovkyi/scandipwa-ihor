{"ast":null,"code":"import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/* eslint-disable react/no-unused-state */ /**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-ProductReviewListtheme\n */import{PureComponent}from'react';import ContentWrapper from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ContentWrapper\";import ProductActions from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductActions\";import ProductAttributes from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductAttributes\";import ProductCompareButton from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductCompareButton\";import ProductCustomizableOptions from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductCustomizableOptions\";import ProductGallery from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductGallery\";import ProductInformation from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductInformation\";import ProductLinks from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductLinks\";import ProductReviews from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductReviews\";import ProductTabs from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductTabs\";import NoMatchHandler from\"/home/marketihor/scandipwa/packages/scandipwa/src/route/NoMatchHandler\";import{PRODUCT_ATTRIBUTES,PRODUCT_INFORMATION,PRODUCT_REVIEWS}from\"/home/marketihor/scandipwa/packages/scandipwa/src/route/ProductPage/ProductPage.config\";import{RELATED,UPSELL}from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/LinkedProducts/LinkedProducts.reducer\";import{DeviceType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Device\";import{ProductType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/ProductList\";import\"./ProductPage.style\";/** @namespace Route/ProductPage/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _ProductPage=/*#__PURE__*/function(_Extensible){_inherits(_ProductPage,_Extensible);var _super=_createSuper(_ProductPage);function _ProductPage(){var _this$tabMap;var _this;_classCallCheck(this,_ProductPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.tabMap=(_this$tabMap={},_defineProperty(_this$tabMap,PRODUCT_INFORMATION,{name:__('About'),shouldTabRender:function shouldTabRender(){var isInformationTabEmpty=_this.props.isInformationTabEmpty;return!isInformationTabEmpty;},render:function render(key){return _this.renderProductInformationTab(key);}}),_defineProperty(_this$tabMap,PRODUCT_ATTRIBUTES,{name:__('Details'),shouldTabRender:function shouldTabRender(){var isAttributesTabEmpty=_this.props.isAttributesTabEmpty;return!isAttributesTabEmpty;},render:function render(key){return _this.renderProductAttributesTab(key);}}),_defineProperty(_this$tabMap,PRODUCT_REVIEWS,{name:__('Reviews'),// Return true since we always show 'Add review' button\nshouldTabRender:function shouldTabRender(){return true;},render:function render(key){return _this.renderProductReviewsTab(key);}}),_this$tabMap);return _this;}_createClass(_ProductPage,[{key:\"renderProductCompareButton\",value:function renderProductCompareButton(){var _this$props=this.props,_this$props$dataSourc=_this$props.dataSource;_this$props$dataSourc=_this$props$dataSourc===void 0?{}:_this$props$dataSourc;var id=_this$props$dataSourc.id,_this$props$device=_this$props.device;_this$props$device=_this$props$device===void 0?{}:_this$props$device;var isMobile=_this$props$device.isMobile;if(!isMobile){return null;}return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"ProductPage\",elem:\"ProductCompareButtonWrapper\"},/*#__PURE__*/_checkBEM(React,ProductCompareButton,{productId:id,mix:{block:'ProductCompareButton',mods:{isGrey:true}}}));}},{key:\"renderProductPageContent\",value:function renderProductPageContent(){var _this$props2=this.props,configurableVariantIndex=_this$props2.configurableVariantIndex,parameters=_this$props2.parameters,getLink=_this$props2.getLink,dataSource=_this$props2.dataSource,updateConfigurableVariant=_this$props2.updateConfigurableVariant,productOrVariant=_this$props2.productOrVariant,areDetailsLoaded=_this$props2.areDetailsLoaded,getSelectedCustomizableOptions=_this$props2.getSelectedCustomizableOptions,productOptionsData=_this$props2.productOptionsData,setBundlePrice=_this$props2.setBundlePrice,selectedBundlePrice=_this$props2.selectedBundlePrice,selectedInitialBundlePrice=_this$props2.selectedInitialBundlePrice,selectedBundlePriceExclTax=_this$props2.selectedBundlePriceExclTax,setLinkedDownloadables=_this$props2.setLinkedDownloadables,setLinkedDownloadablesPrice=_this$props2.setLinkedDownloadablesPrice,selectedLinkPrice=_this$props2.selectedLinkPrice;return/*#__PURE__*/_checkBEM(React,React.Fragment,null,/*#__PURE__*/_checkBEM(React,ProductGallery,{product:productOrVariant,areDetailsLoaded:areDetailsLoaded}),this.renderProductCompareButton(),/*#__PURE__*/_checkBEM(React,ProductActions,{getLink:getLink,updateConfigurableVariant:updateConfigurableVariant,product:dataSource,productOrVariant:productOrVariant,parameters:parameters,areDetailsLoaded:areDetailsLoaded,configurableVariantIndex:configurableVariantIndex,getSelectedCustomizableOptions:getSelectedCustomizableOptions,productOptionsData:productOptionsData,setBundlePrice:setBundlePrice,selectedBundlePrice:selectedBundlePrice,selectedInitialBundlePrice:selectedInitialBundlePrice,selectedBundlePriceExclTax:selectedBundlePriceExclTax,setLinkedDownloadables:setLinkedDownloadables,setLinkedDownloadablesPrice:setLinkedDownloadablesPrice,selectedLinkPrice:selectedLinkPrice}));}},{key:\"renderCustomizableOptions\",value:function renderCustomizableOptions(){var _this$props3=this.props,options=_this$props3.dataSource.options,getSelectedCustomizableOptions=_this$props3.getSelectedCustomizableOptions,productOptionsData=_this$props3.productOptionsData,device=_this$props3.device;if(!device.isMobile){return null;}return/*#__PURE__*/_checkBEM(React,ProductCustomizableOptions,{options:options||[],getSelectedCustomizableOptions:getSelectedCustomizableOptions,productOptionsData:productOptionsData});}},{key:\"renderProductInformationTab\",value:function renderProductInformationTab(key){var _this$props4=this.props,dataSource=_this$props4.dataSource,parameters=_this$props4.parameters,areDetailsLoaded=_this$props4.areDetailsLoaded;return/*#__PURE__*/_checkBEM(React,ProductInformation,{product:_objectSpread(_objectSpread({},dataSource),{},{parameters:parameters}),areDetailsLoaded:areDetailsLoaded,key:key});}},{key:\"renderProductAttributesTab\",value:function renderProductAttributesTab(key){var _this$props5=this.props,dataSource=_this$props5.dataSource,parameters=_this$props5.parameters,areDetailsLoaded=_this$props5.areDetailsLoaded;return/*#__PURE__*/_checkBEM(React,ProductAttributes,{product:_objectSpread(_objectSpread({},dataSource),{},{parameters:parameters}),areDetailsLoaded:areDetailsLoaded,key:key});}},{key:\"renderProductReviewsTab\",value:function renderProductReviewsTab(key){var _this$props6=this.props,dataSource=_this$props6.dataSource,areDetailsLoaded=_this$props6.areDetailsLoaded;return/*#__PURE__*/_checkBEM(React,ProductReviews,{product:dataSource,areDetailsLoaded:areDetailsLoaded,key:key});}},{key:\"shouldTabsRender\",value:function shouldTabsRender(){return Object.values(this.tabMap).filter(function(_ref){var shouldTabRender=_ref.shouldTabRender;return shouldTabRender();});}},{key:\"renderProductTabs\",value:function renderProductTabs(){return/*#__PURE__*/_checkBEM(React,ProductTabs,{tabs:this.shouldTabsRender()});}},{key:\"renderAdditionalSections\",value:function renderAdditionalSections(){var areDetailsLoaded=this.props.areDetailsLoaded;return/*#__PURE__*/_checkBEM(React,React.Fragment,null,this.renderCustomizableOptions(),this.renderProductTabs(),/*#__PURE__*/_checkBEM(React,ProductLinks,{linkType:RELATED,title:__('Recommended for you'),areDetailsLoaded:areDetailsLoaded}),/*#__PURE__*/_checkBEM(React,ProductLinks,{linkType:UPSELL,title:__('You might also like'),areDetailsLoaded:areDetailsLoaded}));}},{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,NoMatchHandler,null,/*#__PURE__*/_checkBEM(React,\"main\",{block:\"ProductPage\",\"aria-label\":\"Product page\",itemScope:true,itemType:\"http://schema.org/Product\"},/*#__PURE__*/_checkBEM(React,ContentWrapper,{wrapperMix:{block:'ProductPage',elem:'Wrapper'},label:__('Main product details')},this.renderProductPageContent()),this.renderAdditionalSections()));}}]);return _ProductPage;}(Extensible(PureComponent));Object.defineProperty(_ProductPage,'name',{value:'ProductPage'});export var ProductPage=middleware(_ProductPage,\"Route/ProductPage/Component\");export default ProductPage;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/route/ProductPage/ProductPage.component.js"],"names":["PureComponent","ContentWrapper","ProductActions","ProductAttributes","ProductCompareButton","ProductCustomizableOptions","ProductGallery","ProductInformation","ProductLinks","ProductReviews","ProductTabs","NoMatchHandler","PRODUCT_ATTRIBUTES","PRODUCT_INFORMATION","PRODUCT_REVIEWS","RELATED","UPSELL","DeviceType","ProductType","ProductPage","tabMap","name","__","shouldTabRender","isInformationTabEmpty","props","render","key","renderProductInformationTab","isAttributesTabEmpty","renderProductAttributesTab","renderProductReviewsTab","dataSource","id","device","isMobile","block","mods","isGrey","configurableVariantIndex","parameters","getLink","updateConfigurableVariant","productOrVariant","areDetailsLoaded","getSelectedCustomizableOptions","productOptionsData","setBundlePrice","selectedBundlePrice","selectedInitialBundlePrice","selectedBundlePriceExclTax","setLinkedDownloadables","setLinkedDownloadablesPrice","selectedLinkPrice","renderProductCompareButton","options","Object","values","filter","shouldTabsRender","renderCustomizableOptions","renderProductTabs","elem","renderProductPageContent","renderAdditionalSections","defineProperty","_ProductPage","value"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-unused-state */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-ProductReviewListtheme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ProductActions from 'Component/ProductActions';\nimport ProductAttributes from 'Component/ProductAttributes';\nimport ProductCompareButton from 'Component/ProductCompareButton';\nimport ProductCustomizableOptions from 'Component/ProductCustomizableOptions';\nimport ProductGallery from 'Component/ProductGallery';\nimport ProductInformation from 'Component/ProductInformation';\nimport ProductLinks from 'Component/ProductLinks';\nimport ProductReviews from 'Component/ProductReviews';\nimport ProductTabs from 'Component/ProductTabs';\nimport NoMatchHandler from 'Route/NoMatchHandler';\nimport {\n    PRODUCT_ATTRIBUTES,\n    PRODUCT_INFORMATION,\n    PRODUCT_REVIEWS\n} from 'Route/ProductPage/ProductPage.config';\nimport { RELATED, UPSELL } from 'Store/LinkedProducts/LinkedProducts.reducer';\nimport { DeviceType } from 'Type/Device';\nimport { ProductType } from 'Type/ProductList';\n\nimport './ProductPage.style';\n\n/** @namespace Route/ProductPage/Component */\nexport class ProductPage extends PureComponent {\n    static propTypes = {\n        configurableVariantIndex: PropTypes.number.isRequired,\n        productOrVariant: ProductType.isRequired,\n        getLink: PropTypes.func.isRequired,\n        parameters: PropTypes.objectOf(PropTypes.string).isRequired,\n        updateConfigurableVariant: PropTypes.func.isRequired,\n        dataSource: ProductType.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired,\n        getSelectedCustomizableOptions: PropTypes.func.isRequired,\n        setLinkedDownloadables: PropTypes.func.isRequired,\n        setLinkedDownloadablesPrice: PropTypes.func.isRequired,\n        productOptionsData: PropTypes.object.isRequired,\n        setBundlePrice: PropTypes.func.isRequired,\n        selectedLinkPrice: PropTypes.number.isRequired,\n        selectedBundlePrice: PropTypes.number.isRequired,\n        device: DeviceType.isRequired,\n        isInformationTabEmpty: PropTypes.bool.isRequired,\n        isAttributesTabEmpty: PropTypes.bool.isRequired,\n        selectedBundlePriceExclTax: PropTypes.number.isRequired,\n        selectedInitialBundlePrice: PropTypes.number.isRequired\n    };\n\n    tabMap = {\n        [PRODUCT_INFORMATION]: {\n            name: __('About'),\n            shouldTabRender: () => {\n                const { isInformationTabEmpty } = this.props;\n                return !isInformationTabEmpty;\n            },\n            render: (key) => this.renderProductInformationTab(key)\n        },\n        [PRODUCT_ATTRIBUTES]: {\n            name: __('Details'),\n            shouldTabRender: () => {\n                const { isAttributesTabEmpty } = this.props;\n                return !isAttributesTabEmpty;\n            },\n            render: (key) => this.renderProductAttributesTab(key)\n        },\n        [PRODUCT_REVIEWS]: {\n            name: __('Reviews'),\n            // Return true since we always show 'Add review' button\n            shouldTabRender: () => true,\n            render: (key) => this.renderProductReviewsTab(key)\n        }\n    };\n\n    renderProductCompareButton() {\n        const {\n            dataSource: { id } = {},\n            device: { isMobile } = {}\n        } = this.props;\n\n        if (!isMobile) {\n            return null;\n        }\n\n        return (\n            <div block=\"ProductPage\" elem=\"ProductCompareButtonWrapper\">\n                <ProductCompareButton\n                  productId={ id }\n                  mix={ {\n                      block: 'ProductCompareButton',\n                      mods: { isGrey: true }\n                  } }\n                />\n            </div>\n        );\n    }\n\n    renderProductPageContent() {\n        const {\n            configurableVariantIndex,\n            parameters,\n            getLink,\n            dataSource,\n            updateConfigurableVariant,\n            productOrVariant,\n            areDetailsLoaded,\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            setBundlePrice,\n            selectedBundlePrice,\n            selectedInitialBundlePrice,\n            selectedBundlePriceExclTax,\n            setLinkedDownloadables,\n            setLinkedDownloadablesPrice,\n            selectedLinkPrice\n        } = this.props;\n\n        return (\n            <>\n                <ProductGallery\n                  product={ productOrVariant }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n                { this.renderProductCompareButton() }\n                <ProductActions\n                  getLink={ getLink }\n                  updateConfigurableVariant={ updateConfigurableVariant }\n                  product={ dataSource }\n                  productOrVariant={ productOrVariant }\n                  parameters={ parameters }\n                  areDetailsLoaded={ areDetailsLoaded }\n                  configurableVariantIndex={ configurableVariantIndex }\n                  getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n                  productOptionsData={ productOptionsData }\n                  setBundlePrice={ setBundlePrice }\n                  selectedBundlePrice={ selectedBundlePrice }\n                  selectedInitialBundlePrice={ selectedInitialBundlePrice }\n                  selectedBundlePriceExclTax={ selectedBundlePriceExclTax }\n                  setLinkedDownloadables={ setLinkedDownloadables }\n                  setLinkedDownloadablesPrice={ setLinkedDownloadablesPrice }\n                  selectedLinkPrice={ selectedLinkPrice }\n                />\n            </>\n        );\n    }\n\n    renderCustomizableOptions() {\n        const {\n            dataSource: { options },\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            device\n        } = this.props;\n\n        if (!device.isMobile) {\n            return null;\n        }\n\n        return (\n            <ProductCustomizableOptions\n              options={ options || [] }\n              getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n              productOptionsData={ productOptionsData }\n            />\n        );\n    }\n\n    renderProductInformationTab(key) {\n        const {\n            dataSource,\n            parameters,\n            areDetailsLoaded\n        } = this.props;\n\n        return (\n            <ProductInformation\n              product={ { ...dataSource, parameters } }\n              areDetailsLoaded={ areDetailsLoaded }\n              key={ key }\n            />\n        );\n    }\n\n    renderProductAttributesTab(key) {\n        const {\n            dataSource,\n            parameters,\n            areDetailsLoaded\n        } = this.props;\n\n        return (\n            <ProductAttributes\n              product={ { ...dataSource, parameters } }\n              areDetailsLoaded={ areDetailsLoaded }\n              key={ key }\n            />\n        );\n    }\n\n    renderProductReviewsTab(key) {\n        const {\n            dataSource,\n            areDetailsLoaded\n        } = this.props;\n\n        return (\n            <ProductReviews\n              product={ dataSource }\n              areDetailsLoaded={ areDetailsLoaded }\n              key={ key }\n            />\n        );\n    }\n\n    shouldTabsRender() {\n        return Object.values(this.tabMap).filter(({ shouldTabRender }) => shouldTabRender());\n    }\n\n    renderProductTabs() {\n        return (\n            <ProductTabs tabs={ this.shouldTabsRender() } />\n        );\n    }\n\n    renderAdditionalSections() {\n        const {\n            areDetailsLoaded\n        } = this.props;\n\n        return (\n            <>\n                { this.renderCustomizableOptions() }\n                { this.renderProductTabs() }\n                <ProductLinks\n                  linkType={ RELATED }\n                  title={ __('Recommended for you') }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n                <ProductLinks\n                  linkType={ UPSELL }\n                  title={ __('You might also like') }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n            </>\n        );\n    }\n\n    render() {\n        return (\n            <NoMatchHandler>\n                <main\n                  block=\"ProductPage\"\n                  aria-label=\"Product page\"\n                  itemScope\n                  itemType=\"http://schema.org/Product\"\n                >\n                    <ContentWrapper\n                      wrapperMix={ { block: 'ProductPage', elem: 'Wrapper' } }\n                      label={ __('Main product details') }\n                    >\n                        { this.renderProductPageContent() }\n                    </ContentWrapper>\n                    { this.renderAdditionalSections() }\n                </main>\n            </NoMatchHandler>\n        );\n    }\n}\n\nexport default ProductPage;\n"]},"metadata":{},"sourceType":"module"}