{"ast":null,"code":"import _defineProperty from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import{withRouter}from'react-router-dom';import Loader from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Loader\";import MyAccountConfirmEmail from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountConfirmEmail\";import MyAccountCreateAccount from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountCreateAccount\";import MyAccountForgotPassword from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountForgotPassword\";import MyAccountForgotPasswordSuccess from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountForgotPasswordSuccess\";import MyAccountSignIn from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountSignIn\";import Overlay from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Overlay\";import{signInStateType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Account\";import{DeviceType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Device\";import{CUSTOMER_ACCOUNT_OVERLAY_KEY,STATE_CONFIRM_EMAIL,STATE_CREATE_ACCOUNT,STATE_FORGOT_PASSWORD,STATE_FORGOT_PASSWORD_SUCCESS,STATE_LOGGED_IN,STATE_SIGN_IN}from\"./MyAccountOverlay.config\";import\"./MyAccountOverlay.style\";/** @namespace Component/MyAccountOverlay/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _MyAccountOverlay=/*#__PURE__*/function(_Extensible){_inherits(_MyAccountOverlay,_Extensible);var _super=_createSuper(_MyAccountOverlay);function _MyAccountOverlay(){var _this$renderMap;var _this;_classCallCheck(this,_MyAccountOverlay);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderMap=(_this$renderMap={},_defineProperty(_this$renderMap,STATE_SIGN_IN,{render:function render(){return _this.renderSignIn();},title:__('Sign in to your account')}),_defineProperty(_this$renderMap,STATE_FORGOT_PASSWORD,{render:function render(){return _this.renderForgotPassword();},title:__('Get password link')}),_defineProperty(_this$renderMap,STATE_FORGOT_PASSWORD_SUCCESS,{render:function render(){return _this.renderForgotPasswordSuccess();}}),_defineProperty(_this$renderMap,STATE_CREATE_ACCOUNT,{render:function render(){return _this.renderCreateAccount();},title:__('Create new account')}),_defineProperty(_this$renderMap,STATE_LOGGED_IN,{render:function render(){}}),_defineProperty(_this$renderMap,STATE_CONFIRM_EMAIL,{render:function render(){return _this.renderConfirmEmail();},title:__('Confirm the email')}),_this$renderMap);return _this;}_createClass(_MyAccountOverlay,[{key:\"renderMyAccount\",value:function renderMyAccount(){var state=this.props.state;var _this$renderMap$state=this.renderMap[state],render=_this$renderMap$state.render,title=_this$renderMap$state.title;return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"MyAccountOverlay\",elem:\"Action\",mods:{state:state}},/*#__PURE__*/_checkBEM(React,\"p\",{block:\"MyAccountOverlay\",elem:\"Heading\"},title),render());}},{key:\"renderConfirmEmail\",value:function renderConfirmEmail(){var _this$props=this.props,state=_this$props.state,handleSignIn=_this$props.handleSignIn;return/*#__PURE__*/_checkBEM(React,MyAccountConfirmEmail,{state:state,handleSignIn:handleSignIn});}},{key:\"renderForgotPassword\",value:function renderForgotPassword(){var _this$props2=this.props,state=_this$props2.state,onFormError=_this$props2.onFormError,handleSignIn=_this$props2.handleSignIn,handleCreateAccount=_this$props2.handleCreateAccount,setSignInState=_this$props2.setSignInState,setLoadingState=_this$props2.setLoadingState,isCheckout=_this$props2.isCheckout;return/*#__PURE__*/_checkBEM(React,MyAccountForgotPassword,{state:state,onFormError:onFormError,handleSignIn:handleSignIn,handleCreateAccount:handleCreateAccount,setLoadingState:setLoadingState,setSignInState:setSignInState,isCheckout:isCheckout});}},{key:\"renderForgotPasswordSuccess\",value:function renderForgotPasswordSuccess(){var _this$props3=this.props,state=_this$props3.state,handleSignIn=_this$props3.handleSignIn;return/*#__PURE__*/_checkBEM(React,MyAccountForgotPasswordSuccess,{state:state,handleSignIn:handleSignIn});}},{key:\"renderCreateAccount\",value:function renderCreateAccount(){var _this$props4=this.props,state=_this$props4.state,handleSignIn=_this$props4.handleSignIn,setSignInState=_this$props4.setSignInState,setLoadingState=_this$props4.setLoadingState,onSignIn=_this$props4.onSignIn;return/*#__PURE__*/_checkBEM(React,MyAccountCreateAccount,{state:state,handleSignIn:handleSignIn,setLoadingState:setLoadingState,setSignInState:setSignInState,onSignIn:onSignIn});}},{key:\"renderSignIn\",value:function renderSignIn(){var _this$props5=this.props,state=_this$props5.state,onFormError=_this$props5.onFormError,handleForgotPassword=_this$props5.handleForgotPassword,handleCreateAccount=_this$props5.handleCreateAccount,isCheckout=_this$props5.isCheckout,setLoadingState=_this$props5.setLoadingState,onSignIn=_this$props5.onSignIn;return/*#__PURE__*/_checkBEM(React,MyAccountSignIn,{state:state,onFormError:onFormError,handleForgotPassword:handleForgotPassword,handleCreateAccount:handleCreateAccount,isCheckout:isCheckout,setLoadingState:setLoadingState,onSignIn:onSignIn});}},{key:\"render\",value:function render(){var _this$props6=this.props,isLoading=_this$props6.isLoading,onVisible=_this$props6.onVisible,isCheckout=_this$props6.isCheckout,device=_this$props6.device;return/*#__PURE__*/_checkBEM(React,Overlay,{id:CUSTOMER_ACCOUNT_OVERLAY_KEY,mix:{block:'MyAccountOverlay'},onVisible:onVisible,isStatic:!isCheckout&&device.isMobile},/*#__PURE__*/_checkBEM(React,Loader,{isLoading:isLoading}),this.renderMyAccount());}}]);return _MyAccountOverlay;}(Extensible(PureComponent));_MyAccountOverlay.defaultProps={isCheckout:false};Object.defineProperty(_MyAccountOverlay,'name',{value:'MyAccountOverlay'});export var MyAccountOverlay=middleware(_MyAccountOverlay,\"Component/MyAccountOverlay/Component\");export default withRouter(MyAccountOverlay);","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountOverlay/MyAccountOverlay.component.js"],"names":["PureComponent","withRouter","Loader","MyAccountConfirmEmail","MyAccountCreateAccount","MyAccountForgotPassword","MyAccountForgotPasswordSuccess","MyAccountSignIn","Overlay","signInStateType","DeviceType","CUSTOMER_ACCOUNT_OVERLAY_KEY","STATE_CONFIRM_EMAIL","STATE_CREATE_ACCOUNT","STATE_FORGOT_PASSWORD","STATE_FORGOT_PASSWORD_SUCCESS","STATE_LOGGED_IN","STATE_SIGN_IN","MyAccountOverlay","renderMap","render","renderSignIn","title","__","renderForgotPassword","renderForgotPasswordSuccess","renderCreateAccount","renderConfirmEmail","state","props","handleSignIn","onFormError","handleCreateAccount","setSignInState","setLoadingState","isCheckout","onSignIn","handleForgotPassword","isLoading","onVisible","device","block","isMobile","renderMyAccount","defaultProps","Object","defineProperty","_MyAccountOverlay","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport Loader from 'Component/Loader';\nimport MyAccountConfirmEmail from 'Component/MyAccountConfirmEmail';\nimport MyAccountCreateAccount from 'Component/MyAccountCreateAccount';\nimport MyAccountForgotPassword from 'Component/MyAccountForgotPassword';\nimport MyAccountForgotPasswordSuccess from 'Component/MyAccountForgotPasswordSuccess';\nimport MyAccountSignIn from 'Component/MyAccountSignIn';\nimport Overlay from 'Component/Overlay';\nimport { signInStateType } from 'Type/Account';\nimport { DeviceType } from 'Type/Device';\n\nimport {\n    CUSTOMER_ACCOUNT_OVERLAY_KEY,\n    STATE_CONFIRM_EMAIL,\n    STATE_CREATE_ACCOUNT,\n    STATE_FORGOT_PASSWORD,\n    STATE_FORGOT_PASSWORD_SUCCESS,\n    STATE_LOGGED_IN,\n    STATE_SIGN_IN\n} from './MyAccountOverlay.config';\n\nimport './MyAccountOverlay.style';\n\n/** @namespace Component/MyAccountOverlay/Component */\nexport class MyAccountOverlay extends PureComponent {\n    static propTypes = {\n        // eslint-disable-next-line react/no-unused-prop-types\n        isOverlayVisible: PropTypes.bool.isRequired,\n        isLoading: PropTypes.bool.isRequired,\n        state: signInStateType.isRequired,\n        setSignInState: PropTypes.func.isRequired,\n        setLoadingState: PropTypes.func.isRequired,\n        onVisible: PropTypes.func.isRequired,\n        onFormError: PropTypes.func.isRequired,\n        handleForgotPassword: PropTypes.func.isRequired,\n        handleSignIn: PropTypes.func.isRequired,\n        handleCreateAccount: PropTypes.func.isRequired,\n        isCheckout: PropTypes.bool,\n        device: DeviceType.isRequired,\n        onSignIn: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        isCheckout: false\n    };\n\n    renderMap = {\n        [STATE_SIGN_IN]: {\n            render: () => this.renderSignIn(),\n            title: __('Sign in to your account')\n        },\n        [STATE_FORGOT_PASSWORD]: {\n            render: () => this.renderForgotPassword(),\n            title: __('Get password link')\n        },\n        [STATE_FORGOT_PASSWORD_SUCCESS]: {\n            render: () => this.renderForgotPasswordSuccess()\n        },\n        [STATE_CREATE_ACCOUNT]: {\n            render: () => this.renderCreateAccount(),\n            title: __('Create new account')\n        },\n        [STATE_LOGGED_IN]: {\n            render: () => {}\n        },\n        [STATE_CONFIRM_EMAIL]: {\n            render: () => this.renderConfirmEmail(),\n            title: __('Confirm the email')\n        }\n    };\n\n    renderMyAccount() {\n        const { state } = this.props;\n        const { render, title } = this.renderMap[state];\n\n        return (\n            <div block=\"MyAccountOverlay\" elem=\"Action\" mods={ { state } }>\n                <p block=\"MyAccountOverlay\" elem=\"Heading\">{ title }</p>\n                { render() }\n            </div>\n        );\n    }\n\n    renderConfirmEmail() {\n        const { state, handleSignIn } = this.props;\n\n        return (\n            <MyAccountConfirmEmail\n              state={ state }\n              handleSignIn={ handleSignIn }\n            />\n        );\n    }\n\n    renderForgotPassword() {\n        const {\n            state,\n            onFormError,\n            handleSignIn,\n            handleCreateAccount,\n            setSignInState,\n            setLoadingState,\n            isCheckout\n        } = this.props;\n\n        return (\n            <MyAccountForgotPassword\n              state={ state }\n              onFormError={ onFormError }\n              handleSignIn={ handleSignIn }\n              handleCreateAccount={ handleCreateAccount }\n              setLoadingState={ setLoadingState }\n              setSignInState={ setSignInState }\n              isCheckout={ isCheckout }\n            />\n        );\n    }\n\n    renderForgotPasswordSuccess() {\n        const { state, handleSignIn } = this.props;\n\n        return (\n            <MyAccountForgotPasswordSuccess\n              state={ state }\n              handleSignIn={ handleSignIn }\n            />\n        );\n    }\n\n    renderCreateAccount() {\n        const {\n            state,\n            handleSignIn,\n            setSignInState,\n            setLoadingState,\n            onSignIn\n        } = this.props;\n\n        return (\n            <MyAccountCreateAccount\n              state={ state }\n              handleSignIn={ handleSignIn }\n              setLoadingState={ setLoadingState }\n              setSignInState={ setSignInState }\n              onSignIn={ onSignIn }\n            />\n        );\n    }\n\n    renderSignIn() {\n        const {\n            state,\n            onFormError,\n            handleForgotPassword,\n            handleCreateAccount,\n            isCheckout,\n            setLoadingState,\n            onSignIn\n        } = this.props;\n\n        return (\n            <MyAccountSignIn\n              state={ state }\n              onFormError={ onFormError }\n              handleForgotPassword={ handleForgotPassword }\n              handleCreateAccount={ handleCreateAccount }\n              isCheckout={ isCheckout }\n              setLoadingState={ setLoadingState }\n              onSignIn={ onSignIn }\n            />\n        );\n    }\n\n    render() {\n        const {\n            isLoading,\n            onVisible,\n            isCheckout,\n            device\n        } = this.props;\n\n        return (\n            <Overlay\n              id={ CUSTOMER_ACCOUNT_OVERLAY_KEY }\n              mix={ { block: 'MyAccountOverlay' } }\n              onVisible={ onVisible }\n              isStatic={ !isCheckout && device.isMobile }\n            >\n                <Loader isLoading={ isLoading } />\n                { this.renderMyAccount() }\n            </Overlay>\n        );\n    }\n}\n\nexport default withRouter(\n    MyAccountOverlay\n);\n"]},"metadata":{},"sourceType":"module"}