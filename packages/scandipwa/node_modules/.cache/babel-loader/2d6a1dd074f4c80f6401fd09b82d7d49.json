{"ast":null,"code":"var _jsxFileName = \"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductReviews/ProductReviews.container.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { showNotification } from \"/home/marketihor/scandipwa/packages/scandipwa/src/store/Notification/Notification.action\";\nimport { showPopup } from \"/home/marketihor/scandipwa/packages/scandipwa/src/store/Popup/Popup.action\";\nimport { isSignedIn } from \"/home/marketihor/scandipwa/packages/scandipwa/src/util/Auth\";\nimport ProductReviews from \"./ProductReviews.component\";\nimport { REVIEW_POPUP_ID } from \"./ProductReviews.config\";\n/** @namespace Component/ProductReviews/Container/mapStateToProps */\n\nexport const mapStateToProps = middleware(function (state) {\n  return {\n    isEnabled: state.ConfigReducer.reviews_are_enabled,\n    isGuestEnabled: state.ConfigReducer.reviews_allow_guest\n  };\n}, \"Component/ProductReviews/Container/mapStateToProps\");\n/** @namespace Component/ProductReviews/Container/mapDispatchToProps */\n\nexport const mapDispatchToProps = middleware(function (dispatch) {\n  return {\n    showPopup: function (payload) {\n      return dispatch(showPopup(REVIEW_POPUP_ID, payload));\n    },\n    showInfoNotification: function (message) {\n      return dispatch(showNotification('info', message));\n    }\n  };\n}, \"Component/ProductReviews/Container/mapDispatchToProps\");\n/** @namespace Component/ProductReviews/Container */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport class _ProductReviewsContainer extends Extensible(PureComponent) {\n  constructor(...args) {\n    super(...args);\n    this.containerFunctions = {\n      showPopup: this._showPopup.bind(this)\n    };\n  }\n\n  _showPopup() {\n    const {\n      showPopup,\n      isGuestEnabled,\n      showInfoNotification\n    } = this.props; // if not logged in and guest reviews are not enabled\n\n    if (!isSignedIn() && !isGuestEnabled) {\n      showInfoNotification(__('You must login or register to review products.'));\n      return;\n    }\n\n    showPopup({\n      title: __('Write a new review')\n    });\n  }\n\n  render() {\n    const {\n      isEnabled\n    } = this.props;\n\n    if (!isEnabled) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, ProductReviews, Object.assign({}, this.props, this.containerFunctions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n_ProductReviewsContainer.propTypes = {\n  showInfoNotification: PropTypes.func.isRequired,\n  showPopup: PropTypes.func.isRequired,\n  isGuestEnabled: PropTypes.bool,\n  isEnabled: PropTypes.bool\n};\n_ProductReviewsContainer.defaultProps = {\n  isEnabled: true,\n  isGuestEnabled: true\n};\nObject.defineProperty(_ProductReviewsContainer, 'name', {\n  value: 'ProductReviewsContainer'\n});\n\nexport const ProductReviewsContainer = middleware(_ProductReviewsContainer, \"Component/ProductReviews/Container\");\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductReviewsContainer);","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductReviews/ProductReviews.container.js"],"names":["PropTypes","PureComponent","connect","showNotification","showPopup","isSignedIn","ProductReviews","REVIEW_POPUP_ID","mapStateToProps","state","isEnabled","ConfigReducer","reviews_are_enabled","isGuestEnabled","reviews_allow_guest","mapDispatchToProps","dispatch","payload","showInfoNotification","message","ProductReviewsContainer","containerFunctions","_showPopup","bind","props","__","title","render","propTypes","func","isRequired","bool","defaultProps","Object","defineProperty","_ProductReviewsContainer","value"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,SAAP,MAAsB,YAAtB;AACA,SAASC,aAAT,QAA8B,OAA9B;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,SAASC,gBAAT;AACA,SAASC,SAAT;AACA,SAASC,UAAT;AAEA,OAAOC,cAAP;AACA,SAASC,eAAT;AAEA;;AACA,OAAO,MAAMC,eAAe,cAAG,UAACC,KAAD;AAAA,SAAY;AACvCC,IAAAA,SAAS,EAAED,KAAK,CAACE,aAAN,CAAoBC,mBADQ;AAEvCC,IAAAA,cAAc,EAAEJ,KAAK,CAACE,aAAN,CAAoBG;AAFG,GAAZ;AAAA,CAAH,uDAArB;AAKP;;AACA,OAAO,MAAMC,kBAAkB,cAAG,UAACC,QAAD;AAAA,SAAe;AAC7CZ,IAAAA,SAAS,EAAE,UAACa,OAAD;AAAA,aAAaD,QAAQ,CAACZ,SAAS,CAACG,eAAD,EAAkBU,OAAlB,CAAV,CAArB;AAAA,KADkC;AAE7CC,IAAAA,oBAAoB,EAAE,UAACC,OAAD;AAAA,aAAaH,QAAQ,CAACb,gBAAgB,CAAC,MAAD,EAASgB,OAAT,CAAjB,CAArB;AAAA;AAFuB,GAAf;AAAA,CAAH,0DAAxB;AAKP;;;;AACA,OAAO,MAAMC,wBAAN,mCAAoD;AAAA;AAAA;AAAA,SAavDC,kBAbuD,GAalC;AACjBjB,MAAAA,SAAS,EAAE,KAAKkB,UAAL,CAAgBC,IAAhB,CAAqB,IAArB;AADM,KAbkC;AAAA;;AAiBvDD,EAAAA,UAAU,GAAG;AACT,UAAM;AACFlB,MAAAA,SADE;AAEFS,MAAAA,cAFE;AAGFK,MAAAA;AAHE,QAIF,KAAKM,KAJT,CADS,CAOT;;AACA,QAAI,CAACnB,UAAU,EAAX,IAAiB,CAACQ,cAAtB,EAAsC;AAClCK,MAAAA,oBAAoB,CAACO,EAAE,CAAC,gDAAD,CAAH,CAApB;AAEA;AACH;;AAEDrB,IAAAA,SAAS,CAAC;AAAEsB,MAAAA,KAAK,EAAED,EAAE,CAAC,oBAAD;AAAX,KAAD,CAAT;AACH;;AAEDE,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEjB,MAAAA;AAAF,QAAgB,KAAKc,KAA3B;;AAEA,QAAI,CAACd,SAAL,EAAgB;AACZ,aAAO,IAAP;AACH;;AAED,yCACK,cADL,oBAEW,KAAKc,KAFhB,EAGW,KAAKH,kBAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMH;;AA/CsD;AAA9CD,wB,CACFQ,S,GAAY;AACfV,EAAAA,oBAAoB,EAAElB,SAAS,CAAC6B,IAAV,CAAeC,UADtB;AAEf1B,EAAAA,SAAS,EAAEJ,SAAS,CAAC6B,IAAV,CAAeC,UAFX;AAGfjB,EAAAA,cAAc,EAAEb,SAAS,CAAC+B,IAHX;AAIfrB,EAAAA,SAAS,EAAEV,SAAS,CAAC+B;AAJN,C;AADVX,wB,CAQFY,Y,GAAe;AAClBtB,EAAAA,SAAS,EAAE,IADO;AAElBG,EAAAA,cAAc,EAAE;AAFE,C;AA3C1BoB,MAAM,CAACC,cAAP,CAAsBC,wBAAtB,EAAgD,MAAhD,EAAwD;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAAxD;;;AAqFA,eAAelC,OAAO,CAACM,eAAD,EAAkBO,kBAAlB,CAAP,CAA6CK,uBAA7C,CAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { showNotification } from 'Store/Notification/Notification.action';\nimport { showPopup } from 'Store/Popup/Popup.action';\nimport { isSignedIn } from 'Util/Auth';\n\nimport ProductReviews from './ProductReviews.component';\nimport { REVIEW_POPUP_ID } from './ProductReviews.config';\n\n/** @namespace Component/ProductReviews/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isEnabled: state.ConfigReducer.reviews_are_enabled,\n    isGuestEnabled: state.ConfigReducer.reviews_allow_guest\n});\n\n/** @namespace Component/ProductReviews/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    showPopup: (payload) => dispatch(showPopup(REVIEW_POPUP_ID, payload)),\n    showInfoNotification: (message) => dispatch(showNotification('info', message))\n});\n\n/** @namespace Component/ProductReviews/Container */\nexport class ProductReviewsContainer extends PureComponent {\n    static propTypes = {\n        showInfoNotification: PropTypes.func.isRequired,\n        showPopup: PropTypes.func.isRequired,\n        isGuestEnabled: PropTypes.bool,\n        isEnabled: PropTypes.bool\n    };\n\n    static defaultProps = {\n        isEnabled: true,\n        isGuestEnabled: true\n    };\n\n    containerFunctions = {\n        showPopup: this._showPopup.bind(this)\n    };\n\n    _showPopup() {\n        const {\n            showPopup,\n            isGuestEnabled,\n            showInfoNotification\n        } = this.props;\n\n        // if not logged in and guest reviews are not enabled\n        if (!isSignedIn() && !isGuestEnabled) {\n            showInfoNotification(__('You must login or register to review products.'));\n\n            return;\n        }\n\n        showPopup({ title: __('Write a new review') });\n    }\n\n    render() {\n        const { isEnabled } = this.props;\n\n        if (!isEnabled) {\n            return null;\n        }\n\n        return (\n            <ProductReviews\n              { ...this.props }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductReviewsContainer);\n"]},"metadata":{},"sourceType":"module"}