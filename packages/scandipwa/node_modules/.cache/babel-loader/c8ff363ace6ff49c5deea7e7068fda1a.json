{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{updateMeta}from\"/home/marketihor/scandipwa/packages/scandipwa/src/store/Meta/Meta.action\";import{appendWithStoreCode}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Url\";/**\n * Meta Dispatcher\n * @class MetaDispatcher\n * @namespace Util/Meta/Dispatcher\n */export var _MetaDispatcher=/*#__PURE__*/function(_Extensible){_inherits(_MetaDispatcher,_Extensible);var _super=_createSuper(_MetaDispatcher);function _MetaDispatcher(){_classCallCheck(this,_MetaDispatcher);return _super.apply(this,arguments);}_createClass(_MetaDispatcher,[{key:\"updateWithCategory\",value:/**\n     * Set meta for category\n     * @param {Object} category\n     * @param {Function} dispatch\n     * @memberof MetaDispatcher\n     */function updateWithCategory(category,dispatch){var meta=this._getCategoryMeta(category);dispatch(updateMeta(meta));}/**\n     * Set meta for product\n     * @param {Object} product\n     * @param {Function} dispatch\n     * @memberof MetaDispatcher\n     */},{key:\"updateWithProduct\",value:function updateWithProduct(product,dispatch){var meta=this._getProductMeta(product);dispatch(updateMeta(meta));}/**\n     * Get meta for product\n     * @param {Object} product\n     * @return {Object} Meta object\n     * @memberof MetaDispatcher\n     */},{key:\"_getProductMeta\",value:function _getProductMeta(product){var name=product.name,meta_title=product.meta_title,meta_keyword=product.meta_keyword,canonical_url=product.canonical_url,meta_description=product.meta_description;return{description:meta_description,keywords:meta_keyword,title:meta_title||name,canonical_url:\"\".concat(window.location.origin).concat(appendWithStoreCode(canonical_url))};}/**\n     * Get meta for category\n     * @param {Object} category\n     * @return {Object} Meta object\n     * @memberof MetaDispatcher\n     */},{key:\"_getCategoryMeta\",value:function _getCategoryMeta(category){var description=category.description,name=category.name,canonical_url=category.canonical_url,meta_title=category.meta_title,meta_keywords=category.meta_keywords,meta_description=category.meta_description,_category$meta_robots=category.meta_robots,meta_robots=_category$meta_robots===void 0?'follow, index':_category$meta_robots;return{description:meta_description||description,title:meta_title||name,keywords:meta_keywords,canonical_url:\"\".concat(window.location.origin).concat(appendWithStoreCode(canonical_url)),robots:meta_robots};}}]);return _MetaDispatcher;}(Extensible());Object.defineProperty(_MetaDispatcher,'name',{value:'MetaDispatcher'});export var MetaDispatcher=middleware(_MetaDispatcher,\"Util/Meta/Dispatcher\");export default new MetaDispatcher();","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/store/Meta/Meta.dispatcher.js"],"names":["updateMeta","appendWithStoreCode","MetaDispatcher","category","dispatch","meta","_getCategoryMeta","product","_getProductMeta","name","meta_title","meta_keyword","canonical_url","meta_description","description","keywords","title","window","location","origin","meta_keywords","meta_robots","robots","Object","defineProperty","_MetaDispatcher","value"],"mappings":"ojBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,OAASA,UAAT,gFACA,OAASC,mBAAT,kEAEA;AACA;AACA;AACA;AACA,GACA,UAAaC,CAAAA,eAAb,wRACI;AACJ;AACA;AACA;AACA;AACA,OACI,4BAAmBC,QAAnB,CAA6BC,QAA7B,CAAuC,CACnC,GAAMC,CAAAA,IAAI,CAAG,KAAKC,gBAAL,CAAsBH,QAAtB,CAAb,CACAC,QAAQ,CAACJ,UAAU,CAACK,IAAD,CAAX,CAAR,CACH,CAED;AACJ;AACA;AACA;AACA;AACA,OAjBA,iCAkBI,2BAAkBE,OAAlB,CAA2BH,QAA3B,CAAqC,CACjC,GAAMC,CAAAA,IAAI,CAAG,KAAKG,eAAL,CAAqBD,OAArB,CAAb,CACAH,QAAQ,CAACJ,UAAU,CAACK,IAAD,CAAX,CAAR,CACH,CAED;AACJ;AACA;AACA;AACA;AACA,OA5BA,+BA6BI,yBAAgBE,OAAhB,CAAyB,IAEjBE,CAAAA,IAFiB,CAOjBF,OAPiB,CAEjBE,IAFiB,CAGjBC,UAHiB,CAOjBH,OAPiB,CAGjBG,UAHiB,CAIjBC,YAJiB,CAOjBJ,OAPiB,CAIjBI,YAJiB,CAKjBC,aALiB,CAOjBL,OAPiB,CAKjBK,aALiB,CAMjBC,gBANiB,CAOjBN,OAPiB,CAMjBM,gBANiB,CASrB,MAAO,CACHC,WAAW,CAAED,gBADV,CAEHE,QAAQ,CAAEJ,YAFP,CAGHK,KAAK,CAAEN,UAAU,EAAID,IAHlB,CAIHG,aAAa,WAAKK,MAAM,CAACC,QAAP,CAAgBC,MAArB,SAA8BlB,mBAAmB,CAACW,aAAD,CAAjD,CAJV,CAAP,CAMH,CAED;AACJ;AACA;AACA;AACA;AACA,OAnDA,gCAoDI,0BAAiBT,QAAjB,CAA2B,IAEnBW,CAAAA,WAFmB,CAKnBX,QALmB,CAEnBW,WAFmB,CAENL,IAFM,CAKnBN,QALmB,CAENM,IAFM,CAEAG,aAFA,CAKnBT,QALmB,CAEAS,aAFA,CAGnBF,UAHmB,CAKnBP,QALmB,CAGnBO,UAHmB,CAGPU,aAHO,CAKnBjB,QALmB,CAGPiB,aAHO,CAGQP,gBAHR,CAKnBV,QALmB,CAGQU,gBAHR,uBAKnBV,QALmB,CAInBkB,WAJmB,CAInBA,WAJmB,gCAIL,eAJK,uBAOvB,MAAO,CACHP,WAAW,CAAED,gBAAgB,EAAIC,WAD9B,CAEHE,KAAK,CAAEN,UAAU,EAAID,IAFlB,CAGHM,QAAQ,CAAEK,aAHP,CAIHR,aAAa,WAAKK,MAAM,CAACC,QAAP,CAAgBC,MAArB,SAA8BlB,mBAAmB,CAACW,aAAD,CAAjD,CAJV,CAKHU,MAAM,CAAED,WALL,CAAP,CAOH,CAlEL,2CAlBAE,MAAM,CAACC,cAAP,CAAsBC,eAAtB,CAAuC,MAAvC,CAA+C,CAAEC,KAAK,CAAE,gBAAT,CAA/C,E,6EAuFA,cAAe,IAAIxB,CAAAA,cAAJ,EAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport { updateMeta } from 'Store/Meta/Meta.action';\nimport { appendWithStoreCode } from 'Util/Url';\n\n/**\n * Meta Dispatcher\n * @class MetaDispatcher\n * @namespace Util/Meta/Dispatcher\n */\nexport class MetaDispatcher {\n    /**\n     * Set meta for category\n     * @param {Object} category\n     * @param {Function} dispatch\n     * @memberof MetaDispatcher\n     */\n    updateWithCategory(category, dispatch) {\n        const meta = this._getCategoryMeta(category);\n        dispatch(updateMeta(meta));\n    }\n\n    /**\n     * Set meta for product\n     * @param {Object} product\n     * @param {Function} dispatch\n     * @memberof MetaDispatcher\n     */\n    updateWithProduct(product, dispatch) {\n        const meta = this._getProductMeta(product);\n        dispatch(updateMeta(meta));\n    }\n\n    /**\n     * Get meta for product\n     * @param {Object} product\n     * @return {Object} Meta object\n     * @memberof MetaDispatcher\n     */\n    _getProductMeta(product) {\n        const {\n            name,\n            meta_title,\n            meta_keyword,\n            canonical_url,\n            meta_description\n        } = product;\n\n        return {\n            description: meta_description,\n            keywords: meta_keyword,\n            title: meta_title || name,\n            canonical_url: `${window.location.origin}${appendWithStoreCode(canonical_url)}`\n        };\n    }\n\n    /**\n     * Get meta for category\n     * @param {Object} category\n     * @return {Object} Meta object\n     * @memberof MetaDispatcher\n     */\n    _getCategoryMeta(category) {\n        const {\n            description, name, canonical_url,\n            meta_title, meta_keywords, meta_description,\n            meta_robots = 'follow, index'\n        } = category;\n\n        return {\n            description: meta_description || description,\n            title: meta_title || name,\n            keywords: meta_keywords,\n            canonical_url: `${window.location.origin}${appendWithStoreCode(canonical_url)}`,\n            robots: meta_robots\n        };\n    }\n}\n\nexport default new MetaDispatcher();\n"]},"metadata":{},"sourceType":"module"}