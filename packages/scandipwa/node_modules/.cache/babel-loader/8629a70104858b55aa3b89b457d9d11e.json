{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{createRef,PureComponent}from'react';import{ChildrenType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Common\";import CSS from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/CSS\";import\"./TranslateOnCursorMove.style\";/** @namespace Component/TranslateOnCursorMove/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _TranslateOnCursorMove=/*#__PURE__*/function(_Extensible){_inherits(_TranslateOnCursorMove,_Extensible);var _super=_createSuper(_TranslateOnCursorMove);function _TranslateOnCursorMove(){var _this;_classCallCheck(this,_TranslateOnCursorMove);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.ref=/*#__PURE__*/createRef();_this.handleMouseMove=function(_ref){var _this$ref$current$que,_this$ref$current$que2;var wrapperPageY=_ref.pageY;var _this$props=_this.props,activeImageId=_this$props.activeImageId,itemSelector=_this$props.itemSelector,targetSelector=_this$props.targetSelector;// Space from top and bottom to shrink mouse move watch area\nvar paddingY=90;var target=(_this$ref$current$que=_this.ref.current.querySelectorAll(itemSelector))===null||_this$ref$current$que===void 0?void 0:(_this$ref$current$que2=_this$ref$current$que[activeImageId])===null||_this$ref$current$que2===void 0?void 0:_this$ref$current$que2.querySelector(targetSelector);if(!target){return;}var innerHeight=target.getBoundingClientRect().height;var _this$ref$current$get=_this.ref.current.getBoundingClientRect(),wrapperHeight=_this$ref$current$get.height,top=_this$ref$current$get.top;var pageY=wrapperPageY-top;// When mouse is reached top or bottom\nif(wrapperPageY<paddingY+top||wrapperPageY>wrapperHeight+top-paddingY){return;}var ratio=(innerHeight-wrapperHeight)/(wrapperHeight-paddingY*2);var translate=(pageY-paddingY)*ratio;CSS.setVariable(_this.ref,'translateYOnCursorMove',\"\".concat(-translate,\"px\"));};return _this;}_createClass(_TranslateOnCursorMove,[{key:\"render\",value:function render(){var _this$props2=this.props,children=_this$props2.children,isMobile=_this$props2.isMobile;if(isMobile){return children;}return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"TranslateOnCursorMove\",onMouseMove:this.handleMouseMove,ref:this.ref},children);}}]);return _TranslateOnCursorMove;}(Extensible(PureComponent));_TranslateOnCursorMove.defaultProps={};Object.defineProperty(_TranslateOnCursorMove,'name',{value:'TranslateOnCursorMove'});export var TranslateOnCursorMove=middleware(_TranslateOnCursorMove,\"Component/TranslateOnCursorMove/Component\");export default TranslateOnCursorMove;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/TranslateOnCursorMove/TranslateOnCursorMove.component.js"],"names":["createRef","PureComponent","ChildrenType","CSS","TranslateOnCursorMove","ref","handleMouseMove","wrapperPageY","pageY","props","activeImageId","itemSelector","targetSelector","paddingY","target","current","querySelectorAll","querySelector","innerHeight","getBoundingClientRect","height","wrapperHeight","top","ratio","translate","setVariable","children","isMobile","defaultProps","Object","defineProperty","_TranslateOnCursorMove","value"],"mappings":"ojBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,OAASA,SAAT,CAAoBC,aAApB,KAAyC,OAAzC,CAEA,OAASC,YAAT,qEACA,MAAOC,CAAAA,GAAP,kEAEA,sCAEA,2D,wEACA,UAAaC,CAAAA,sBAAb,6XAYIC,GAZJ,cAYUL,SAAS,EAZnB,OAcIM,eAdJ,CAcsB,cAA6B,qDAAnBC,CAAAA,YAAmB,MAA1BC,KAA0B,iBAKvC,MAAKC,KALkC,CAEvCC,aAFuC,aAEvCA,aAFuC,CAGvCC,YAHuC,aAGvCA,YAHuC,CAIvCC,cAJuC,aAIvCA,cAJuC,CAO3C;AACA,GAAMC,CAAAA,QAAQ,CAAG,EAAjB,CAEA,GAAMC,CAAAA,MAAM,wBAAG,MAAKT,GAAL,CAASU,OAAT,CACVC,gBADU,CACOL,YADP,CAAH,wEAAG,sBACuBD,aADvB,CAAH,iDAAG,uBAETO,aAFS,CAEKL,cAFL,CAAf,CAIA,GAAI,CAACE,MAAL,CAAa,CACT,OACH,CAED,GAAMI,CAAAA,WAAW,CAAGJ,MAAM,CAACK,qBAAP,GAA+BC,MAAnD,CAlB2C,0BAmBJ,MAAKf,GAAL,CAASU,OAAT,CAAiBI,qBAAjB,EAnBI,CAmB3BE,aAnB2B,uBAmBnCD,MAnBmC,CAmBZE,GAnBY,uBAmBZA,GAnBY,CAqB3C,GAAMd,CAAAA,KAAK,CAAGD,YAAY,CAAGe,GAA7B,CAEA;AACA,GAAIf,YAAY,CAAGM,QAAQ,CAAGS,GAA1B,EAAkCf,YAAY,CAAIc,aAAa,CAAGC,GAAhB,CAAsBT,QAA5E,CAAwF,CACpF,OACH,CAED,GAAMU,CAAAA,KAAK,CAAG,CAACL,WAAW,CAAGG,aAAf,GAAiCA,aAAa,CAAIR,QAAQ,CAAG,CAA7D,CAAd,CACA,GAAMW,CAAAA,SAAS,CAAG,CAAChB,KAAK,CAAGK,QAAT,EAAqBU,KAAvC,CAEApB,GAAG,CAACsB,WAAJ,CAAgB,MAAKpB,GAArB,CAA0B,wBAA1B,WAAwD,CAACmB,SAAzD,QACH,CA9CL,wEAgDI,iBAAS,kBAC0B,KAAKf,KAD/B,CACGiB,QADH,cACGA,QADH,CACaC,QADb,cACaA,QADb,CAGL,GAAIA,QAAJ,CAAc,CACV,MAAOD,CAAAA,QAAP,CACH,CAED,0CACS,KAAK,CAAC,uBADf,CACuC,WAAW,CAAG,KAAKpB,eAD1D,CAC4E,GAAG,CAAG,KAAKD,GADvF,EAEUqB,QAFV,EAKH,CA5DL,+DAAatB,sB,CASFwB,Y,CAAe,E,CA5B1BC,MAAM,CAACC,cAAP,CAAsBC,sBAAtB,CAA8C,MAA9C,CAAsD,CAAEC,KAAK,CAAE,uBAAT,CAAtD,E,gHAkFA,cAAe5B,CAAAA,qBAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\n\nimport { ChildrenType } from 'Type/Common';\nimport CSS from 'Util/CSS';\n\nimport './TranslateOnCursorMove.style';\n\n/** @namespace Component/TranslateOnCursorMove/Component */\nexport class TranslateOnCursorMove extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        activeImageId: PropTypes.number.isRequired,\n        isMobile: PropTypes.bool.isRequired,\n        itemSelector: PropTypes.string.isRequired,\n        targetSelector: PropTypes.string.isRequired\n    };\n\n    static defaultProps = {\n    };\n\n    ref = createRef();\n\n    handleMouseMove = ({ pageY: wrapperPageY }) => {\n        const {\n            activeImageId,\n            itemSelector,\n            targetSelector\n        } = this.props;\n\n        // Space from top and bottom to shrink mouse move watch area\n        const paddingY = 90;\n\n        const target = this.ref.current\n            .querySelectorAll(itemSelector)?.[activeImageId]\n            ?.querySelector(targetSelector);\n\n        if (!target) {\n            return;\n        }\n\n        const innerHeight = target.getBoundingClientRect().height;\n        const { height: wrapperHeight, top } = this.ref.current.getBoundingClientRect();\n\n        const pageY = wrapperPageY - top;\n\n        // When mouse is reached top or bottom\n        if (wrapperPageY < paddingY + top || (wrapperPageY > (wrapperHeight + top - paddingY))) {\n            return;\n        }\n\n        const ratio = (innerHeight - wrapperHeight) / (wrapperHeight - (paddingY * 2));\n        const translate = (pageY - paddingY) * ratio;\n\n        CSS.setVariable(this.ref, 'translateYOnCursorMove', `${ -translate }px`);\n    };\n\n    render() {\n        const { children, isMobile } = this.props;\n\n        if (isMobile) {\n            return children;\n        }\n\n        return (\n            <div block=\"TranslateOnCursorMove\" onMouseMove={ this.handleMouseMove } ref={ this.ref }>\n                { children }\n            </div>\n        );\n    }\n}\n\nexport default TranslateOnCursorMove;\n"]},"metadata":{},"sourceType":"module"}