{"ast":null,"code":"import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import CmsBlock from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/CmsBlock\";import ContentWrapper from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ContentWrapper\";import Image from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Image\";import Link from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Link\";import NewsletterSubscription from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/NewsletterSubscription\";import{DeviceType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Device\";import media from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Media\";import{COLUMN_MAP,NEWSLETTER_COLUMN,RENDER_NEWSLETTER}from\"./Footer.config\";import\"./Footer.style\";/**\n * Page footer\n * @class Footer\n * @namespace Component/Footer/Component\n */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _Footer=/*#__PURE__*/function(_Extensible){_inherits(_Footer,_Extensible);var _super=_createSuper(_Footer);function _Footer(){var _this;_classCallCheck(this,_Footer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderMap=_defineProperty({},RENDER_NEWSLETTER,{render:_this.renderNewsletterSubscriptionBlock.bind(_assertThisInitialized(_this))});_this.renderColumnItemLink=function(_ref,i){var _ref$href=_ref.href,href=_ref$href===void 0?'/':_ref$href,title=_ref.title,src=_ref.src;var mods=src?{type:'image'}:{};return/*#__PURE__*/_checkBEM(React,Link,{block:\"Footer\",elem:\"ColumnItem\",to:href,mods:mods,key:i,\"aria-label\":title},_this.renderColumnItemContent(src,title));};_this.renderColumnItem=function(item,i){var render=item.render;if(render){return _this.renderMap[render].render(item,i);}return _this.renderColumnItemLink(item,i);};_this.renderColumn=function(column,i){var title=column.title,columnActiveKey=column.columnActiveKey,items=column.items,isItemsHorizontal=column.isItemsHorizontal,_column$mods=column.mods,mods=_column$mods===void 0?{}:_column$mods;var contentMods=isItemsHorizontal?{direction:'horizontal'}:{};var isColumnActive=_this.props[columnActiveKey];if(columnActiveKey&&!isColumnActive===true){return null;}return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"Footer\",elem:\"Column\",mods:mods,key:i},/*#__PURE__*/_checkBEM(React,\"h3\",{block:\"Footer\",elem:\"ColumnTitle\"},title),/*#__PURE__*/_checkBEM(React,\"div\",{block:\"Footer\",elem:\"ColumnContent\",mods:contentMods},items.map(_this.renderColumnItem)));};return _this;}_createClass(_Footer,[{key:\"renderColumnItemContent\",value:function renderColumnItemContent(src,title){if(!src){return title;}var re=/^data:/i;var imgSrc=re.test(src)?src:media(src,'',false);return/*#__PURE__*/_checkBEM(React,Image,{mix:{block:'Footer',elem:'ColumnItemImage'},src:imgSrc});}},{key:\"renderColumns\",value:function renderColumns(){return/*#__PURE__*/_checkBEM(React,ContentWrapper,{isNotSection:true,wrapperMix:{block:'Footer',elem:'Columns'},label:\"\"},COLUMN_MAP.map(this.renderColumn));}},{key:\"renderNewsletterSubscriptionBlock\",value:function renderNewsletterSubscriptionBlock(item,i){return/*#__PURE__*/_checkBEM(React,NewsletterSubscription,{key:i});}},{key:\"renderCmsBlockWrapper\",value:function renderCmsBlockWrapper(){var _window$contentConfig=window.contentConfiguration.footer_content;_window$contentConfig=_window$contentConfig===void 0?{}:_window$contentConfig;var footer_cms=_window$contentConfig.footer_cms;return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"Footer\",elem:\"CmsBlockWrapper\",mix:{block:'Footer',elem:'Content'}},/*#__PURE__*/_checkBEM(React,\"div\",{block:\"Footer\",elem:\"Columns\",mix:{block:'ContentWrapper'}},/*#__PURE__*/_checkBEM(React,CmsBlock,{identifier:footer_cms}),this.renderColumn(_objectSpread(_objectSpread({},NEWSLETTER_COLUMN),{},{mods:{isNewsletter:true}}))));}},{key:\"renderContent\",value:function renderContent(){var _window$contentConfig2=window.contentConfiguration.footer_content;_window$contentConfig2=_window$contentConfig2===void 0?{}:_window$contentConfig2;var footer_cms=_window$contentConfig2.footer_cms;if(footer_cms){return this.renderCmsBlockWrapper();}return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"Footer\",elem:\"Content\"},this.renderColumns());}},{key:\"renderCopyrightContent\",value:function renderCopyrightContent(){var copyright=this.props.copyright;return/*#__PURE__*/_checkBEM(React,ContentWrapper,{mix:{block:'Footer',elem:'CopyrightContentWrapper'},wrapperMix:{block:'Footer',elem:'CopyrightContent'},label:\"\"},/*#__PURE__*/_checkBEM(React,\"span\",{block:\"Footer\",elem:\"Copyright\"},copyright,' Powered by ',/*#__PURE__*/_checkBEM(React,\"a\",{href:\"https://scandipwa.com\"},\"ScandiPWA\")));}},{key:\"render\",value:function render(){var _this$props=this.props,isVisibleOnMobile=_this$props.isVisibleOnMobile,device=_this$props.device;if(!isVisibleOnMobile&&device.isMobile){return null;}if(isVisibleOnMobile&&!device.isMobile){return null;}return/*#__PURE__*/_checkBEM(React,\"footer\",{block:\"Footer\",\"aria-label\":\"Footer\"},this.renderContent(),this.renderCopyrightContent());}}]);return _Footer;}(Extensible(PureComponent));_Footer.defaultProps={copyright:'',isVisibleOnMobile:false};Object.defineProperty(_Footer,'name',{value:'Footer'});export var Footer=middleware(_Footer,\"Component/Footer/Component\");export default Footer;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/Footer/Footer.component.js"],"names":["PureComponent","CmsBlock","ContentWrapper","Image","Link","NewsletterSubscription","DeviceType","media","COLUMN_MAP","NEWSLETTER_COLUMN","RENDER_NEWSLETTER","Footer","renderMap","render","renderNewsletterSubscriptionBlock","bind","renderColumnItemLink","i","href","title","src","mods","type","renderColumnItemContent","renderColumnItem","item","renderColumn","column","columnActiveKey","items","isItemsHorizontal","contentMods","direction","isColumnActive","props","map","re","imgSrc","test","block","elem","window","contentConfiguration","footer_content","footer_cms","isNewsletter","renderCmsBlockWrapper","renderColumns","copyright","isVisibleOnMobile","device","isMobile","renderContent","renderCopyrightContent","defaultProps","Object","defineProperty","_Footer","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport CmsBlock from 'Component/CmsBlock';\nimport ContentWrapper from 'Component/ContentWrapper';\nimport Image from 'Component/Image';\nimport Link from 'Component/Link';\nimport NewsletterSubscription from 'Component/NewsletterSubscription';\nimport { DeviceType } from 'Type/Device';\nimport media from 'Util/Media';\n\nimport { COLUMN_MAP, NEWSLETTER_COLUMN, RENDER_NEWSLETTER } from './Footer.config';\n\nimport './Footer.style';\n\n/**\n * Page footer\n * @class Footer\n * @namespace Component/Footer/Component\n */\nexport class Footer extends PureComponent {\n    static propTypes = {\n        copyright: PropTypes.string,\n        isVisibleOnMobile: PropTypes.bool,\n        device: DeviceType.isRequired,\n        newsletterActive: PropTypes.bool.isRequired\n    };\n\n    static defaultProps = {\n        copyright: '',\n        isVisibleOnMobile: false\n    };\n\n    renderMap = {\n        [RENDER_NEWSLETTER]: {\n            render: this.renderNewsletterSubscriptionBlock.bind(this)\n        }\n    };\n\n    renderColumnItemContent(src, title) {\n        if (!src) {\n            return title;\n        }\n\n        const re = /^data:/i;\n        const imgSrc = re.test(src) ? src : media(src, '', false);\n\n        return (\n            <Image\n              mix={ { block: 'Footer', elem: 'ColumnItemImage' } }\n              src={ imgSrc }\n            />\n        );\n    }\n\n    renderColumnItemLink = ({ href = '/', title, src }, i) => {\n        const mods = src ? { type: 'image' } : {};\n\n        return (\n            <Link\n              block=\"Footer\"\n              elem=\"ColumnItem\"\n              to={ href }\n              mods={ mods }\n              key={ i }\n              aria-label={ title }\n            >\n                { this.renderColumnItemContent(src, title) }\n            </Link>\n        );\n    };\n\n    renderColumnItem = (item, i) => {\n        const { render } = item;\n\n        if (render) {\n            return this.renderMap[render].render(item, i);\n        }\n\n        return this.renderColumnItemLink(item, i);\n    };\n\n    renderColumn = (column, i) => {\n        const {\n            title,\n            columnActiveKey,\n            items,\n            isItemsHorizontal,\n            mods = {}\n        } = column;\n\n        const contentMods = isItemsHorizontal ? { direction: 'horizontal' } : {};\n\n        const { [columnActiveKey]: isColumnActive } = this.props;\n\n        if (columnActiveKey && !isColumnActive === true) {\n            return null;\n        }\n\n        return (\n            <div block=\"Footer\" elem=\"Column\" mods={ mods } key={ i }>\n                <h3 block=\"Footer\" elem=\"ColumnTitle\">\n                    { title }\n                </h3>\n                <div\n                  block=\"Footer\"\n                  elem=\"ColumnContent\"\n                  mods={ contentMods }\n                >\n                    { items.map(this.renderColumnItem) }\n                </div>\n            </div>\n        );\n    };\n\n    renderColumns() {\n        return (\n            <ContentWrapper\n              isNotSection\n              wrapperMix={ { block: 'Footer', elem: 'Columns' } }\n              label=\"\"\n            >\n                { COLUMN_MAP.map(this.renderColumn) }\n            </ContentWrapper>\n        );\n    }\n\n    renderNewsletterSubscriptionBlock(item, i) {\n        return <NewsletterSubscription key={ i } />;\n    }\n\n    renderCmsBlockWrapper() {\n        const { footer_content: { footer_cms } = {} } = window.contentConfiguration;\n\n        return (\n            <div\n              block=\"Footer\"\n              elem=\"CmsBlockWrapper\"\n              mix={ { block: 'Footer', elem: 'Content' } }\n            >\n                <div\n                  block=\"Footer\"\n                  elem=\"Columns\"\n                  mix={ { block: 'ContentWrapper' } }\n                >\n                    <CmsBlock identifier={ footer_cms } />\n                    { this.renderColumn({\n                        ...NEWSLETTER_COLUMN,\n                        mods: { isNewsletter: true }\n                    }) }\n                </div>\n            </div>\n        );\n    }\n\n    renderContent() {\n        const { footer_content: { footer_cms } = {} } = window.contentConfiguration;\n\n        if (footer_cms) {\n            return this.renderCmsBlockWrapper();\n        }\n\n        return (\n            <div block=\"Footer\" elem=\"Content\">\n                { this.renderColumns() }\n            </div>\n        );\n    }\n\n    renderCopyrightContent() {\n        const { copyright } = this.props;\n\n        return (\n            <ContentWrapper\n              mix={ { block: 'Footer', elem: 'CopyrightContentWrapper' } }\n              wrapperMix={ { block: 'Footer', elem: 'CopyrightContent' } }\n              label=\"\"\n            >\n                <span block=\"Footer\" elem=\"Copyright\">\n                    { copyright }\n                    { ' Powered by ' }\n                    <a href=\"https://scandipwa.com\">\n                        ScandiPWA\n                    </a>\n                </span>\n            </ContentWrapper>\n        );\n    }\n\n    render() {\n        const { isVisibleOnMobile, device } = this.props;\n\n        if (!isVisibleOnMobile && device.isMobile) {\n            return null;\n        }\n\n        if (isVisibleOnMobile && !device.isMobile) {\n            return null;\n        }\n\n        return (\n            <footer block=\"Footer\" aria-label=\"Footer\">\n                { this.renderContent() }\n                { this.renderCopyrightContent() }\n            </footer>\n        );\n    }\n}\n\nexport default Footer;\n"]},"metadata":{},"sourceType":"module"}