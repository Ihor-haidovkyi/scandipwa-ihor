{"ast":null,"code":"import _objectSpread from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/* eslint-disable react/prop-types */ /**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import{connect}from'react-redux';import{appendWithStoreCode}from\"/home/marketihor/scandipwa/packages/scandipwa/src/util/Url\";import Link from\"./Link.component\";/** @namespace Component/Link/Container/mapStateToProps */export var mapStateToProps=middleware(function(state){return{baseLinkUrl:state.ConfigReducer.base_link_url||''};},\"Component/Link/Container/mapStateToProps\");/** @namespace Component/Link/Container */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _LinkContainer=/*#__PURE__*/function(_Extensible){_inherits(_LinkContainer,_Extensible);var _super=_createSuper(_LinkContainer);function _LinkContainer(){var _this;_classCallCheck(this,_LinkContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.containerProps=function(){var _this$props=_this.props,block=_this$props.block,elem=_this$props.elem,mods=_this$props.mods,mix=_this$props.mix,baseLinkUrl=_this$props.baseLinkUrl,dispatch=_this$props.dispatch,restProps=_objectWithoutProperties(_this$props,[\"block\",\"elem\",\"mods\",\"mix\",\"baseLinkUrl\",\"dispatch\"]);return _objectSpread(_objectSpread({},restProps),{},{to:_this.getTo(),bemProps:{block:block,elem:elem,mods:mods,mix:mix}});};return _this;}_createClass(_LinkContainer,[{key:\"getTo\",value:function getTo(){var to=this.props.to;if(typeof to==='string'){// in case this URL is absolute, do not append store\nif(/^https?:\\/\\//.test(to)){return to;}return appendWithStoreCode(to);}var pathname=to.pathname;return _objectSpread({pathname:appendWithStoreCode(pathname)},to);}},{key:\"render\",value:function render(){return/*#__PURE__*/_checkBEM(React,Link,this.containerProps());}}]);return _LinkContainer;}(Extensible(PureComponent));/** @namespace Component/Link/Container/mapDispatchToProps */ // eslint-disable-next-line no-unused-vars\nObject.defineProperty(_LinkContainer,'name',{value:'LinkContainer'});export var LinkContainer=middleware(_LinkContainer,\"Component/Link/Container\");export var mapDispatchToProps=middleware(function(dispatch){return{};},\"Component/Link/Container/mapDispatchToProps\");export default connect(mapStateToProps,mapDispatchToProps)(LinkContainer);","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/Link/Link.container.js"],"names":["PureComponent","connect","appendWithStoreCode","Link","mapStateToProps","state","baseLinkUrl","ConfigReducer","base_link_url","LinkContainer","containerProps","props","block","elem","mods","mix","dispatch","restProps","to","getTo","bemProps","test","pathname","Object","defineProperty","_LinkContainer","value","mapDispatchToProps"],"mappings":"y2BAAA,qC,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAGA,OAASA,aAAT,KAA8B,OAA9B,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,mBAAT,kEAEA,MAAOC,CAAAA,IAAP,wBAEA,0DACA,MAAO,IAAMC,CAAAA,eAAe,YAAG,SAACC,KAAD,QAAY,CACvCC,WAAW,CAAED,KAAK,CAACE,aAAN,CAAoBC,aAApB,EAAqC,EADX,CAAZ,EAAH,4CAArB,CAIP,0C,wEACA,UAAaC,CAAAA,cAAb,6VASIC,cATJ,CASqB,UAAM,iBASf,MAAKC,KATU,CAEfC,KAFe,aAEfA,KAFe,CAGfC,IAHe,aAGfA,IAHe,CAIfC,IAJe,aAIfA,IAJe,CAKfC,GALe,aAKfA,GALe,CAMfT,WANe,aAMfA,WANe,CAOfU,QAPe,aAOfA,QAPe,CAQZC,SARY,8FAWnB,sCACOA,SADP,MAEIC,EAAE,CAAE,MAAKC,KAAL,EAFR,CAGIC,QAAQ,CAAE,CACNR,KAAK,CAALA,KADM,CAENC,IAAI,CAAJA,IAFM,CAGNC,IAAI,CAAJA,IAHM,CAINC,GAAG,CAAHA,GAJM,CAHd,GAUH,CA9BL,+DAgCI,gBAAQ,IACIG,CAAAA,EADJ,CACW,KAAKP,KADhB,CACIO,EADJ,CAGJ,GAAI,MAAOA,CAAAA,EAAP,GAAc,QAAlB,CAA4B,CACxB;AACA,GAAI,eAAeG,IAAf,CAAoBH,EAApB,CAAJ,CAA6B,CACzB,MAAOA,CAAAA,EAAP,CACH,CAED,MAAOhB,CAAAA,mBAAmB,CAACgB,EAAD,CAA1B,CACH,CAVG,GAYII,CAAAA,QAZJ,CAYiBJ,EAZjB,CAYII,QAZJ,CAcJ,sBACIA,QAAQ,CAAEpB,mBAAmB,CAACoB,QAAD,CADjC,EAEOJ,EAFP,EAIH,CAlDL,sBAoDI,iBAAS,CACL,mCACK,IADL,CAEW,KAAKR,cAAL,EAFX,EAKH,CA1DL,uDA6DA,6D,CACA;AAzFAa,MAAM,CAACC,cAAP,CAAsBC,cAAtB,CAAsC,MAAtC,CAA8C,CAAEC,KAAK,CAAE,eAAT,CAA9C,E,+EA0FA,MAAO,IAAMC,CAAAA,kBAAkB,YAAG,SAACX,QAAD,QAAe,EAAf,EAAH,+CAAxB,CAEP,cAAef,CAAAA,OAAO,CAACG,eAAD,CAAkBuB,kBAAlB,CAAP,CAA6ClB,aAA7C,CAAf","sourcesContent":["/* eslint-disable react/prop-types */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { appendWithStoreCode } from 'Util/Url';\n\nimport Link from './Link.component';\n\n/** @namespace Component/Link/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    baseLinkUrl: state.ConfigReducer.base_link_url || ''\n});\n\n/** @namespace Component/Link/Container */\nexport class LinkContainer extends PureComponent {\n    static propTypes = {\n        baseLinkUrl: PropTypes.string.isRequired,\n        to: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.object\n        ]).isRequired\n    };\n\n    containerProps = () => {\n        const {\n            block,\n            elem,\n            mods,\n            mix,\n            baseLinkUrl, // remove this prop\n            dispatch, // remove this prop\n            ...restProps\n        } = this.props;\n\n        return {\n            ...restProps,\n            to: this.getTo(),\n            bemProps: {\n                block,\n                elem,\n                mods,\n                mix\n            }\n        };\n    };\n\n    getTo() {\n        const { to } = this.props;\n\n        if (typeof to === 'string') {\n            // in case this URL is absolute, do not append store\n            if (/^https?:\\/\\//.test(to)) {\n                return to;\n            }\n\n            return appendWithStoreCode(to);\n        }\n\n        const { pathname } = to;\n\n        return {\n            pathname: appendWithStoreCode(pathname),\n            ...to\n        };\n    }\n\n    render() {\n        return (\n            <Link\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\n/** @namespace Component/Link/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LinkContainer);\n"]},"metadata":{},"sourceType":"module"}