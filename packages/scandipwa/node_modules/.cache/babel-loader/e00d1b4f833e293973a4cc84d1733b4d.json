{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{Fragment,PureComponent}from'react';import ContentWrapper from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ContentWrapper\";import ExpandableContent from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ExpandableContent\";import ProductAttributeValue from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductAttributeValue\";import{AttributeType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/ProductList\";import\"./ProductAttributes.style\";/** @namespace Component/ProductAttributes/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _ProductAttributes=/*#__PURE__*/function(_Extensible){_inherits(_ProductAttributes,_Extensible);var _super=_createSuper(_ProductAttributes);function _ProductAttributes(){var _this;_classCallCheck(this,_ProductAttributes);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderAttribute=function(attribute){return/*#__PURE__*/_checkBEM(React,Fragment,{key:attribute.attribute_label},/*#__PURE__*/_checkBEM(React,\"dt\",{block:\"ProductAttributes\",elem:\"AttributeLabel\"},attribute.attribute_label),/*#__PURE__*/_checkBEM(React,\"dd\",{block:\"ProductAttributes\",elem:\"ValueLabel\"},/*#__PURE__*/_checkBEM(React,ProductAttributeValue,{key:attribute.attribute_label,attribute:attribute,isFormattedAsText:true})));};return _this;}_createClass(_ProductAttributes,[{key:\"renderGroups\",value:function renderGroups(){var _this2=this;var attributesWithValues=this.props.attributesWithValues;var groups=Object.values(attributesWithValues).map(function(attribute){return{attribute_group_id:attribute.attribute_group_id,attribute_group_name:attribute.attribute_group_name,attribute_group_code:attribute.attribute_group_code};});var uniqueGroups=groups.filter(function(group,index,array){return index===array.findIndex(function(g){return g.attribute_group_id===group.attribute_group_id;});});return uniqueGroups.map(function(group){return/*#__PURE__*/_checkBEM(React,Fragment,{key:group.attribute_group_id},/*#__PURE__*/_checkBEM(React,\"p\",{block:\"ProductAttributes\",elem:\"Group\"},group.attribute_group_name),_this2.renderAttributes(group.attribute_group_id));});}},{key:\"renderAttributes\",value:function renderAttributes(attribute_group_id){var attributesWithValues=this.props.attributesWithValues;if(!Object.keys(attributesWithValues).length){return null;}var filteredAttributesWithValues=Object.values(attributesWithValues).filter(function(attribute){return attribute.attribute_group_id===attribute_group_id;});if(!filteredAttributesWithValues.length){return null;}return/*#__PURE__*/_checkBEM(React,\"dl\",{block:\"ProductAttributes\",elem:\"Attributes\"},filteredAttributesWithValues.map(this.renderAttribute));}},{key:\"renderContent\",value:function renderContent(){var areDetailsLoaded=this.props.areDetailsLoaded;var heading=areDetailsLoaded?__('Product attributes'):'';return/*#__PURE__*/_checkBEM(React,ExpandableContent// show placeholder if the details are not loaded\n,{heading:heading,mix:{block:'ProductAttributes',elem:'Content'}},/*#__PURE__*/_checkBEM(React,\"div\",null,this.renderGroups()));}},{key:\"render\",value:function render(){var areDetailsLoaded=this.props.areDetailsLoaded;if(!areDetailsLoaded){return null;}return/*#__PURE__*/_checkBEM(React,ContentWrapper,{label:\"Product attributes\",mix:{block:'ProductAttributes'},wrapperMix:{block:'ProductAttributes',elem:'Wrapper'}},this.renderContent());}}]);return _ProductAttributes;}(Extensible(PureComponent));Object.defineProperty(_ProductAttributes,'name',{value:'ProductAttributes'});export var ProductAttributes=middleware(_ProductAttributes,\"Component/ProductAttributes/Component\");export default ProductAttributes;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/ProductAttributes/ProductAttributes.component.js"],"names":["Fragment","PureComponent","ContentWrapper","ExpandableContent","ProductAttributeValue","AttributeType","ProductAttributes","renderAttribute","attribute","attribute_label","attributesWithValues","props","groups","Object","values","map","attribute_group_id","attribute_group_name","attribute_group_code","uniqueGroups","filter","group","index","array","findIndex","g","renderAttributes","keys","length","filteredAttributesWithValues","areDetailsLoaded","heading","__","block","elem","renderGroups","renderContent","defineProperty","_ProductAttributes","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { Fragment, PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ExpandableContent from 'Component/ExpandableContent';\nimport ProductAttributeValue from 'Component/ProductAttributeValue';\nimport { AttributeType } from 'Type/ProductList';\n\nimport './ProductAttributes.style';\n\n/** @namespace Component/ProductAttributes/Component */\nexport class ProductAttributes extends PureComponent {\n    static propTypes = {\n        areDetailsLoaded: PropTypes.bool.isRequired,\n        attributesWithValues: AttributeType.isRequired\n    };\n\n    renderGroups() {\n        const { attributesWithValues } = this.props;\n\n        const groups = Object.values(attributesWithValues).map(\n            (attribute) => ({\n                attribute_group_id: attribute.attribute_group_id,\n                attribute_group_name: attribute.attribute_group_name,\n                attribute_group_code: attribute.attribute_group_code\n            })\n        );\n\n        const uniqueGroups = groups.filter(\n            (group, index, array) => (\n                index === array.findIndex((g) => g.attribute_group_id === group.attribute_group_id)\n            )\n        );\n\n        return (\n            uniqueGroups.map(\n                (group) => (\n<Fragment key={ group.attribute_group_id }>\n                    <p block=\"ProductAttributes\" elem=\"Group\">\n                        { group.attribute_group_name }\n                    </p>\n                    { this.renderAttributes(group.attribute_group_id) }\n</Fragment>\n                )\n            )\n        );\n    }\n\n    renderAttribute = (attribute) => (\n        <Fragment key={ attribute.attribute_label }>\n            <dt block=\"ProductAttributes\" elem=\"AttributeLabel\">\n                { attribute.attribute_label }\n            </dt>\n            <dd block=\"ProductAttributes\" elem=\"ValueLabel\">\n                <ProductAttributeValue\n                  key={ attribute.attribute_label }\n                  attribute={ attribute }\n                  isFormattedAsText\n                />\n            </dd>\n        </Fragment>\n    );\n\n    renderAttributes(attribute_group_id) {\n        const { attributesWithValues } = this.props;\n\n        if (!Object.keys(attributesWithValues).length) {\n            return null;\n        }\n\n        const filteredAttributesWithValues = Object.values(attributesWithValues).filter(\n            (attribute) => attribute.attribute_group_id === attribute_group_id\n        );\n\n        if (!filteredAttributesWithValues.length) {\n            return null;\n        }\n\n        return (\n            <dl block=\"ProductAttributes\" elem=\"Attributes\">\n                { filteredAttributesWithValues.map(this.renderAttribute) }\n            </dl>\n        );\n    }\n\n    renderContent() {\n        const { areDetailsLoaded } = this.props;\n        const heading = areDetailsLoaded ? __('Product attributes') : '';\n\n        return (\n            <ExpandableContent\n              // show placeholder if the details are not loaded\n              heading={ heading }\n              mix={ { block: 'ProductAttributes', elem: 'Content' } }\n            >\n                <div>\n                    { this.renderGroups() }\n                </div>\n            </ExpandableContent>\n        );\n    }\n\n    render() {\n        const {\n            areDetailsLoaded\n        } = this.props;\n\n        if (!areDetailsLoaded) {\n            return null;\n        }\n\n        return (\n            <ContentWrapper\n              label=\"Product attributes\"\n              mix={ { block: 'ProductAttributes' } }\n              wrapperMix={ { block: 'ProductAttributes', elem: 'Wrapper' } }\n            >\n                { this.renderContent() }\n            </ContentWrapper>\n        );\n    }\n}\n\nexport default ProductAttributes;\n"]},"metadata":{},"sourceType":"module"}