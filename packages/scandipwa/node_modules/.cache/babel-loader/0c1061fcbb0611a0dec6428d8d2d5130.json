{"ast":null,"code":"import getWrapperFromPlugin from\"../helpers/getWrapperFromPlugin\";/**\n * Middlewaring given original member\n * @param {Function} origMember\n * @param {Array} sortedPlugins\n * @param Context origContext\n */export default(function(){var origMember=arguments.length>0&&arguments[0]!==undefined?arguments[0]:function(){};var sortedPlugins=arguments.length>1?arguments[1]:undefined;var origContext=arguments.length>2?arguments[2]:undefined;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}var newMember=sortedPlugins.reduce(function(acc,plugin){return function(){var wrapper=getWrapperFromPlugin(plugin,origMember.name);// Provide different arguments due to API difference\n// Between property and function call interception\nreturn typeof origMember==='object'?wrapper(acc,origContext):wrapper(args,acc.bind(origContext),origContext);};},origMember);return newMember(args);};});","map":{"version":3,"sources":["/home/marketihor/scandipwa/node_modules/@scandipwa/scandipwa-extensibility/lib/middlewarers/generateMiddlewaredFunction.js"],"names":["getWrapperFromPlugin","origMember","sortedPlugins","origContext","args","newMember","reduce","acc","plugin","wrapper","name","bind"],"mappings":"AAAA,MAAOA,CAAAA,oBAAP,uCAEA;AACA;AACA;AACA;AACA;AACA,GACA,eAAe,cAACC,CAAAA,UAAD,2DAAc,UAAM,CAAE,CAAtB,IAAwBC,CAAAA,aAAxB,8CAAuCC,CAAAA,WAAvC,iDAAuD,WAAa,+BAATC,IAAS,0CAATA,IAAS,wBAC/E,GAAMC,CAAAA,SAAS,CAAGH,aAAa,CAACI,MAAd,CACd,SAACC,GAAD,CAAMC,MAAN,QAAiB,WAAM,CACnB,GAAMC,CAAAA,OAAO,CAAGT,oBAAoB,CAACQ,MAAD,CAASP,UAAU,CAACS,IAApB,CAApC,CAEA;AACA;AACA,MAAO,OAAOT,CAAAA,UAAP,GAAsB,QAAtB,CACDQ,OAAO,CAACF,GAAD,CAAMJ,WAAN,CADN,CAEDM,OAAO,CACLL,IADK,CAELG,GAAG,CAACI,IAAJ,CAASR,WAAT,CAFK,CAGLA,WAHK,CAFb,CAOH,CAZD,EADc,CAcdF,UAdc,CAAlB,CAiBA,MAAOI,CAAAA,SAAS,CAACD,IAAD,CAAhB,CACH,CAnBc,EAAf","sourcesContent":["import getWrapperFromPlugin from '../helpers/getWrapperFromPlugin';\n\n/**\n * Middlewaring given original member\n * @param {Function} origMember\n * @param {Array} sortedPlugins\n * @param Context origContext\n */\nexport default (origMember = () => {}, sortedPlugins, origContext) => (...args) => {\n    const newMember = sortedPlugins.reduce(\n        (acc, plugin) => () => {\n            const wrapper = getWrapperFromPlugin(plugin, origMember.name);\n\n            // Provide different arguments due to API difference\n            // Between property and function call interception\n            return typeof origMember === 'object'\n                ? wrapper(acc, origContext)\n                : wrapper(\n                    args,\n                    acc.bind(origContext),\n                    origContext\n                );\n        },\n        origMember\n    );\n\n    return newMember(args);\n};\n"]},"metadata":{},"sourceType":"module"}