{"ast":null,"code":"import _toConsumableArray from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import PropTypes from'prop-types';import KeyValueTable from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/KeyValueTable\";import Loader from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Loader\";import{addressType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Account\";import{MixType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Common\";import\"./MyAccountAddressTable.style\";/** @namespace Component/MyAccountAddressTable/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _MyAccountAddressTable=/*#__PURE__*/function(_Extensible){_inherits(_MyAccountAddressTable,_Extensible);var _super=_createSuper(_MyAccountAddressTable);function _MyAccountAddressTable(){_classCallCheck(this,_MyAccountAddressTable);return _super.apply(this,arguments);}_createClass(_MyAccountAddressTable,[{key:\"dataPairArray\",get:function get(){var _this$props=this.props,address=_this$props.address,getFormatedRegion=_this$props.getFormatedRegion,showAdditionalFields=_this$props.showAdditionalFields;var regionData=getFormatedRegion(address);var additionalFields=[{key:'country',label:__('County'),source:regionData},{key:'region',label:__('State/Province'),source:regionData},{key:'city',label:__('City'),source:address}// Will be back with B2B update\n// {\n//     key: 'company',\n//     label: __('Company'),\n//     source: address\n// }\n];return[{key:'firstname',label:__('First name'),source:address},{key:'lastname',label:__('Last name'),source:address},{key:'street',label:__('Street'),source:address},{key:'postcode',label:__('Postal code'),source:address},{key:'telephone',label:__('Phone number'),source:address}].concat(_toConsumableArray(showAdditionalFields?additionalFields:[]));}},{key:\"renderActions\",value:function renderActions(){var _this$props2=this.props,onEditClick=_this$props2.onEditClick,onDeleteClick=_this$props2.onDeleteClick,showActions=_this$props2.showActions,_this$props2$address=_this$props2.address,default_billing=_this$props2$address.default_billing,default_shipping=_this$props2$address.default_shipping;var isDeleteAllowed=default_shipping||default_billing;if(!showActions){return null;}return/*#__PURE__*/_checkBEM(React,React.Fragment,null,/*#__PURE__*/_checkBEM(React,\"button\",{block:\"Button\",onClick:onEditClick},__('Edit address')),/*#__PURE__*/_checkBEM(React,\"button\",{block:\"Button\",mods:{isHollow:true},onClick:onDeleteClick,disabled:isDeleteAllowed,title:isDeleteAllowed?__('Can not delete - address is set as default.'):'Delete this address'},__('Delete')));}},{key:\"render\",value:function render(){var _this$props3=this.props,countries=_this$props3.countries,mix=_this$props3.mix;return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"MyAccountAddressTable\",mix:mix},/*#__PURE__*/_checkBEM(React,Loader,{isLoading:!countries.length}),this.renderTable(),this.renderActions());}}]);return _MyAccountAddressTable;}(Extensible(KeyValueTable));_MyAccountAddressTable.propTypes={mix:MixType,getFormatedRegion:PropTypes.func.isRequired,address:addressType.isRequired,showActions:PropTypes.bool,showAdditionalFields:PropTypes.bool,onEditClick:PropTypes.func.isRequired,onDeleteClick:PropTypes.func.isRequired,countries:PropTypes.arrayOf(PropTypes.shape({label:PropTypes.string,id:PropTypes.string,available_regions:PropTypes.arrayOf(PropTypes.shape({code:PropTypes.string,name:PropTypes.string,id:PropTypes.number}))})).isRequired};_MyAccountAddressTable.defaultProps={showAdditionalFields:false,showActions:false,mix:{}};Object.defineProperty(_MyAccountAddressTable,'name',{value:'MyAccountAddressTable'});export var MyAccountAddressTable=middleware(_MyAccountAddressTable,\"Component/MyAccountAddressTable/Component\");export default MyAccountAddressTable;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountAddressTable/MyAccountAddressTable.component.js"],"names":["PropTypes","KeyValueTable","Loader","addressType","MixType","MyAccountAddressTable","props","address","getFormatedRegion","showAdditionalFields","regionData","additionalFields","key","label","__","source","onEditClick","onDeleteClick","showActions","default_billing","default_shipping","isDeleteAllowed","isHollow","countries","mix","length","renderTable","renderActions","propTypes","func","isRequired","bool","arrayOf","shape","string","id","available_regions","code","name","number","defaultProps","Object","defineProperty","_MyAccountAddressTable","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nimport KeyValueTable from 'Component/KeyValueTable';\nimport Loader from 'Component/Loader';\nimport { addressType } from 'Type/Account';\nimport { MixType } from 'Type/Common';\n\nimport './MyAccountAddressTable.style';\n\n/** @namespace Component/MyAccountAddressTable/Component */\nexport class MyAccountAddressTable extends KeyValueTable {\n    static propTypes = {\n        mix: MixType,\n        getFormatedRegion: PropTypes.func.isRequired,\n        address: addressType.isRequired,\n        showActions: PropTypes.bool,\n        showAdditionalFields: PropTypes.bool,\n        onEditClick: PropTypes.func.isRequired,\n        onDeleteClick: PropTypes.func.isRequired,\n        countries: PropTypes.arrayOf(\n            PropTypes.shape({\n                label: PropTypes.string,\n                id: PropTypes.string,\n                available_regions: PropTypes.arrayOf(\n                    PropTypes.shape({\n                        code: PropTypes.string,\n                        name: PropTypes.string,\n                        id: PropTypes.number\n                    })\n                )\n            })\n        ).isRequired\n    };\n\n    static defaultProps = {\n        showAdditionalFields: false,\n        showActions: false,\n        mix: {}\n    };\n\n    get dataPairArray() {\n        const { address, getFormatedRegion, showAdditionalFields } = this.props;\n        const regionData = getFormatedRegion(address);\n\n        const additionalFields = [\n            {\n                key: 'country',\n                label: __('County'),\n                source: regionData\n            },\n            {\n                key: 'region',\n                label: __('State/Province'),\n                source: regionData\n            },\n            {\n                key: 'city',\n                label: __('City'),\n                source: address\n            }\n            // Will be back with B2B update\n            // {\n            //     key: 'company',\n            //     label: __('Company'),\n            //     source: address\n            // }\n        ];\n\n        return [\n            {\n                key: 'firstname',\n                label: __('First name'),\n                source: address\n            },\n            {\n                key: 'lastname',\n                label: __('Last name'),\n                source: address\n            },\n            {\n                key: 'street',\n                label: __('Street'),\n                source: address\n            },\n            {\n                key: 'postcode',\n                label: __('Postal code'),\n                source: address\n            },\n            {\n                key: 'telephone',\n                label: __('Phone number'),\n                source: address\n            },\n            ...(showAdditionalFields ? additionalFields : [])\n        ];\n    }\n\n    renderActions() {\n        const {\n            onEditClick,\n            onDeleteClick,\n            showActions,\n            address: { default_billing, default_shipping }\n        } = this.props;\n\n        const isDeleteAllowed = default_shipping || default_billing;\n\n        if (!showActions) {\n            return null;\n        }\n\n        return (\n            <>\n                <button\n                  block=\"Button\"\n                  onClick={ onEditClick }\n                >\n                    { __('Edit address') }\n                </button>\n                <button\n                  block=\"Button\"\n                  mods={ { isHollow: true } }\n                  onClick={ onDeleteClick }\n                  disabled={ isDeleteAllowed }\n                  title={ isDeleteAllowed ? __('Can not delete - address is set as default.') : 'Delete this address' }\n                >\n                    { __('Delete') }\n                </button>\n            </>\n        );\n    }\n\n    render() {\n        const { countries, mix } = this.props;\n\n        return (\n            <div block=\"MyAccountAddressTable\" mix={ mix }>\n                <Loader isLoading={ !countries.length } />\n                { this.renderTable() }\n                { this.renderActions() }\n            </div>\n        );\n    }\n}\n\nexport default MyAccountAddressTable;\n"]},"metadata":{},"sourceType":"module"}