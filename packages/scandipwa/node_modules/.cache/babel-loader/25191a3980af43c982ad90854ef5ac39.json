{"ast":null,"code":"import _classCallCheck from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/marketihor/scandipwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */import{PureComponent}from'react';import Link from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Link\";import Loader from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/Loader\";import MyAccountAddressTable from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountAddressTable\";import MyAccountCustomerPopup from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountCustomerPopup\";import MyAccountCustomerTable from\"/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountCustomerTable\";import{MY_ACCOUNT_URL}from\"/home/marketihor/scandipwa/packages/scandipwa/src/route/MyAccount/MyAccount.config\";import{ADDRESS_BOOK,customerType}from\"/home/marketihor/scandipwa/packages/scandipwa/src/type/Account\";import\"./MyAccountDashboard.style\";/** @namespace Component/MyAccountDashboard/Component */var _checkBEM=require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;export var _MyAccountDashboard=/*#__PURE__*/function(_Extensible){_inherits(_MyAccountDashboard,_Extensible);var _super=_createSuper(_MyAccountDashboard);function _MyAccountDashboard(){_classCallCheck(this,_MyAccountDashboard);return _super.apply(this,arguments);}_createClass(_MyAccountDashboard,[{key:\"renderCustomerPopup\",value:function renderCustomerPopup(){return/*#__PURE__*/_checkBEM(React,MyAccountCustomerPopup,null);}},{key:\"renderNoDefaultAddressConfigured\",value:function renderNoDefaultAddressConfigured(name){return/*#__PURE__*/_checkBEM(React,\"div\",{key:name},/*#__PURE__*/_checkBEM(React,\"p\",{block:\"MyAccountDashboard\",elem:\"Info\"},__('No %s address configured.',name)),this.renderLinkToAddressBook());}},{key:\"renderLinkToAddressBook\",value:function renderLinkToAddressBook(){return/*#__PURE__*/_checkBEM(React,\"p\",{block:\"MyAccountDashboard\",elem:\"Info\"},/*#__PURE__*/_checkBEM(React,Link,{to:\"\".concat(MY_ACCOUNT_URL,\"/\").concat(ADDRESS_BOOK)},__('Go to \"Address Book\", to configure them!')));}},{key:\"renderDefaultAddressTable\",value:function renderDefaultAddressTable(isBilling){var getDefaultAddress=this.props.getDefaultAddress;var name=isBilling?__('billing'):__('shipping');var address=getDefaultAddress(isBilling);if(!address){return this.renderNoDefaultAddressConfigured(name);}return/*#__PURE__*/_checkBEM(React,\"div\",{key:name,block:\"MyAccountDashboard\",elem:\"DefaultAddress\"},/*#__PURE__*/_checkBEM(React,MyAccountAddressTable,{address:address,showAdditionalFields:true,title:__('Default %s address',name)}));}},{key:\"renderNoAddresses\",value:function renderNoAddresses(){return/*#__PURE__*/_checkBEM(React,\"div\",null,/*#__PURE__*/_checkBEM(React,\"p\",{block:\"MyAccountDashboard\",elem:\"Info\"},__('You have no configured addresses.')),this.renderLinkToAddressBook());}},{key:\"renderDefaultAddressTables\",value:function renderDefaultAddressTables(){var _this$props$customer$=this.props.customer.addresses,addresses=_this$props$customer$===void 0?[]:_this$props$customer$;if(!addresses.length){return this.renderNoAddresses();}return[this.renderDefaultAddressTable(),this.renderDefaultAddressTable(true)];}},{key:\"renderCustomerTable\",value:function renderCustomerTable(){var customer=this.props.customer;return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"MyAccountDashboard\",elem:\"CustomerData\"},/*#__PURE__*/_checkBEM(React,MyAccountCustomerTable,{customer:customer,title:__('My profile')}));}},{key:\"render\",value:function render(){var customer=this.props.customer;return/*#__PURE__*/_checkBEM(React,\"div\",{block:\"MyAccountDashboard\"},/*#__PURE__*/_checkBEM(React,Loader,{isLoading:!Object.keys(customer).length}),this.renderCustomerTable(),this.renderDefaultAddressTables(),this.renderCustomerPopup());}}]);return _MyAccountDashboard;}(Extensible(PureComponent));Object.defineProperty(_MyAccountDashboard,'name',{value:'MyAccountDashboard'});export var MyAccountDashboard=middleware(_MyAccountDashboard,\"Component/MyAccountDashboard/Component\");export default MyAccountDashboard;","map":{"version":3,"sources":["/home/marketihor/scandipwa/packages/scandipwa/src/component/MyAccountDashboard/MyAccountDashboard.component.js"],"names":["PureComponent","Link","Loader","MyAccountAddressTable","MyAccountCustomerPopup","MyAccountCustomerTable","MY_ACCOUNT_URL","ADDRESS_BOOK","customerType","MyAccountDashboard","name","__","renderLinkToAddressBook","isBilling","getDefaultAddress","props","address","renderNoDefaultAddressConfigured","customer","addresses","length","renderNoAddresses","renderDefaultAddressTable","Object","keys","renderCustomerTable","renderDefaultAddressTables","renderCustomerPopup","defineProperty","_MyAccountDashboard","value"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Link from 'Component/Link';\nimport Loader from 'Component/Loader';\nimport MyAccountAddressTable from 'Component/MyAccountAddressTable';\nimport MyAccountCustomerPopup from 'Component/MyAccountCustomerPopup';\nimport MyAccountCustomerTable from 'Component/MyAccountCustomerTable';\nimport { MY_ACCOUNT_URL } from 'Route/MyAccount/MyAccount.config';\nimport { ADDRESS_BOOK, customerType } from 'Type/Account';\n\nimport './MyAccountDashboard.style';\n\n/** @namespace Component/MyAccountDashboard/Component */\nexport class MyAccountDashboard extends PureComponent {\n    static propTypes = {\n        customer: customerType.isRequired,\n        getDefaultAddress: PropTypes.func.isRequired\n    };\n\n    renderCustomerPopup() {\n        return (\n            <MyAccountCustomerPopup />\n        );\n    }\n\n    renderNoDefaultAddressConfigured(name) {\n        return (\n            <div key={ name }>\n                <p block=\"MyAccountDashboard\" elem=\"Info\">{ __('No %s address configured.', name) }</p>\n                { this.renderLinkToAddressBook() }\n            </div>\n        );\n    }\n\n    renderLinkToAddressBook() {\n        return (\n            <p block=\"MyAccountDashboard\" elem=\"Info\">\n                <Link to={ `${MY_ACCOUNT_URL}/${ADDRESS_BOOK}` }>\n                    { __('Go to \"Address Book\", to configure them!') }\n                </Link>\n            </p>\n        );\n    }\n\n    renderDefaultAddressTable(isBilling) {\n        const { getDefaultAddress } = this.props;\n        const name = isBilling ? __('billing') : __('shipping');\n        const address = getDefaultAddress(isBilling);\n\n        if (!address) {\n            return this.renderNoDefaultAddressConfigured(name);\n        }\n\n        return (\n            <div\n              key={ name }\n              block=\"MyAccountDashboard\"\n              elem=\"DefaultAddress\"\n            >\n                <MyAccountAddressTable\n                  address={ address }\n                  showAdditionalFields\n                  title={ __('Default %s address', name) }\n                />\n            </div>\n        );\n    }\n\n    renderNoAddresses() {\n        return (\n            <div>\n                <p block=\"MyAccountDashboard\" elem=\"Info\">{ __('You have no configured addresses.') }</p>\n                { this.renderLinkToAddressBook() }\n            </div>\n        );\n    }\n\n    renderDefaultAddressTables() {\n        const { customer: { addresses = [] } } = this.props;\n\n        if (!addresses.length) {\n            return this.renderNoAddresses();\n        }\n\n        return [\n            this.renderDefaultAddressTable(),\n            this.renderDefaultAddressTable(true)\n        ];\n    }\n\n    renderCustomerTable() {\n        const { customer } = this.props;\n\n        return (\n            <div block=\"MyAccountDashboard\" elem=\"CustomerData\">\n                <MyAccountCustomerTable\n                  customer={ customer }\n                  title={ __('My profile') }\n                />\n            </div>\n        );\n    }\n\n    render() {\n        const { customer } = this.props;\n\n        return (\n            <div block=\"MyAccountDashboard\">\n                <Loader isLoading={ !Object.keys(customer).length } />\n                { this.renderCustomerTable() }\n                { this.renderDefaultAddressTables() }\n                { this.renderCustomerPopup() }\n            </div>\n        );\n    }\n}\n\nexport default MyAccountDashboard;\n"]},"metadata":{},"sourceType":"module"}