{"version":3,"sources":["route/ProductPage/index.js","type/Account.js","component/Draggable/Draggable.component.js","component/Draggable/index.js","component/ProductLinks/ProductLinks.container.js","component/Slider/Slider.container.js","component/ProductActions/ProductActions.config.js","component/ProductLinks/index.js","component/ProductLinks/ProductLinks.component.js","component/Slider/index.js","component/Slider/Slider.component.js","component/Slider/Slider.config.js","component/ProductCustomizableOptions/ProductCustomizableOptions.container.js","component/ProductCustomizableOption/ProductCustomizableOption.container.js","component/ProductBundleItem/ProductBundleItem.config.js","component/ProductGallery/ProductGallery.config.js","component/VideoPopup/VideoPopup.config.js","route/ProductPage/ProductPage.container.js","component/ProductActions/ProductActions.container.js","component/GroupedProductList/GroupedProductList.component.js","component/GroupedProductsItem/GroupedProductsItem.container.js","component/ProductBundleItems/ProductBundleItems.container.js","component/ProductCustomizableOptions/ProductCustomizableOptions.component.js","component/ProductCustomizableOption/ProductCustomizableOption.component.js","component/ProductBundleItem/ProductBundleItem.container.js","component/ProductCustomizableOptions/index.js","component/ProductDownloadableLinks/ProductDownloadableLinks.container.js","component/ProductDownloadableSamples/ProductDownloadableSamples.container.js","component/ProductAttributes/ProductAttributes.container.js","component/ProductGallery/ProductGallery.container.js","component/ImageZoomPopup/ImageZoomPopup.container.js","component/TranslateOnCursorMove/TranslateOnCursorMove.container.js","component/CarouselScroll/CarouselScroll.component.js","component/CarouselScrollArrow/CarouselScrollArrow.container.js","component/CarouselScrollItem/CarouselScrollItem.container.js","component/ProductGalleryBaseImage/ProductGalleryBaseImage.container.js","component/ProductGalleryThumbnailImage/ProductGalleryThumbnailImage.component.js","component/VideoPopup/VideoPopup.container.js","component/VideoThumbnail/VideoThumbnail.container.js","component/ProductInformation/ProductInformation.component.js","component/ProductReviews/ProductReviews.container.js","component/ProductReviewForm/ProductReviewForm.container.js","type/Rating.js","component/ReviewStar/ReviewStar.component.js","component/ProductReviewList/ProductReviewList.component.js","component/ProductReviewItem/ProductReviewItem.component.js","component/ProductReviews/ProductReviews.config.js","component/ProductTabs/ProductTabs.component.js","component/ProductTab/ProductTab.component.js","route/NoMatchHandler/NoMatchHandler.container.js","route/ProductPage/ProductPage.component.js","component/ProductActions/index.js","component/ProductActions/ProductActions.component.js","component/GroupedProductList/index.js","component/GroupedProductsItem/index.js","component/GroupedProductsItem/GroupedProductsItem.component.js","component/ProductBundleItems/index.js","component/ProductCustomizableOption/index.js","component/ProductCustomizableOption/ProductCustomizableOption.config.js","component/ProductBundleItems/ProductBundleItems.component.js","component/ProductBundleItem/index.js","component/ProductBundleItem/ProductBundleItem.component.js","component/ProductConfigurableAttributes/index.js","component/ProductDownloadableLinks/index.js","component/ProductDownloadableLinks/ProductDownloadableLinks.component.js","component/ProductDownloadableSamples/index.js","component/ProductDownloadableSamples/ProductDownloadableSamples.component.js","component/ProductAttributes/index.js","component/ProductAttributes/ProductAttributes.component.js","component/ProductGallery/index.js","component/ImageZoomPopup/index.js","component/ImageZoomPopup/ImageZoomPopup.component.js","component/TranslateOnCursorMove/index.js","component/TranslateOnCursorMove/TranslateOnCursorMove.component.js","component/ProductGallery/ProductGallery.component.js","component/CarouselScroll/index.js","component/CarouselScrollArrow/index.js","component/CarouselScrollArrow/CarouselScrollArrow.component.js","component/CarouselScrollItem/index.js","component/CarouselScrollItem/CarouselScrollItem.component.js","component/ProductGalleryBaseImage/index.js","component/ProductGalleryBaseImage/ProductGalleryBaseImage.component.js","component/ProductGalleryBaseImage/ProductGalleryBaseImage.config.js","component/ProductGalleryThumbnailImage/index.js","component/VideoPopup/index.js","component/VideoPopup/VideoPopup.component.js","component/VideoThumbnail/index.js","component/VideoThumbnail/VideoThumbnail.component.js","component/ProductInformation/index.js","component/ProductReviews/index.js","component/ProductReviews/ProductReviews.component.js","component/ProductReviewForm/index.js","component/ProductReviewForm/ProductReviewForm.component.js","component/ReviewStar/index.js","component/ProductReviewList/index.js","component/ProductReviewItem/index.js","component/ProductTabs/index.js","component/ProductTab/index.js","route/NoMatchHandler/index.js","route/NoMatchHandler/NoMatchHandler.component.js","route/ProductPage/ProductPage.config.js"],"names":["regionType","PropTypes","oneOfType","shape","region_code","string","region","region_id","number","addressType","city","country_id","customer_id","default_billing","bool","default_shipping","firstname","id","lastname","middlename","postcode","prefix","street","arrayOf","suffix","telephone","addressesType","customerType","created_at","dob","date","email","group_id","is_subscribed","taxvat","baseOrderInfoType","increment_id","status_label","grand_total","subtotal","orderType","base_order_info","order_products","array","payment_info","object","shipping_info","DASHBOARD","order_id","downloads","download_url","title","MY_ORDERS","MY_DOWNLOADABLE","MY_WISHLIST","ADDRESS_BOOK","NEWSLETTER_SUBSCRIPTION","tabType","url","name","objectOf","Draggable","state","isDragging","originalX","translateX","lastTranslateX","originalY","translateY","lastTranslateY","handleTouchStart","touches","window","addEventListener","handleTouchMove","handleTouchEnd","length","_handleDragStart","handleMouseDown","event","handleMouseMove","handleMouseUp","preventDefault","clientX","clientY","props","shiftX","shiftY","setState","onDrag","removeEventListener","_handleDragEnd","handleClick","e","onClick","newState","this","onDragStart","onDragEnd","children","handleFocus","handleKey","draggableRef","mix","block","ref","onMouseDown","onTouchStart","onContextMenu","onKeyDown","onFocus","tabIndex","role","aria-label","defaultProps","callback","Object","defineProperty","_Draggable","value","mapStateToProps","linkedProducts","LinkedProductsReducer","ProductLinksContainer","siblingsHaveBrands","siblingsHavePriceBadge","siblingsHaveTierPrice","siblingsHaveConfigurableOptions","productCardFunctions","setSiblingsHaveBrands","setSiblingsHavePriceBadge","setSiblingsHaveTierPrice","setSiblingsHaveConfigurableOptions","productCardProps","linkType","items","containerProps","_ProductLinksContainer","mapDispatchToProps","dispatch","connect","device","ConfigReducer","forwardRef","Slider","DEFAULT_MAX_PRODUCTS","ONE_HUNDRED_PERCENT","ProductLinks","renderProductCard","bind","product","i","elem","key","numberOfProductsToDisplay","slice","map","Array","from","_","areDetailsLoaded","wrapperMix","label","__","renderHeading","renderItems","_ProductLinks","sliderWidth","prevPosition","createRef","sliderRef","handleDragStart","handleInteraction","handleDrag","handleDragEnd","renderCrumb","type","activeImage","prevActiveImage","addWindowResizeWatcher","getIsSlider","sliderChildren","current","offsetWidth","setStyleVariablesOnMount","getSliderRef","sliderHeight","offsetHeight","onload","CSS","setVariable","setTimeout","ANIMATION_DURATION","prevProps","newTranslate","getSlideWidth","setAnimationSpeedStyle","Math","abs","setTranlateXStyle","isHeightTransitionDisabledOnMount","transitionSpeed","HEIGHT_TRANSITION_SPEED_ON_MOUNT","translate","isVertical","animationDuration","slideSize","lastTranslate","fullSliderSize","prevActiveSlider","onActiveImageChange","fullSliderPoss","round","sliderPossition","mousePossitionInElement","getBoundingClientRect","x","isMobile","activeSlide","fullSliderWidth","scrollWidth","scrollHeight","getFullSliderWidth","activeSlidePosition","activeSlidePercent","isSlideBack","onClickChangeSlide","ACTIVE_SLIDE_PERCENT","ceil","floor","calculateNextSlide","isInteractionDisabled","args","call","Children","isActive","mods","changeActiveImage","showCrumbs","renderSliderContent","renderCrumbs","_Slider","ProductCustomizableOptionsContainer","isLoading","selectedCheckboxValues","selectedDropdownOptions","textFieldValues","fileFieldValues","containerFunctions","setSelectedDropdownValue","setSelectedCheckboxValues","setCustomizableOptionTextFieldValue","setCustomizableOptionFileFieldValue","options","stopLoading","prevState","prevSelectedCheckboxValues","prevSelectedDropdownOptions","prevTextFieldValues","prevFileFieldValues","updateSelectedOptionsArray","updateSelectedOptions","getSelectedCustomizableOptions","customizableOptions","push","option_id","option_value","filteredOptions","filter","item","textFieldValue","some","val","filteredItems","concat","option","filename","option_filename","optionData","selectedValue","_ProductCustomizableOptionsContainer","showNotification","message","ProductCustomizableOptionContainer","textValue","selectedDropdownValue","textFieldValid","getDropdownOptions","getSelectedCheckboxValue","updateTextFieldValue","setDropdownValue","processFileUpload","renderOptionLabel","optionType","getOptionType","requiredSelected","getIsRequiredSelected","productOptionsData","requiredOptions","productOptions","productOptionsMulti","keys","selectedItems","isRequired","reduce","acc","priceType","price","currency","price_range","minimum_price","default_final_price_excl_tax","finalPriceSource","finalPrice","formatPrice","percentPrice","required","fieldValue","parseInt","values","option_type_id","price_type","data","file_extension","split","fileType","includes","reader","FileReader","onloadend","result","readAsDataURL","_ProductCustomizableOptionContainer","CHECKBOX","MULTI","SELECT","RADIO","PRICE_TYPE_PERCENT","MAX_ZOOM_SCALE","IMAGE_TYPE","VIDEO_TYPE","PLACEHOLDER_TYPE","THUMBNAIL_KEY","AMOUNT_OF_PLACEHOLDERS","PRODUCT_GALERY_POPUP_ID","VIDEO_POPUP_ID","VIMEO_FORMAT","RegExp","YOUTUBE_FORMAT","BreadcrumbsDispatcher","MetaDispatcher","ProductDispatcher","isOffline","OfflineReducer","ProductReducer","navigation","NavigationReducer","TOP_NAVIGATION_TYPE","metaTitle","MetaReducer","store","code","changeHeaderState","changeNavigationState","BOTTOM_NAVIGATION_TYPE","requestProduct","then","default","handleData","setBigOfflineNotice","isBig","updateBreadcrumbs","breadcrumbs","prevCategoryId","updateWithProduct","updateMetaFromProduct","goToPreviousNavigationState","addRecentlyViewedProduct","ProductPageContainer","configurableVariantIndex","parameters","selectedInitialBundlePrice","selectedBundlePrice","selectedBundlePriceExclTax","selectedLinkPrice","currentProductSKU","updateConfigurableVariant","getLink","setBundlePrice","setLinkedDownloadables","setLinkedDownloadablesPrice","isProductInformationTabEmpty","isProductAttributesTabEmpty","setOfflineNoticeSize","productSKU","getDataSource","sku","productOrVariant","getProductOrVariant","dataSource","getAreDetailsLoaded","isInformationTabEmpty","isAttributesTabEmpty","updateNavigationState","updateMeta","updateHeaderState","scrollTop","prevProductSKU","prevSku","prevOptions","prevItems","stateSKU","history","debounce","LOADING_TIME","JSON","stringify","getRequiredProductOptions","_addToRecentlyViewedProducts","description","html","attributes","canonical_url","categories","configurable_options","meta_description","meta_keyword","meta_title","product_links","reviews","short_description","variants","scrollTo","location","search","pathname","obj","convertQueryStringToKeyValuePairs","query","objectToUri","prices","priceExclTax","links","downloadableLinks","updateArray","hasOwnProperty","getIsConfigurableParameterSelected","toString","getNewParameters","updateUrl","updateConfigurableVariantIndex","updateQueryParamWithoutHistory","removeQueryParamWithoutHistory","newIndex","getVariantIndex","currentVariantIndex","getConfigurableVariantIndex","variant","stock_status","v","PRODUCT_IN_STOCK","PRODUCT_OUT_OF_STOCK","hasParameters","stateProduct","isSingleProduct","getProductRequestFilter","MENU_TAB","PDP","onBackClick","back","prevSKU","prevOptionData","entries","newOptionsData","prevRequiredOptions","undefined","_ProductPageContainer","withRouter","groupedProductQuantity","displayProductStockStatus","display_product_stock_status","isWishlistEnabled","wishlist_general_active","ProductActionsContainer","quantity","showOnlyIfLoaded","onProductValidationError","getIsOptionInCurrentVariant","setQuantity","setGroupedProductQuantity","_setGroupedProductQuantity","clearGroupedProductQuantity","_clearGroupedProductQuantity","getIsConfigurableAttributeAvailable","onConfigurableProductError","onProductError","configurableOptionsRef","onGroupedProductError","groupedProductsRef","minQuantity","getMinQuantity","maxQuantity","getMaxQuantity","_getGroupedProductQuantity","productPrice","getProductPrice","productName","getProductName","offerCount","getOfferCount","offerType","getOfferType","stockMeta","getStockMeta","metaLink","getMetaLink","scrollIntoView","behavior","classList","remove","add","CONFIGURABLE","GROUPED","attribute","attribute_code","attribute_value","isAttributeSelected","parameterPairs","selectedAttributes","foundValue","every","origin","replace","productOption","regular_price","regularPrice","regular_price_excl_tax","regularPriceExclTax","defaultFinalPriceExclTax","discount","percent_off","_getCustomPrice","final_price","finalCustomPrice","final_price_excl_tax","finalCustomPriceExclTax","regularCustomPrice","regularCustomPriceExclTax","selectedOptions","getSelectedOptions","selectedOptionsMulti","getSelectedOptionsMulti","selectedOptionsTotal","forEach","a","b","type_id","links_purchased_separately","BUNDLE","dynamic_price","_getBundleCustomPrice","DOWNLOADABLE","getCustomizablePrice","withoutTax","addBase","value_excl_tax","basePrice","basePriceExclTax","finalPriceExclTax","priceValue","priceValueExclTax","initial","isDynamicPrice","default_price","defaultPrice","defaultFinalPrice","default_final_price","discountData","priceBeforeDiscount","priceAfterDiscount","initialPriceValue","amount_off","expression","content","placeholder","stock_item","min_sale_qty","max_sale_qty","minQty","maxQty","_ProductActionsContainer","GroupedProductList","qty","defaultQuantity","renderProductList","_GroupedProductList","GroupedProductsItemContainer","changeCount","itemCount","_getCurrentQuantity","_GroupedProductsItemContainer","ProductBundleItemsContainer","updateQuantity","getItemsPrice","getOptionPrice","initialPrice","selectedValues","selectedOption","find","finalOptionPrice","finalOptionPriceExclTax","regularOptionPrice","bundleOptions","bundlePrices","getTotalPrice","newItemData","el","propTypes","ProductItemsType","func","_ProductBundleItemsContainer","ProductCustomizableOptions","isPlaceholder","renderPlaceholder","renderContent","_ProductCustomizableOptions","ProductCustomizableOption","renderMap","render","renderCheckboxValues","renderTitle","DROPDOWN","renderDropdownValues","TEXT_FIELD","renderTextField","renderTextFieldTitle","AREA_FIELD","FILE","renderFileField","renderOptionCheckboxValue","priceLabel","onChange","mainTitle","titleBold","dropdownOptions","selectOptions","max_characters","renderRequired","renderOptionDropdownValues","fieldType","maxLength","customValidationStatus","renderMaxCharacters","fileExtensions","optionRenderMap","heading","isContentExpanded","_ProductCustomizableOption","ProductBundleItemContainer","setDropdownItemQuantity","getDefaultValues","setDefaultDropdownValue","setDefaultCheckboxValue","is_default","getSelectedOptionData","optionId","currencyCode","can_change_quantity","dropdownLabel","_ProductBundleItemContainer","isOpenInNewTab","downloadable_links_target_new_window","ProductDownloadableLinksContainer","selectedLinks","prevSelectedLinks","base","link_id","optionIdInt","link","_ProductDownloadableLinksContainer","ProductDownloadableSamplesContainer","_ProductDownloadableSamplesContainer","ProductAttributesContainer","attributesWithValues","_getAttributesWithValues","attribute_label","valueIndexFromParameter","_ProductAttributesContainer","ProductGalleryContainer","handleZoomChange","disableZoom","handleImageZoomPopupActiveChange","isZoomEnabled","isImageZoomPopupActive","gallery","getGalleryPictures","_getProductName","productId","handleImageZoomPopupClose","prevProdId","media_gallery_entries","mediaGallery","thumbnailUrl","imageTypeUrl","disabled","sort","aThumbnail","types","bThumbnail","sortResult","position","fill","media_type","placeholders","thumbnail","document","documentElement","scale","onClose","activeImageId","popupId","to","SharedTransitionContainer","registerSharedElementDestination","_ProductGalleryContainer","showPopup","payload","hideActiveOverlay","ImageZoomPopupContainer","prevIsActive","clickOutside","contentMix","onHide","_ImageZoomPopupContainer","TranslateOnCursorMove","CarouselScroll","activeItemId","itemRef","carouselRef","handleArrowClick","isNextArrow","handleChange","nextId","setTranslate","renderContentItem","child","showedItemCount","height","prevChildrenLength","childrenLength","prevActiveItemId","handleReset","showedActiveItemNr","getNextTranslate","showArrow","isDisabled","renderArrow","_CarouselScroll","CarouselScrollArrowContainer","_CarouselScrollArrowContainer","CarouselScrollItemContainer","_CarouselScrollItemContainer","ProductGalleryBaseImageContainer","alt","_getAlt","src","_getSrc","nextProps","mediaData","nextScale","previousScale","setTransform","INITIAL_SCALE","TRANSFORMATION_SPEED","TRANSFORMATION_DELAY","file","baseUrl","media","PRODUCT_MEDIA","_ProductGalleryBaseImageContainer","ProductGalleryThumbnailImage","renderVideo","renderImage","ratio","renderMedia","_ProductGalleryThumbnailImage","PopupReducer","popupPayload","VideoPopup","hideActivePopup","VideoThumbnailContainer","onPlayClick","_onPlayClick","video_content","video_title","isVideoZoomed","_VideoThumbnailContainer","ProductInformation","cleanDescription","itemProp","renderDescription","htmlString","trim","DOMParser","parseFromString","body","element","innerText","isHTMLWhiteSpaceOrUndefined","_ProductInformation","isEnabled","reviews_are_enabled","isGuestEnabled","reviews_allow_guest","REVIEW_POPUP_ID","showInfoNotification","ProductReviewsContainer","_showPopup","isSignedIn","_ProductReviewsContainer","ReviewDispatcher","customer","MyAccountReducer","reviewRatings","addReview","submitProductReview","goToPreviousHeaderState","ProductReviewFormContainer","onReviewSubmitAttempt","_onReviewSubmitAttempt","onReviewSubmitSuccess","_onReviewSubmitSuccess","onStarRatingClick","_onStarRatingClick","handleNicknameChange","_handleFieldChange","handleSummaryChange","handleDetailChange","onReviewError","_onReviewError","reviewData","nickname","ratingData","isSubmitted","invalidFields","reviewsAreNotValid","rating_id","fields","rating_data","detail","product_sku","success","fieldName","_ProductReviewFormContainer","RatingOptionItemType","rating_code","rating_options","ReviewStar","isChecked","checked","_ReviewStar","ProductReviewList","reviewItem","renderReviews","_ProductReviewList","ProductReviewItem","renderReviewListItemRating","ratingVoteItem","percent","itemType","itemScope","summary","fixedDate","Date","toDateString","getFormattedDate","rating_votes","renderAuthor","_ProductReviewItem","ProductTabs","onTabClick","tab","tabs","activeTab","currentTab","findIndex","renderTab","tabName","defaultTab","any","renderAllTabs","renderActiveTab","renderTabs","_ProductTabs","ProductTab","toUpperCase","_ProductTab","NoMatchDispatcher","noMatch","NoMatchReducer","meta","updateNoMatch","NoMatchHandlerContainer","_NoMatchHandlerContainer","ProductPage","tabMap","PRODUCT_INFORMATION","shouldTabRender","renderProductInformationTab","PRODUCT_ATTRIBUTES","renderProductAttributesTab","PRODUCT_REVIEWS","renderProductReviewsTab","isGrey","renderProductCompareButton","shouldTabsRender","renderCustomizableOptions","renderProductTabs","RELATED","UPSELL","renderProductPageContent","renderAdditionalSections","_ProductPage","ProductActions","prevId","stockStatus","stockStatusLabel","renderStock","numberOfPlaceholders","isReady","htmlWithItemProp","renderShortDescriptionContent","brand","max","min","renderOfferCount","href","minFinalPrice","maximum_price","maxFinalPrice","renderConfigurablePriceBadge","renderSchema","isSchemaRequired","variantsCount","renderPriceWithSchema","review_summary","rating_summary","review_count","rating","parseFloat","toFixed","samples_title","downloadable_product_samples","samples","downloadable_product_links","links_title","renderPriceWithGlobalSchema","renderShortDescription","renderDownloadableProductSample","renderDownloadableProductLinks","renderQuantityInput","renderAddToCart","renderProductWishlistButton","renderNameAndBrand","renderSkuAndStock","renderConfigurableAttributes","renderBundleItems","renderGroupedItems","renderTierPrices","_ProductActions","GroupedProductsItem","thumb_url","path","renderQuantity","_GroupedProductsItem","ProductBundleItems","_ProductBundleItems","ProductBundleItem","renderQtyInput","_ProductBundleItem","ProductDownloadableLinks","renderLink","renderCheckBox","renderLabel","sample_url","getLabel","renderLinks","_ProductDownloadableLinks","ProductDownloadableSamples","renderDownloadableProductSampleItems","_ProductDownloadableSamples","ProductAttributes","renderAttribute","isFormattedAsText","attribute_group_id","attribute_group_name","attribute_group_code","group","index","g","renderAttributes","filteredAttributesWithValues","renderGroups","_ProductAttributes","ImageZoomPopup","itemSelector","targetSelector","_ImageZoomPopup","wrapperPageY","pageY","target","querySelectorAll","querySelector","innerHeight","wrapperHeight","top","paddingY","onMouseMove","_TranslateOnCursorMove","ProductGallery","maxScale","imageRef","scrollEnabled","handleSliderClick","renderAdditionalPicture","onWheel","zoomState","timeout","stopScrolling","context","renderSlide","updateSharedDestinationElement","prevProductId","prevPathname","baseSrc","large","largeSrc","style","onZoomChange","onWheelStart","wheel","limitsOnWheel","pan","limitToWrapperBounds","velocity","limitToBounds","minScale","resetTransform","isZoomInCursor","getImageUrl","renderAdditionalPictures","renderSlider","_ProductGallery","CarouselScrollArrow","_CarouselScrollArrow","CarouselScrollItem","_CarouselScrollItem","ProductGalleryBaseImage","display","_ProductGalleryBaseImage","loadVimeoLibrary","loadYouTubeLibrary","Promise","all","vimeoPromise","youTubePromise","forceUpdate","cancel","videoId","Vimeo","vimeoComponent","autoplay","YouTube","youTubeComponent","containerClassName","className","opts","playerVars","makeCancelable","promise","vimeo","youTube","video_url","exec","vimeoId","_renderVimeoVideo","youtubeId","_renderYoutubeVideo","_renderVideoContent","_VideoPopup","VideoThumbnail","renderPlayIcon","_VideoThumbnail","ProductReviews","reviewCount","renderRatingSchema","renderNoRating","reviewSchemaObject","renderRatingData","renderButton","renderSummary","renderList","renderPopup","_ProductReviews","ProductReviewForm","ratingTitleMap","1","2","3","4","5","renderReviewStar","renderReviewRating","validation","validateSeparately","onSubmit","onSubmitSuccess","onSubmitError","renderReviewFormContent","_ProductReviewForm","NoMatchHandler","navigator","userAgent","toLowerCase","indexOf","onRouteChanged","_NoMatchHandler"],"mappings":"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","file":"static/js/product.1ca6f686.chunk.js","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductPage.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\n\nexport const regionType = PropTypes.oneOfType([\n    PropTypes.shape({\n        region_code: PropTypes.string,\n        region: PropTypes.string,\n        region_id: PropTypes.number\n    })\n]);\n\nexport const addressType = PropTypes.shape({\n    city: PropTypes.string,\n    country_id: PropTypes.string,\n    customer_id: PropTypes.number,\n    default_billing: PropTypes.bool,\n    default_shipping: PropTypes.bool,\n    firstname: PropTypes.string,\n    id: PropTypes.number,\n    lastname: PropTypes.string,\n    middlename: PropTypes.string,\n    postcode: PropTypes.string,\n    prefix: PropTypes.string,\n    regionType,\n    street: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string)\n    ]),\n    suffix: PropTypes.string,\n    telephone: PropTypes.string\n});\n\nexport const addressesType = PropTypes.arrayOf(addressType);\n\nexport const customerType = PropTypes.shape({\n    addressesType,\n    created_at: PropTypes.string,\n    default_billing: PropTypes.string,\n    default_shipping: PropTypes.string,\n    dob: PropTypes.date,\n    email: PropTypes.string,\n    firstname: PropTypes.string,\n    group_id: PropTypes.number,\n    id: PropTypes.number,\n    is_subscribed: PropTypes.bool,\n    lastname: PropTypes.string,\n    middlename: PropTypes.string,\n    prefix: PropTypes.string,\n    suffix: PropTypes.string,\n    taxvat: PropTypes.string\n});\n\nexport const baseOrderInfoType = PropTypes.shape({\n    id: PropTypes.number,\n    increment_id: PropTypes.string,\n    created_at: PropTypes.string,\n    status_label: PropTypes.string,\n    grand_total: PropTypes.number,\n    subtotal: PropTypes.string\n});\n\n// TODO: remove objects\nexport const orderType = PropTypes.shape({\n    base_order_info: baseOrderInfoType,\n    order_products: PropTypes.array,\n    payment_info: PropTypes.object,\n    shipping_info: PropTypes.object\n});\n\nexport const downloadableType = PropTypes.shape({\n    id: PropTypes.number,\n    order_id: PropTypes.string,\n    status_label: PropTypes.string,\n    downloads: PropTypes.string,\n    download_url: PropTypes.string,\n    created_at: PropTypes.string,\n    title: PropTypes.string\n});\n\nexport const ordersType = PropTypes.arrayOf(orderType);\n\nexport const DASHBOARD = 'dashboard';\nexport const MY_ORDERS = 'my-orders';\nexport const MY_DOWNLOADABLE = 'my-downloadable';\nexport const MY_WISHLIST = 'my-wishlist';\nexport const ADDRESS_BOOK = 'address-book';\nexport const NEWSLETTER_SUBSCRIPTION = 'newsletter-subscription';\n\nexport const activeTabType = PropTypes.string;\n\nexport const tabType = PropTypes.shape({\n    url: PropTypes.string,\n    name: PropTypes.string\n});\n\nexport const tabMapType = PropTypes.objectOf(tabType);\n\nexport const signInStateType = PropTypes.string;\n","/* eslint-disable react/no-unused-state */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { ChildrenType, MixType } from 'Type/Common';\n\nimport './Draggable.style';\n\n/** @namespace Component/Draggable/Component */\nexport class Draggable extends PureComponent {\n    static propTypes = {\n        shiftX: PropTypes.number,\n        shiftY: PropTypes.number,\n        onDragStart: PropTypes.func,\n        onClick: PropTypes.func,\n        onDragEnd: PropTypes.func,\n        handleFocus: PropTypes.func,\n        handleKey: PropTypes.func,\n        onDrag: PropTypes.func,\n        children: ChildrenType.isRequired,\n        mix: MixType,\n        draggableRef: PropTypes.oneOfType([\n            PropTypes.func,\n            PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n        ])\n    };\n\n    static defaultProps = {\n        shiftX: 0,\n        shiftY: 0,\n        onDragStart: () => {},\n        onDragEnd: (state, callback) => {\n            const { translateX, translateY } = state;\n\n            callback({\n                originalX: 0,\n                originalY: 0,\n                shiftX: translateX,\n                shiftY: translateY\n            });\n        },\n        onClick: () => {},\n        onDrag: () => {},\n        handleFocus: () => {},\n        handleKey: () => {},\n        draggableRef: () => {},\n        mix: {}\n    };\n\n    state = {\n        isDragging: false,\n        originalX: 0,\n        translateX: 0,\n        lastTranslateX: 0,\n        originalY: 0,\n        translateY: 0,\n        lastTranslateY: 0\n    };\n\n    static getDerivedStateFromProps(props, state) {\n        const { shiftX, shiftY } = props;\n        const { lastTranslateX, lastTranslateY } = state;\n        if (shiftX !== lastTranslateX || shiftY !== lastTranslateY) {\n            return {\n                lastTranslateX: shiftX,\n                lastTranslateY: shiftY\n            };\n        }\n\n        return null;\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('mousemove', this.handleMouseMove);\n        window.removeEventListener('mouseup', this.handleMouseUp);\n        window.removeEventListener('touchmove', this.handleTouchMove);\n        window.removeEventListener('touchend', this.handleTouchEnd);\n    }\n\n    handleTouchStart = ({ touches }) => {\n        window.addEventListener('touchmove', this.handleTouchMove);\n        window.addEventListener('touchend', this.handleTouchEnd);\n\n        if (touches.length === 1) {\n            this._handleDragStart(touches[0]);\n        }\n    };\n\n    handleMouseDown = (event) => {\n        window.addEventListener('mousemove', this.handleMouseMove);\n        window.addEventListener('mouseup', this.handleMouseUp);\n\n        event.preventDefault();\n        this._handleDragStart(event);\n    };\n\n    handleTouchMove = ({ touches }) => {\n        if (touches.length === 1) {\n            this.handleMouseMove(touches[0]);\n        }\n    };\n\n    handleMouseMove = ({ clientX, clientY }) => {\n        const { isDragging } = this.state;\n        const { shiftX, shiftY } = this.props;\n\n        if (!isDragging) {\n            return;\n        }\n\n        this.setState(({\n            originalX,\n            originalY\n        }) => ({\n            translateX: clientX - originalX + shiftX,\n            translateY: clientY - originalY + shiftY\n        }), () => {\n            const { onDrag } = this.props;\n            if (onDrag) {\n                onDrag({ ...this.state, clientX, clientY });\n            }\n        });\n    };\n\n    handleTouchEnd = () => {\n        window.removeEventListener('touchmove', this.handleTouchMove);\n        window.removeEventListener('touchend', this.handleTouchEnd);\n\n        this._handleDragEnd();\n    };\n\n    handleMouseUp = () => {\n        window.removeEventListener('mousemove', this.handleMouseMove);\n        window.removeEventListener('mouseup', this.handleMouseUp);\n\n        this._handleDragEnd();\n    };\n\n    handleClick = (e) => {\n        const { onClick } = this.props;\n\n        if (onClick) {\n            onClick(\n                this.state,\n                (newState) => this.setState({\n                    ...newState,\n                    isDragging: false,\n                    translateX: 0,\n                    translateY: 0\n                }),\n                e\n            );\n        }\n    };\n\n    _handleDragStart({\n        clientX,\n        clientY\n    }) {\n        const { onDragStart } = this.props;\n\n        if (onDragStart) {\n            onDragStart();\n        }\n\n        this.setState({\n            originalX: clientX,\n            originalY: clientY,\n            isDragging: true\n        });\n    }\n\n    _handleDragEnd() {\n        const { onDragEnd } = this.props;\n\n        onDragEnd(this.state, (newState) => this.setState({\n            ...newState,\n            isDragging: false,\n            translateX: 0,\n            translateY: 0\n        }));\n\n        // TO STAY WHERE RELEASED\n        // originalX: 0,\n        // lastTranslateX: translateX,\n        // originalY: 0,\n        // lastTranslateY: translateY,\n\n        // TO RETURN INTO INITIAL\n        // originalX: 0,\n        // lastTranslateX: 0\n        // originalY: 0,\n        // lastTranslateY: 0\n    }\n\n    render() {\n        const {\n            children,\n            handleFocus,\n            handleKey,\n            draggableRef,\n            mix\n        } = this.props;\n\n        return (\n            <div\n              block=\"Draggable\"\n              mix={ mix }\n              ref={ draggableRef }\n              onMouseDown={ this.handleMouseDown }\n              onTouchStart={ this.handleTouchStart }\n              onClick={ this.handleClick }\n              onContextMenu={ this.handleClick }\n              onKeyDown={ handleKey }\n              onFocus={ handleFocus }\n              tabIndex={ 0 }\n              role=\"button\"\n              aria-label=\"Draggable area\"\n            >\n                { children }\n            </div>\n        );\n    }\n}\n\nexport default Draggable;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './Draggable.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { ProductType } from 'Type/ProductList';\n\nimport ProductLinks from './ProductLinks.component';\n\n/** @namespace Component/ProductLinks/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    linkedProducts: state.LinkedProductsReducer.linkedProducts\n});\n\n/** @namespace Component/ProductLinks/Container */\nexport class ProductLinksContainer extends PureComponent {\n    static propTypes = {\n        linkedProducts: PropTypes.objectOf(ProductType).isRequired,\n        linkType: PropTypes.string.isRequired\n    };\n\n    state = {\n        siblingsHaveBrands: false,\n        siblingsHavePriceBadge: false,\n        siblingsHaveTierPrice: false,\n        siblingsHaveConfigurableOptions: false\n    };\n\n    containerProps() {\n        const {\n            siblingsHaveBrands,\n            siblingsHavePriceBadge,\n            siblingsHaveTierPrice,\n            siblingsHaveConfigurableOptions\n        } = this.state;\n\n        return {\n            productCardFunctions: {\n                setSiblingsHaveBrands: () => this.setState({ siblingsHaveBrands: true }),\n                setSiblingsHavePriceBadge: () => this.setState({ siblingsHavePriceBadge: true }),\n                setSiblingsHaveTierPrice: () => this.setState({ siblingsHaveTierPrice: true }),\n                setSiblingsHaveConfigurableOptions: () => this.setState({ siblingsHaveConfigurableOptions: true })\n            },\n            productCardProps: {\n                siblingsHaveBrands,\n                siblingsHavePriceBadge,\n                siblingsHaveTierPrice,\n                siblingsHaveConfigurableOptions\n            }\n        };\n    }\n\n    render() {\n        const {\n            linkType,\n            linkedProducts: {\n                [linkType]: {\n                    items = []\n                } = {}\n            }\n        } = this.props;\n\n        if (items.length === 0) {\n            return null;\n        }\n\n        return (\n            <ProductLinks\n              { ...this.props }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\n/** @namespace Component/ProductLinks/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductLinksContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { connect } from 'react-redux';\n\nimport Slider from './Slider.component';\n\n/** @namespace Component/Slider/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    device: state.ConfigReducer.device\n});\n\n/** @namespace Component/Slider/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\n// eslint-disable-next-line @scandipwa/scandipwa-guidelines/always-both-mappings\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Slider);\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const DEFAULT_MAX_PRODUCTS = 99;\nexport const ONE_HUNDRED_PERCENT = 100;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductLinks.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ProductCard from 'Component/ProductCard';\nimport { ProductType } from 'Type/ProductList';\n\nimport './ProductLinks.style';\n\n/** @namespace Component/ProductLinks/Component */\nexport class ProductLinks extends PureComponent {\n    static propTypes = {\n        numberOfProductsToDisplay: PropTypes.number,\n        areDetailsLoaded: PropTypes.bool,\n        linkedProducts: PropTypes.objectOf(ProductType).isRequired,\n        linkType: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired,\n        productCardProps: PropTypes.object.isRequired,\n        productCardFunctions: PropTypes.object.isRequired\n    };\n\n    static defaultProps = {\n        numberOfProductsToDisplay: 4,\n        areDetailsLoaded: true\n    };\n\n    renderProductCard = this.renderProductCard.bind(this);\n\n    renderProductCard(product, i) {\n        const {\n            productCardProps,\n            productCardFunctions\n        } = this.props;\n        const { id = i } = product;\n\n        return (\n            <ProductCard\n              block=\"ProductLinks\"\n              elem=\"Card\"\n              product={ product }\n              key={ id }\n              { ...productCardProps }\n              { ...productCardFunctions }\n            />\n        );\n    }\n\n    renderItems() {\n        const {\n            linkType,\n            linkedProducts: { [linkType]: { items } },\n            numberOfProductsToDisplay\n        } = this.props;\n\n        if (!items) {\n            return Array.from(\n                { length: numberOfProductsToDisplay },\n                (_, i) => this.renderProductCard({}, i)\n            );\n        }\n\n        return items.slice(0, numberOfProductsToDisplay).map(this.renderProductCard);\n    }\n\n    renderHeading() {\n        const { title } = this.props;\n\n        return (\n            <h3 block=\"ProductLinks\" elem=\"Title\">\n                { title }\n            </h3>\n        );\n    }\n\n    render() {\n        const { areDetailsLoaded } = this.props;\n\n        if (!areDetailsLoaded) {\n            return null;\n        }\n\n        return (\n            <ContentWrapper\n              mix={ { block: 'ProductLinks' } }\n              wrapperMix={ { block: 'ProductLinks', elem: 'Wrapper' } }\n              label={ __('Linked products') }\n            >\n                { this.renderHeading() }\n                <ul block=\"ProductLinks\" elem=\"List\">\n                    { this.renderItems() }\n                </ul>\n            </ContentWrapper>\n        );\n    }\n}\n\nexport default ProductLinks;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './Slider.container';\n","/* eslint-disable react/no-unused-state */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { Children, createRef, PureComponent } from 'react';\n\nimport Draggable from 'Component/Draggable';\nimport { ChildrenType, MixType } from 'Type/Common';\nimport { DeviceType } from 'Type/Device';\nimport CSS from 'Util/CSS';\n\nimport {\n    ACTIVE_SLIDE_PERCENT,\n    ANIMATION_DURATION,\n    HEIGHT_TRANSITION_SPEED_ON_MOUNT\n} from './Slider.config';\n\nimport './Slider.style';\n\n/**\n * Slider component\n * @class Slider\n * @namespace Component/Slider/Component\n */\nexport class Slider extends PureComponent {\n    static propTypes = {\n        showCrumbs: PropTypes.bool,\n        activeImage: PropTypes.number,\n        onActiveImageChange: PropTypes.func,\n        mix: MixType,\n        children: ChildrenType.isRequired,\n        isInteractionDisabled: PropTypes.bool,\n        device: DeviceType.isRequired,\n        onClick: PropTypes.func,\n        isVertical: PropTypes.bool,\n        isHeightTransitionDisabledOnMount: PropTypes.bool,\n        sliderHeight: PropTypes.oneOfType([\n            PropTypes.number,\n            PropTypes.string\n        ]),\n        sliderRef: PropTypes.object\n    };\n\n    static defaultProps = {\n        activeImage: 0,\n        onActiveImageChange: () => {},\n        showCrumbs: false,\n        isInteractionDisabled: false,\n        mix: {},\n        onClick: null,\n        isVertical: false,\n        isHeightTransitionDisabledOnMount: false,\n        sliderHeight: null,\n        sliderRef: null\n    };\n\n    sliderWidth = 0;\n\n    prevPosition = 0;\n\n    draggableRef = createRef();\n\n    sliderRef = createRef();\n\n    handleDragStart = this.handleInteraction.bind(this, this.handleDragStart);\n\n    handleDrag = this.handleInteraction.bind(this, this.handleDrag);\n\n    handleDragEnd = this.handleInteraction.bind(this, this.handleDragEnd);\n\n    renderCrumb = this.renderCrumb.bind(this);\n\n    __construct(props) {\n        super.__construct(props);\n\n        const { activeImage } = this.props;\n\n        this.state = {\n            prevActiveImage: activeImage\n        };\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const { activeImage, children } = props;\n        const { prevActiveImage } = state;\n\n        if (prevActiveImage !== activeImage && children.length !== 1) {\n            return { prevActiveImage: activeImage };\n        }\n\n        return null;\n    }\n\n    componentDidMount() {\n        this.addWindowResizeWatcher();\n\n        if (!this.getIsSlider()) {\n            return;\n        }\n\n        const sliderChildren = this.draggableRef.current.children;\n        const sliderWidth = this.draggableRef.current.offsetWidth;\n        this.sliderWidth = sliderWidth;\n\n        if (!sliderChildren || !sliderChildren[0]) {\n            return;\n        }\n\n        this.setStyleVariablesOnMount();\n\n        const sliderRef = this.getSliderRef();\n        const sliderHeight = `${ sliderChildren[0].offsetHeight }px`;\n\n        sliderChildren[0].onload = () => {\n            CSS.setVariable(sliderRef, 'slider-height', sliderHeight);\n        };\n\n        setTimeout(() => {\n            CSS.setVariable(sliderRef, 'slider-height', sliderHeight);\n        }, ANIMATION_DURATION);\n    }\n\n    componentDidUpdate(prevProps) {\n        const { activeImage: prevActiveImage } = prevProps;\n        const { activeImage } = this.props;\n\n        if (activeImage !== prevActiveImage && this.getIsSlider()) {\n            const newTranslate = -activeImage * this.getSlideWidth();\n\n            this.setAnimationSpeedStyle(Math.abs((prevActiveImage - activeImage) * ANIMATION_DURATION));\n            this.setTranlateXStyle(newTranslate);\n        }\n    }\n\n    addWindowResizeWatcher() {\n        window.addEventListener('resize', () => {\n            const { activeImage } = this.props;\n            const newTranslate = -activeImage * this.getSlideWidth();\n\n            this.setTranlateXStyle(newTranslate);\n\n            // Removed animation to avoid image movement while changing window width.\n            this.setAnimationSpeedStyle(0);\n\n            const delay = 500;\n            setTimeout(() => {\n                this.setAnimationSpeedStyle();\n            }, delay);\n        });\n    }\n\n    setStyleVariablesOnMount() {\n        const { sliderHeight, isHeightTransitionDisabledOnMount, activeImage } = this.props;\n\n        const sliderRef = this.getSliderRef();\n\n        if (isHeightTransitionDisabledOnMount) {\n            const transitionSpeed = isHeightTransitionDisabledOnMount\n                ? 0\n                : `${ HEIGHT_TRANSITION_SPEED_ON_MOUNT }ms`;\n\n            CSS.setVariable(\n                sliderRef,\n                'height-transition-speed',\n                transitionSpeed\n            );\n        }\n\n        if (sliderHeight) {\n            CSS.setVariable(sliderRef, 'slider-height', sliderHeight);\n        }\n\n        const newTranslate = -activeImage * this.getSlideWidth();\n        this.setTranlateXStyle(newTranslate);\n    }\n\n    setTranlateXStyle(translate) {\n        const { isVertical } = this.props;\n\n        CSS.setVariable(this.draggableRef, isVertical ? 'translateY' : 'translateX', `${ translate }px`);\n    }\n\n    setAnimationSpeedStyle(animationDuration = ANIMATION_DURATION) {\n        CSS.setVariable(this.draggableRef, 'animation-speed', `${ animationDuration }ms`);\n    }\n\n    getIsSlider() {\n        const { children } = this.props;\n\n        return children.length > 0;\n    }\n\n    getSlideWidth() {\n        const { isVertical } = this.props;\n        const { offsetWidth = 0, offsetHeight = 0 } = this.draggableRef.current || {};\n\n        return isVertical ? offsetHeight : offsetWidth;\n    }\n\n    getSliderRef() {\n        const { sliderRef } = this.props;\n\n        return sliderRef || this.sliderRef;\n    }\n\n    onClickChangeSlide(state, slideSize, lastTranslate, fullSliderSize) {\n        const { originalX } = state;\n        const { prevActiveImage: prevActiveSlider } = this.state;\n        const { onActiveImageChange, device, onClick } = this.props;\n\n        if (onClick) {\n            onClick();\n\n            return -prevActiveSlider;\n        }\n\n        const fullSliderPoss = Math.round(fullSliderSize / slideSize);\n        const elementPossitionInDOM = this.draggableRef.current.getBoundingClientRect().x;\n\n        const sliderPossition = -prevActiveSlider;\n        const realElementPossitionInDOM = elementPossitionInDOM - lastTranslate;\n        const mousePossitionInElement = originalX - realElementPossitionInDOM;\n\n        if (device.isMobile) {\n            return sliderPossition;\n        }\n\n        if (slideSize / 2 < mousePossitionInElement && -fullSliderPoss < sliderPossition) {\n            const activeSlide = sliderPossition - 1;\n            onActiveImageChange(-activeSlide);\n            return activeSlide;\n        }\n\n        if (slideSize / 2 > mousePossitionInElement && lastTranslate) {\n            const activeSlide = sliderPossition + 1;\n            onActiveImageChange(-activeSlide);\n            return activeSlide;\n        }\n\n        return sliderPossition;\n    }\n\n    getFullSliderWidth() {\n        const { isVertical } = this.props;\n        const { scrollWidth: fullSliderWidth, scrollHeight } = this.draggableRef.current;\n\n        const width = isVertical ? scrollHeight : fullSliderWidth;\n\n        return width - this.getSlideWidth();\n    }\n\n    calculateNextSlide(state) {\n        const { isVertical } = this.props;\n        const {\n            translateX,\n            translateY,\n            lastTranslateX,\n            lastTranslateY\n        } = state;\n\n        const lastTranslate = isVertical ? lastTranslateY : lastTranslateX;\n        const translate = isVertical ? translateY : translateX;\n\n        const { onActiveImageChange } = this.props;\n\n        const slideSize = this.getSlideWidth();\n\n        const fullSliderSize = this.getFullSliderWidth();\n\n        const activeSlidePosition = translate / slideSize;\n        const activeSlidePercent = Math.abs(activeSlidePosition % 1);\n        const isSlideBack = translate > lastTranslate;\n\n        if (!translate) {\n            return this.onClickChangeSlide(state, slideSize, lastTranslate, fullSliderSize);\n        }\n\n        if (translate >= 0) {\n            onActiveImageChange(0);\n            return 0;\n        }\n\n        if (translate < -fullSliderSize) {\n            const activeSlide = Math.round(fullSliderSize / -slideSize);\n            onActiveImageChange(-activeSlide);\n            return activeSlide;\n        }\n\n        if (isSlideBack && activeSlidePercent < 1 - ACTIVE_SLIDE_PERCENT) {\n            const activeSlide = Math.ceil(activeSlidePosition);\n            onActiveImageChange(-activeSlide);\n            return activeSlide;\n        }\n\n        if (!isSlideBack && activeSlidePercent > ACTIVE_SLIDE_PERCENT) {\n            const activeSlide = Math.floor(activeSlidePosition);\n            onActiveImageChange(-activeSlide);\n            return activeSlide;\n        }\n\n        const activeSlide = Math.round(activeSlidePosition);\n        onActiveImageChange(-activeSlide);\n        return activeSlide;\n    }\n\n    handleDragStart() {\n        this.setAnimationSpeedStyle(0);\n    }\n\n    handleDrag(state) {\n        const { isVertical } = this.props;\n        const { translateX, translateY } = state;\n\n        const translate = isVertical ? translateY : translateX;\n\n        const fullSliderSize = this.getFullSliderWidth();\n\n        if (translate < 0 && translate > -fullSliderSize) {\n            this.setTranlateXStyle(translate);\n        }\n    }\n\n    handleDragEnd(state, callback) {\n        const { isVertical } = this.props;\n        const activeSlide = this.calculateNextSlide(state);\n        const slideSize = this.getSlideWidth();\n        const newTranslate = activeSlide * slideSize;\n\n        this.setAnimationSpeedStyle();\n        this.setTranlateXStyle(newTranslate);\n\n        if (isVertical) {\n            callback({\n                originalY: newTranslate,\n                lastTranslateY: newTranslate\n            });\n\n            return;\n        }\n\n        callback({\n            originalX: newTranslate,\n            lastTranslateX: newTranslate\n        });\n    }\n\n    handleClick = (state, callback, e) => {\n        if (e.type === 'contextmenu') {\n            this.handleDragEnd(state, callback);\n        }\n    };\n\n    handleInteraction(callback, ...args) {\n        const { isInteractionDisabled } = this.props;\n\n        if (isInteractionDisabled || !callback) {\n            return;\n        }\n\n        callback.call(this, ...args);\n    }\n\n    changeActiveImage(activeImage) {\n        const { onActiveImageChange } = this.props;\n        onActiveImageChange(activeImage);\n    }\n\n    renderCrumbs() {\n        const { children } = this.props;\n        if (children.length <= 1) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"Slider\"\n              elem=\"Crumbs\"\n            >\n                { Children.map(children, this.renderCrumb) }\n            </div>\n        );\n    }\n\n    renderCrumb(_, i) {\n        const { activeImage } = this.props;\n        const isActive = i === Math.abs(-activeImage);\n\n        return (\n            <button\n              block=\"Slider\"\n              elem=\"Image\"\n              mods={ { type: 'single' } }\n              // eslint-disable-next-line react/jsx-no-bind\n              onClick={ () => this.changeActiveImage(i) }\n              aria-label={ __('Slide crumb') }\n            >\n                <div\n                  block=\"Slider\"\n                  elem=\"Crumb\"\n                  mods={ { isActive } }\n                />\n            </button>\n        );\n    }\n\n    renderSliderContent() {\n        const { activeImage, children, isVertical } = this.props;\n\n        if (!this.getIsSlider()) {\n            return children;\n        }\n\n        return (\n            <Draggable\n              mix={ { block: 'Slider', elem: 'Wrapper', mods: { isVertical } } }\n              draggableRef={ this.draggableRef }\n              onDragStart={ this.handleDragStart }\n              onDragEnd={ this.handleDragEnd }\n              onDrag={ this.handleDrag }\n              onClick={ this.handleClick }\n              shiftX={ -activeImage * this.getSlideWidth() }\n              shiftY={ -activeImage * this.getSlideWidth() }\n            >\n                { children }\n            </Draggable>\n        );\n    }\n\n    render() {\n        const {\n            showCrumbs,\n            mix\n        } = this.props;\n\n        return (\n            <div\n              block=\"Slider\"\n              mix={ mix }\n              ref={ this.getSliderRef() }\n            >\n                { this.renderSliderContent() }\n                { showCrumbs && this.renderCrumbs() }\n            </div>\n        );\n    }\n}\n\nexport default Slider;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const ANIMATION_DURATION = 300;\nexport const HEIGHT_TRANSITION_SPEED_ON_MOUNT = 300;\nexport const ACTIVE_SLIDE_PERCENT = 0.1;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { OptionsType } from 'Type/ProductList';\n\nimport ProductCustomizableOptions from './ProductCustomizableOptions.component';\n\n/** @namespace Component/ProductCustomizableOptions/Container */\nexport class ProductCustomizableOptionsContainer extends PureComponent {\n    static propTypes = {\n        options: OptionsType,\n        getSelectedCustomizableOptions: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        options: []\n    };\n\n    state = {\n        isLoading: true,\n        selectedCheckboxValues: [],\n        selectedDropdownOptions: [],\n        textFieldValues: [],\n        fileFieldValues: []\n    };\n\n    containerFunctions = {\n        setSelectedDropdownValue: this.setSelectedDropdownValue.bind(this),\n        setSelectedCheckboxValues: this.setSelectedCheckboxValues.bind(this),\n        setCustomizableOptionTextFieldValue: this.setCustomizableOptionTextFieldValue.bind(this),\n        setCustomizableOptionFileFieldValue: this.setCustomizableOptionFileFieldValue.bind(this)\n    };\n\n    componentDidMount() {\n        const { options } = this.props;\n\n        if (options) {\n            this.stopLoading();\n        }\n    }\n\n    componentDidUpdate(_, prevState) {\n        const { options } = this.props;\n        const {\n            selectedCheckboxValues,\n            selectedDropdownOptions,\n            textFieldValues,\n            fileFieldValues,\n            isLoading\n        } = this.state;\n\n        const {\n            selectedCheckboxValues: prevSelectedCheckboxValues,\n            selectedDropdownOptions: prevSelectedDropdownOptions,\n            textFieldValues: prevTextFieldValues,\n            fileFieldValues: prevFileFieldValues\n        } = prevState;\n\n        if (options && isLoading) {\n            this.stopLoading();\n        }\n\n        if (selectedCheckboxValues !== prevSelectedCheckboxValues) {\n            this.updateSelectedOptionsArray();\n        }\n\n        if (textFieldValues !== prevTextFieldValues\n            || selectedDropdownOptions !== prevSelectedDropdownOptions\n        ) {\n            this.updateSelectedOptions();\n        }\n\n        if (fileFieldValues !== prevFileFieldValues) {\n            this.updateSelectedOptions();\n        }\n    }\n\n    stopLoading() {\n        this.setState({ isLoading: false });\n    }\n\n    updateSelectedOptionsArray() {\n        const { getSelectedCustomizableOptions } = this.props;\n        const { selectedCheckboxValues } = this.state;\n        getSelectedCustomizableOptions(selectedCheckboxValues, true);\n    }\n\n    updateSelectedOptions() {\n        const { getSelectedCustomizableOptions } = this.props;\n        const {\n            selectedDropdownOptions,\n            textFieldValues,\n            fileFieldValues\n        } = this.state;\n        const customizableOptions = [];\n\n        customizableOptions.push(\n            ...customizableOptions,\n            ...textFieldValues,\n            ...selectedDropdownOptions,\n            ...fileFieldValues\n        );\n\n        getSelectedCustomizableOptions(customizableOptions);\n    }\n\n    setCustomizableOptionTextFieldValue(option_id, option_value) {\n        const { textFieldValues } = this.state;\n\n        if (!option_value) {\n            const filteredOptions = textFieldValues.filter((item) => item.option_id !== option_id);\n            return this.setState({ textFieldValues: filteredOptions });\n        }\n\n        const textFieldValue = { option_id, option_value };\n\n        if (textFieldValues.some(({ option_id: val }) => option_id === val)) {\n            const filteredItems = textFieldValues.filter((value) => value.option_id !== option_id);\n            return this.setState({ textFieldValues: filteredItems.concat(textFieldValue) });\n        }\n\n        return this.setState({ textFieldValues: [...textFieldValues, textFieldValue] });\n    }\n\n    setCustomizableOptionFileFieldValue(value, option, filename) {\n        const { option_id } = option;\n\n        return this.setState({ fileFieldValues: [{ option_id, option_value: value, option_filename: filename }] });\n    }\n\n    setSelectedDropdownValue(value, option) {\n        const { selectedDropdownOptions } = this.state;\n        const { option_id } = option;\n\n        if (!value) {\n            const filteredOptions = selectedDropdownOptions.filter((item) => item.option_id !== option_id);\n            return this.setState({ selectedDropdownOptions: filteredOptions });\n        }\n\n        const optionData = { option_id, option_value: value };\n\n        if (selectedDropdownOptions.some(({ option_id: val }) => option_id === val)) {\n            const filteredItems = selectedDropdownOptions.filter((value) => value.option_id !== option_id);\n            return this.setState({ selectedDropdownOptions: filteredItems.concat(optionData) });\n        }\n\n        return this.setState({\n            selectedDropdownOptions:\n                [...selectedDropdownOptions, optionData]\n        });\n    }\n\n    setSelectedCheckboxValues(option_id, option_value) {\n        const { selectedCheckboxValues } = this.state;\n        const selectedValue = { option_id, option_value };\n\n        if (selectedCheckboxValues.some(({ option_value: val }) => option_value === val)) {\n            this.setState({\n                selectedCheckboxValues: selectedCheckboxValues.filter(\n                    (value) => value.option_value !== option_value\n                ) || []\n            });\n\n            return;\n        }\n\n        this.setState({\n            selectedCheckboxValues: [...selectedCheckboxValues, selectedValue]\n        });\n    }\n\n    render() {\n        return (\n            <ProductCustomizableOptions\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default ProductCustomizableOptionsContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { ONE_HUNDRED_PERCENT } from 'Component/ProductActions/ProductActions.config';\nimport { showNotification } from 'Store/Notification/Notification.action';\nimport { PriceType } from 'Type/ProductList';\nimport { formatPrice } from 'Util/Price';\n\nimport ProductCustomizableOption from './ProductCustomizableOption.component';\n\n/** @namespace Component/ProductCustomizableOption/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    showNotification: (type, message) => dispatch(showNotification(type, message))\n});\n\n/** @namespace Component/ProductCustomizableOption/Container/mapStateToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapStateToProps = () => ({});\n\n/** @namespace Component/ProductCustomizableOption/Container */\nexport class ProductCustomizableOptionContainer extends PureComponent {\n    static propTypes = {\n        option: PropTypes.object.isRequired,\n        productOptionsData: PropTypes.object.isRequired,\n        setSelectedCheckboxValues: PropTypes.func.isRequired,\n        setCustomizableOptionTextFieldValue: PropTypes.func.isRequired,\n        setCustomizableOptionFileFieldValue: PropTypes.func.isRequired,\n        setSelectedDropdownValue: PropTypes.func.isRequired,\n        showNotification: PropTypes.func.isRequired,\n        price_range: PriceType.isRequired,\n        type_id: PropTypes.string.isRequired\n    };\n\n    state = {\n        textValue: '',\n        selectedDropdownValue: 0,\n        textFieldValid: null\n    };\n\n    containerFunctions = {\n        getDropdownOptions: this.getDropdownOptions.bind(this),\n        getSelectedCheckboxValue: this.getSelectedCheckboxValue.bind(this),\n        updateTextFieldValue: this.updateTextFieldValue.bind(this),\n        setDropdownValue: this.setDropdownValue.bind(this),\n        processFileUpload: this.processFileUpload.bind(this),\n        renderOptionLabel: this.renderOptionLabel.bind(this)\n    };\n\n    containerProps = () => ({\n        optionType: this.getOptionType(),\n        requiredSelected: this.getIsRequiredSelected()\n    });\n\n    getOptionType() {\n        const { option } = this.props;\n        const { type } = option;\n\n        return type;\n    }\n\n    getIsRequiredSelected() {\n        const {\n            productOptionsData,\n            productOptionsData: {\n                requiredOptions,\n                productOptions,\n                productOptionsMulti\n            },\n            option: {\n                option_id\n            }\n        } = this.props;\n\n        if (Object.keys(productOptionsData).length < 1 || !requiredOptions) {\n            return true;\n        }\n\n        const selectedItems = [...productOptions || [], ...productOptionsMulti || []];\n        const isRequired = requiredOptions.reduce((acc, item) => {\n            if (item === option_id) {\n                acc.push(item);\n            }\n\n            return acc;\n        }, []);\n\n        if (!isRequired.length) {\n            return true;\n        }\n\n        const isRequiredSelected = selectedItems.reduce((acc, { option_id }) => {\n            if (isRequired[0] === option_id) {\n                acc.push(option_id);\n            }\n\n            return acc;\n        }, []);\n\n        return !!isRequiredSelected.length;\n    }\n\n    renderOptionLabel(priceType, price, currency) {\n        const {\n            price_range: {\n                minimum_price: {\n                    default_final_price_excl_tax: {\n                        value = 0\n                    } = {}\n                } = {}\n            } = {}\n        } = this.props;\n\n        const finalPriceSource = price === 0 ? value : price;\n        const finalPrice = formatPrice(finalPriceSource, currency);\n\n        switch (priceType) {\n        case 'PERCENT':\n            const percentPrice = formatPrice((finalPriceSource / ONE_HUNDRED_PERCENT) * value, currency);\n            return `${percentPrice} (${ price }%)`;\n        default:\n            return finalPrice;\n        }\n    }\n\n    getSelectedCheckboxValue(value) {\n        const { option, setSelectedCheckboxValues } = this.props;\n        const { option_id } = option;\n\n        setSelectedCheckboxValues(option_id, value);\n    }\n\n    updateTextFieldValue(value) {\n        const { option, setCustomizableOptionTextFieldValue } = this.props;\n        const { option_id, required } = option;\n\n        setCustomizableOptionTextFieldValue(option_id, value);\n        this.setState({\n            fieldValue: value,\n            textFieldValid: required ? value.length > 0 : true\n        });\n    }\n\n    setDropdownValue(value) {\n        const { setSelectedDropdownValue, option } = this.props;\n        const { selectedDropdownValue } = this.state;\n\n        if (selectedDropdownValue === value) {\n            setSelectedDropdownValue(null, option);\n            this.setState({ selectedDropdownValue: 0 });\n        } else {\n            setSelectedDropdownValue(value, option);\n            this.setState({ selectedDropdownValue: parseInt(value, 10) });\n        }\n    }\n\n    getDropdownOptions(values) {\n        return values.reduce((acc, {\n            option_type_id, title, price, price_type, currency\n        }) => {\n            acc.push({\n                id: option_type_id,\n                name: title,\n                value: option_type_id,\n                label: `${title} + ${this.renderOptionLabel(price_type, price, currency)}`\n            });\n\n            return acc;\n        }, []);\n    }\n\n    processFileUpload(values) {\n        const {\n            option,\n            option: { data: { file_extension = '' } },\n            setCustomizableOptionFileFieldValue,\n            showNotification\n        } = this.props;\n        const { type = '', name } = values;\n\n        if (file_extension && !file_extension.split(', ').some((fileType) => type.includes(fileType))) {\n            showNotification('error', __('File type is incorrect'));\n\n            return false;\n        }\n\n        const reader = new FileReader();\n        // eslint-disable-next-line func-names\n        reader.onloadend = function () {\n            setCustomizableOptionFileFieldValue(reader.result, option, name);\n        };\n\n        reader.readAsDataURL(values);\n\n        return true;\n    }\n\n    render() {\n        return (\n            <ProductCustomizableOption\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductCustomizableOptionContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const CHECKBOX = 'checkbox';\nexport const MULTI = 'multi';\nexport const SELECT = 'select';\nexport const RADIO = 'radio';\n\nexport const PRICE_TYPE_PERCENT = 'PERCENT';\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const MAX_ZOOM_SCALE = 8;\n\nexport const IMAGE_TYPE = 'image';\nexport const VIDEO_TYPE = 'external-video';\nexport const PLACEHOLDER_TYPE = 'placeholder';\n\nexport const THUMBNAIL_KEY = 'small_image';\nexport const AMOUNT_OF_PLACEHOLDERS = 0;\n\nexport const PRODUCT_GALERY_POPUP_ID = 'ProductGalleryPopup';\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const VIDEO_POPUP_ID = 'VIDEO_POPUP_ID';\n\n/**\n * An expression that checks for vimeo URLs described in https://developer.vimeo.com/api/oembed/videos#table-1 and matches the video id\n * @type {RegExp}\n */\nexport const VIMEO_FORMAT = new RegExp('(?:https?//)?vimeo.com[\\\\w/]*/(\\\\d+)$');\nexport const YOUTUBE_FORMAT = new RegExp('(?:https?//)?www.youtube.com/watch\\\\?v=(\\\\w+)');\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\n\nimport { PRODUCT_IN_STOCK, PRODUCT_OUT_OF_STOCK } from 'Component/CartItem/CartItem.config';\nimport { PDP } from 'Component/Header/Header.config';\nimport { MENU_TAB } from 'Component/NavigationTabs/NavigationTabs.config';\nimport { LOADING_TIME } from 'Route/CategoryPage/CategoryPage.config';\nimport { changeNavigationState, goToPreviousNavigationState } from 'Store/Navigation/Navigation.action';\nimport { BOTTOM_NAVIGATION_TYPE, TOP_NAVIGATION_TYPE } from 'Store/Navigation/Navigation.reducer';\nimport { setBigOfflineNotice } from 'Store/Offline/Offline.action';\nimport { addRecentlyViewedProduct } from 'Store/RecentlyViewedProducts/RecentlyViewedProducts.action';\nimport { HistoryType, LocationType, MatchType } from 'Type/Common';\nimport { ProductType } from 'Type/ProductList';\nimport { getVariantIndex } from 'Util/Product';\nimport { debounce } from 'Util/Request';\nimport {\n    convertQueryStringToKeyValuePairs,\n    objectToUri,\n    removeQueryParamWithoutHistory,\n    updateQueryParamWithoutHistory\n} from 'Util/Url';\n\nimport ProductPage from './ProductPage.component';\n\nexport const BreadcrumbsDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Breadcrumbs/Breadcrumbs.dispatcher'\n);\n\nexport const MetaDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Meta/Meta.dispatcher'\n);\n\nexport const ProductDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Product/Product.dispatcher'\n);\n\n/** @namespace Route/ProductPage/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isOffline: state.OfflineReducer.isOffline,\n    product: state.ProductReducer.product,\n    navigation: state.NavigationReducer[TOP_NAVIGATION_TYPE],\n    metaTitle: state.MetaReducer.title,\n    device: state.ConfigReducer.device,\n    store: state.ConfigReducer.code\n});\n\n/** @namespace Route/ProductPage/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    changeHeaderState: (state) => dispatch(changeNavigationState(TOP_NAVIGATION_TYPE, state)),\n    changeNavigationState: (state) => dispatch(changeNavigationState(BOTTOM_NAVIGATION_TYPE, state)),\n    requestProduct: (options) => {\n        // TODO: check linked products, there might be issues :'(\n        ProductDispatcher.then(\n            ({ default: dispatcher }) => dispatcher.handleData(dispatch, options)\n        );\n    },\n    setBigOfflineNotice: (isBig) => dispatch(setBigOfflineNotice(isBig)),\n    updateBreadcrumbs: (breadcrumbs, prevCategoryId) => BreadcrumbsDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.updateWithProduct(breadcrumbs, prevCategoryId, dispatch)\n    ),\n    updateMetaFromProduct: (product) => MetaDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.updateWithProduct(product, dispatch)\n    ),\n    goToPreviousNavigationState: (state) => dispatch(goToPreviousNavigationState(TOP_NAVIGATION_TYPE, state)),\n    addRecentlyViewedProduct: (product, store) => dispatch(addRecentlyViewedProduct(product, store))\n});\n\n/** @namespace Route/ProductPage/Container */\nexport class ProductPageContainer extends PureComponent {\n    state = {\n        configurableVariantIndex: -1,\n        parameters: {},\n        productOptionsData: {},\n        selectedInitialBundlePrice: 0,\n        selectedBundlePrice: 0,\n        selectedBundlePriceExclTax: 0,\n        selectedLinkPrice: 0,\n        currentProductSKU: ''\n    };\n\n    containerFunctions = {\n        updateConfigurableVariant: this.updateConfigurableVariant.bind(this),\n        getLink: this.getLink.bind(this),\n        getSelectedCustomizableOptions: this.getSelectedCustomizableOptions.bind(this),\n        setBundlePrice: this.setBundlePrice.bind(this),\n        setLinkedDownloadables: this.setLinkedDownloadables.bind(this),\n        setLinkedDownloadablesPrice: this.setLinkedDownloadablesPrice.bind(this),\n        isProductInformationTabEmpty: this.isProductInformationTabEmpty.bind(this),\n        isProductAttributesTabEmpty: this.isProductAttributesTabEmpty.bind(this)\n    };\n\n    static propTypes = {\n        location: LocationType,\n        changeHeaderState: PropTypes.func.isRequired,\n        setBigOfflineNotice: PropTypes.func.isRequired,\n        changeNavigationState: PropTypes.func.isRequired,\n        updateMetaFromProduct: PropTypes.func.isRequired,\n        updateBreadcrumbs: PropTypes.func.isRequired,\n        requestProduct: PropTypes.func.isRequired,\n        isOffline: PropTypes.bool.isRequired,\n        productSKU: PropTypes.string,\n        product: ProductType.isRequired,\n        history: HistoryType.isRequired,\n        match: MatchType.isRequired,\n        goToPreviousNavigationState: PropTypes.func.isRequired,\n        navigation: PropTypes.shape(PropTypes.shape).isRequired,\n        metaTitle: PropTypes.string,\n        addRecentlyViewedProduct: PropTypes.func.isRequired,\n        store: PropTypes.string.isRequired\n    };\n\n    static defaultProps = {\n        location: { state: {} },\n        productSKU: '',\n        metaTitle: undefined\n    };\n\n    static getDerivedStateFromProps(props, state) {\n        const {\n            product: {\n                sku,\n                variants,\n                configurable_options,\n                options,\n                productOptionsData\n            },\n            location: { search }\n        } = props;\n\n        const {\n            currentProductSKU: prevSKU,\n            productOptionsData: prevOptionData\n        } = state;\n\n        const currentProductSKU = prevSKU === sku ? '' : prevSKU;\n\n        /**\n         * If the product we expect to load is loaded -\n         * reset expected SKU\n         */\n        if (!configurable_options && !variants) {\n            return {\n                currentProductSKU\n            };\n        }\n\n        const parameters = Object.entries(convertQueryStringToKeyValuePairs(search))\n            .reduce((acc, [key, value]) => {\n                if (key in configurable_options) {\n                    return { ...acc, [key]: value };\n                }\n\n                return acc;\n            }, {});\n\n        if (Object.keys(parameters).length !== Object.keys(configurable_options).length) {\n            return {\n                parameters,\n                currentProductSKU\n            };\n        }\n\n        const configurableVariantIndex = getVariantIndex(variants, parameters);\n\n        const newOptionsData = options.reduce((acc, { option_id, required }) => {\n            if (required) {\n                acc.push(option_id);\n            }\n\n            return acc;\n        }, []);\n\n        const prevRequiredOptions = productOptionsData?.requiredOptions || [];\n        const requiredOptions = [...prevRequiredOptions, ...newOptionsData];\n\n        return {\n            parameters,\n            currentProductSKU,\n            configurableVariantIndex,\n            productOptionsData: {\n                ...prevOptionData, ...productOptionsData, requiredOptions\n            }\n        };\n    }\n\n    componentDidMount() {\n        /**\n         * Always make sure the navigation switches into the MENU tab\n         * */\n        this.updateNavigationState();\n\n        /**\n         * Ensure transition PDP => homepage => PDP always having proper meta\n         */\n        this.updateMeta();\n\n        /**\n         * Make sure to update header state, the data-source will\n         * define the correct information to use for update\n         * (it can be a product, history state product or an empty object).\n         */\n        this.updateHeaderState();\n        this.updateBreadcrumbs();\n\n        /**\n         * Scroll page top in order to display it from the start\n         */\n        this.scrollTop();\n    }\n\n    componentDidUpdate(prevProps) {\n        const {\n            isOffline,\n            productSKU,\n            product: {\n                sku,\n                options,\n                items\n            }\n        } = this.props;\n\n        const {\n            productSKU: prevProductSKU,\n            product: {\n                sku: prevSku,\n                options: prevOptions,\n                items: prevItems\n            }\n        } = prevProps;\n\n        const { sku: stateSKU } = history?.state?.state?.product || {};\n\n        if (isOffline) {\n            debounce(this.setOfflineNoticeSize, LOADING_TIME)();\n        }\n\n        /**\n         * We should also update product based data if, the URL\n         * rewrite SKU has changed to matching the product history SKU\n         * one. At this point there could be sufficient data for\n         * some updates (i.e. header state).\n         */\n        if (\n            productSKU !== prevProductSKU\n            && stateSKU === productSKU\n        ) {\n            this.updateHeaderState();\n        }\n\n        /**\n         * If the currently loaded category ID does not match the ID of\n         * category ID from URL rewrite, request category.\n         */\n        if (productSKU !== sku) {\n            this.requestProduct();\n        }\n\n        /**\n         * If product ID was changed => it is loaded => we need to\n         * update product specific information, i.e. breadcrumbs.\n         */\n        if (sku !== prevSku) {\n            this.updateBreadcrumbs();\n            this.updateHeaderState();\n            this.updateMeta();\n        }\n\n        /**\n         * LEGACY: needed to make sure required items are\n         * selected in the bundle product.\n         */\n        if (JSON.stringify(options) !== JSON.stringify(prevOptions)) {\n            this.getRequiredProductOptions(options);\n        }\n\n        /**\n         * LEGACY needed to make sure required options are\n         * selected in the customizable options product.\n         */\n        if (JSON.stringify(items) !== JSON.stringify(prevItems)) {\n            this.getRequiredProductOptions(items);\n        }\n\n        this._addToRecentlyViewedProducts();\n    }\n\n    isProductInformationTabEmpty() {\n        const dataSource = this.getDataSource();\n\n        return dataSource?.description?.html?.length === 0;\n    }\n\n    isProductAttributesTabEmpty() {\n        const dataSource = this.getDataSource();\n\n        return Object.keys(dataSource?.attributes || {}).length === 0;\n    }\n\n    _addToRecentlyViewedProducts() {\n        const {\n            product,\n            product: { sku },\n            addRecentlyViewedProduct,\n            store\n        } = this.props;\n\n        // necessary for skipping not loaded products\n        if (!sku) {\n            return;\n        }\n\n        // push into localstorage only preview of product (image, name and etc)\n        const {\n            canonical_url,\n            categories,\n            configurable_options,\n            description,\n            items,\n            meta_description,\n            meta_keyword,\n            meta_title,\n            options,\n            product_links,\n            reviews,\n            short_description,\n            variants,\n            ...productPreview\n        } = product;\n\n        addRecentlyViewedProduct(productPreview, store);\n    }\n\n    scrollTop() {\n        window.scrollTo(0, 0);\n    }\n\n    setOfflineNoticeSize = () => {\n        const { setBigOfflineNotice, productSKU } = this.props;\n        const { sku } = this.getDataSource();\n\n        /**\n         * If there is any information about the product, in example,\n         * we know it's URL-rewrite SKU is matching the product SKU -\n         * show the small offline notice, else - show larger one.\n         */\n        if (sku !== productSKU) {\n            setBigOfflineNotice(true);\n        } else {\n            setBigOfflineNotice(false);\n        }\n    };\n\n    getLink(key, value) {\n        const { location: { search, pathname } } = this.props;\n        const obj = {\n            ...convertQueryStringToKeyValuePairs(search)\n        };\n\n        if (key) {\n            obj[key] = value;\n        }\n\n        const query = objectToUri(obj);\n\n        return `${pathname}${query}`;\n    }\n\n    getRequiredProductOptions(options) {\n        const { productOptionsData } = this.state;\n\n        if (!options) {\n            return [];\n        }\n        const requiredOptions = options.reduce((acc, { option_id, required }) => {\n            if (required) {\n                acc.push(option_id);\n            }\n\n            return acc;\n        }, []);\n\n        return this.setState({\n            productOptionsData:\n                { ...productOptionsData, requiredOptions }\n        });\n    }\n\n    setLinkedDownloadablesPrice(price) {\n        this.setState({\n            selectedLinkPrice: price\n        });\n    }\n\n    setBundlePrice(prices) {\n        const { price = 0, priceExclTax = 0, finalPrice = 0 } = prices;\n        this.setState({\n            selectedInitialBundlePrice: price,\n            selectedBundlePrice: finalPrice,\n            selectedBundlePriceExclTax: priceExclTax\n        });\n    }\n\n    setLinkedDownloadables(links) {\n        const { productOptionsData } = this.state;\n        this.setState({\n            productOptionsData: {\n                ...productOptionsData, downloadableLinks: links\n            }\n        });\n    }\n\n    getSelectedCustomizableOptions(values, updateArray = false) {\n        const { productOptionsData } = this.state;\n\n        if (updateArray) {\n            this.setState({\n                productOptionsData:\n                    { ...productOptionsData, productOptionsMulti: values }\n            });\n        } else {\n            this.setState({\n                productOptionsData:\n                    { ...productOptionsData, productOptions: values }\n            });\n        }\n    }\n\n    getIsConfigurableParameterSelected(parameters, key, value) {\n        return Object.hasOwnProperty.call(parameters, key) && parameters[key] === value;\n    }\n\n    getNewParameters(key, value) {\n        const { parameters } = this.state;\n\n        // If value is already selected, than we remove the key to achieve deselection\n        if (this.getIsConfigurableParameterSelected(parameters, key, value)) {\n            const { [key]: oldValue, ...newParameters } = parameters;\n\n            return newParameters;\n        }\n\n        return {\n            ...parameters,\n            [key]: value.toString()\n        };\n    }\n\n    containerProps = () => ({\n        productOrVariant: this.getProductOrVariant(),\n        dataSource: this.getDataSource(),\n        areDetailsLoaded: this.getAreDetailsLoaded(),\n        isInformationTabEmpty: this.isProductInformationTabEmpty(),\n        isAttributesTabEmpty: this.isProductAttributesTabEmpty()\n    });\n\n    updateConfigurableVariant(key, value) {\n        const parameters = this.getNewParameters(key, value);\n        this.setState({ parameters });\n\n        this.updateUrl(key, value, parameters);\n        this.updateConfigurableVariantIndex(parameters);\n    }\n\n    updateUrl(key, value, parameters) {\n        const { location, history } = this.props;\n\n        const isParameterSelected = this.getIsConfigurableParameterSelected(parameters, key, value);\n\n        if (isParameterSelected) {\n            updateQueryParamWithoutHistory(key, value, history, location);\n        } else {\n            removeQueryParamWithoutHistory(key, history, location);\n        }\n    }\n\n    updateConfigurableVariantIndex(parameters) {\n        const { product: { variants, configurable_options } } = this.props;\n        const { configurableVariantIndex } = this.state;\n\n        const newIndex = Object.keys(parameters).length === Object.keys(configurable_options).length\n            ? getVariantIndex(variants, parameters)\n            // Not all parameters are selected yet, therefore variantIndex must be invalid\n            : -1;\n\n        if (configurableVariantIndex !== newIndex) {\n            this.setState({ configurableVariantIndex: newIndex });\n        }\n    }\n\n    getAreDetailsLoaded() {\n        const { product } = this.props;\n        const dataSource = this.getDataSource();\n        return dataSource === product;\n    }\n\n    getProductOrVariant() {\n        const dataSource = this.getDataSource();\n        const { variants } = dataSource;\n        const currentVariantIndex = this.getConfigurableVariantIndex(variants);\n        const variant = variants && variants[currentVariantIndex];\n\n        if (variants?.length > 0) {\n            dataSource.stock_status = variants.some((v) => v.stock_status === PRODUCT_IN_STOCK)\n                ? PRODUCT_IN_STOCK\n                : PRODUCT_OUT_OF_STOCK;\n        }\n\n        return variant || dataSource;\n    }\n\n    getConfigurableVariantIndex(variants) {\n        const { configurableVariantIndex, parameters } = this.state;\n        const hasParameters = !!Object.keys(parameters).length;\n\n        if (configurableVariantIndex >= 0) {\n            return configurableVariantIndex;\n        }\n\n        if (variants && hasParameters) {\n            return getVariantIndex(variants, parameters);\n        }\n\n        return -1;\n    }\n\n    getDataSource() {\n        const {\n            productSKU,\n            product\n        } = this.props;\n\n        const { sku } = product;\n        const { product: stateProduct } = history?.state?.state || {};\n        const { sku: stateSKU } = stateProduct || {};\n\n        /**\n         * If URL rewrite requested matches loaded product SKU\n         * assume it is a data-source.\n         */\n        if (productSKU === sku) {\n            return product;\n        }\n\n        /**\n         * If URL rewrite requested matches product SKU from\n         * history state - it is a data-source.\n         */\n        if (productSKU === stateSKU) {\n            return stateProduct;\n        }\n\n        /**\n         * Else there is no place to get a up-to-date\n         * information about the product from.\n         */\n        return {};\n    }\n\n    getProductRequestFilter() {\n        const { productSKU } = this.props;\n        return { productSKU };\n    }\n\n    requestProduct() {\n        const { requestProduct, productSKU } = this.props;\n        const { currentProductSKU } = this.state;\n\n        /**\n         * If URL rewrite was not passed - do not request the product.\n         */\n        if (!productSKU) {\n            return;\n        }\n\n        /**\n         * Skip loading the same product SKU the second time\n         */\n        if (currentProductSKU === productSKU) {\n            return;\n        }\n\n        this.setState({ currentProductSKU: productSKU });\n\n        const options = {\n            isSingleProduct: true,\n            args: { filter: this.getProductRequestFilter() }\n        };\n\n        requestProduct(options);\n    }\n\n    updateNavigationState() {\n        const { changeNavigationState } = this.props;\n        changeNavigationState({ name: MENU_TAB });\n    }\n\n    updateMeta() {\n        const { updateMetaFromProduct } = this.props;\n        updateMetaFromProduct(this.getDataSource());\n    }\n\n    updateHeaderState() {\n        const { name = '' } = this.getDataSource();\n        const { changeHeaderState } = this.props;\n\n        changeHeaderState({\n            name: PDP,\n            title: name,\n            onBackClick: () => history.back()\n        });\n    }\n\n    updateBreadcrumbs() {\n        const { updateBreadcrumbs, location } = this.props;\n        const { state: { prevCategoryId = null } = {} } = location;\n        updateBreadcrumbs(this.getDataSource(), prevCategoryId);\n    }\n\n    render() {\n        return (\n            <ProductPage\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default withRouter(\n    connect(mapStateToProps, mapDispatchToProps)(ProductPageContainer)\n);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { PRODUCT_OUT_OF_STOCK } from 'Component/CartItem/CartItem.config';\nimport { ProductType } from 'Type/ProductList';\nimport {\n    BUNDLE,\n    CONFIGURABLE,\n    DOWNLOADABLE,\n    GROUPED\n} from 'Util/Product';\n\nimport ProductActions from './ProductActions.component';\nimport { DEFAULT_MAX_PRODUCTS, ONE_HUNDRED_PERCENT } from './ProductActions.config';\n\n/** @namespace Component/ProductActions/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    groupedProductQuantity: state.ProductReducer.groupedProductQuantity,\n    device: state.ConfigReducer.device,\n    displayProductStockStatus: state.ConfigReducer.display_product_stock_status,\n    isWishlistEnabled: state.ConfigReducer.wishlist_general_active\n});\n\n/** @namespace Component/ProductActions/Container */\nexport class ProductActionsContainer extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        productOrVariant: PropTypes.object.isRequired,\n        configurableVariantIndex: PropTypes.number.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired,\n        productOptionsData: PropTypes.objectOf(PropTypes.array).isRequired,\n        parameters: PropTypes.objectOf(PropTypes.string).isRequired,\n        selectedInitialBundlePrice: PropTypes.number.isRequired,\n        selectedBundlePrice: PropTypes.number.isRequired,\n        selectedBundlePriceExclTax: PropTypes.number.isRequired,\n        selectedLinkPrice: PropTypes.number.isRequired,\n        getLink: PropTypes.func.isRequired,\n        isWishlistEnabled: PropTypes.bool.isRequired\n    };\n\n    static getMinQuantity(props) {\n        const {\n            product: { stock_item: { min_sale_qty } = {}, variants } = {},\n            configurableVariantIndex\n        } = props;\n\n        if (!min_sale_qty) {\n            return 1;\n        }\n        if (!configurableVariantIndex && !variants) {\n            return min_sale_qty;\n        }\n\n        const { stock_item: { min_sale_qty: minVariantQty } = {} } = variants[configurableVariantIndex] || {};\n\n        return minVariantQty || min_sale_qty;\n    }\n\n    static getMaxQuantity(props) {\n        const {\n            product: {\n                stock_item: {\n                    max_sale_qty\n                } = {},\n                variants\n            } = {},\n            configurableVariantIndex\n        } = props;\n\n        if (!max_sale_qty) {\n            return DEFAULT_MAX_PRODUCTS;\n        }\n\n        if (configurableVariantIndex === -1 || !Object.keys(variants).length) {\n            return max_sale_qty;\n        }\n\n        const {\n            stock_item: {\n                max_sale_qty: maxVariantQty\n            } = {}\n        } = variants[configurableVariantIndex] || {};\n\n        return maxVariantQty || max_sale_qty;\n    }\n\n    state = {\n        quantity: 1,\n        groupedProductQuantity: {}\n    };\n\n    containerFunctions = {\n        showOnlyIfLoaded: this.showOnlyIfLoaded.bind(this),\n        onProductValidationError: this.onProductValidationError.bind(this),\n        getIsOptionInCurrentVariant: this.getIsOptionInCurrentVariant.bind(this),\n        setQuantity: this.setQuantity.bind(this),\n        setGroupedProductQuantity: this._setGroupedProductQuantity.bind(this),\n        clearGroupedProductQuantity: this._clearGroupedProductQuantity.bind(this),\n        getIsConfigurableAttributeAvailable: this.getIsConfigurableAttributeAvailable.bind(this)\n    };\n\n    static getDerivedStateFromProps(props, state) {\n        const { quantity } = state;\n        const minQty = ProductActionsContainer.getMinQuantity(props);\n        const maxQty = ProductActionsContainer.getMaxQuantity(props);\n\n        if (quantity < minQty) {\n            return { quantity: minQty };\n        }\n        if (quantity > maxQty) {\n            return { quantity: maxQty };\n        }\n\n        return null;\n    }\n\n    onConfigurableProductError = this.onProductError.bind(this, this.configurableOptionsRef);\n\n    onGroupedProductError = this.onProductError.bind(this, this.groupedProductsRef);\n\n    onProductError(ref) {\n        if (!ref) {\n            return;\n        }\n        const { current } = ref;\n\n        current.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center'\n        });\n\n        current.classList.remove('animate');\n        // eslint-disable-next-line no-unused-expressions\n        current.offsetWidth; // trigger a DOM reflow\n        current.classList.add('animate');\n    }\n\n    onProductValidationError(type) {\n        switch (type) {\n        case CONFIGURABLE:\n            this.onConfigurableProductError();\n            break;\n        case GROUPED:\n            this.onGroupedProductError();\n            break;\n        default:\n            break;\n        }\n    }\n\n    setQuantity(value) {\n        this.setState({ quantity: +value });\n    }\n\n    // TODO: make key=>value based\n    getIsOptionInCurrentVariant(attribute, value) {\n        const { configurableVariantIndex, product: { variants } } = this.props;\n        if (!variants) {\n            return false;\n        }\n\n        return variants[configurableVariantIndex].product[attribute] === value;\n    }\n\n    getIsConfigurableAttributeAvailable({ attribute_code, attribute_value }) {\n        const { parameters, product: { variants } } = this.props;\n\n        const isAttributeSelected = Object.hasOwnProperty.call(parameters, attribute_code);\n\n        // If value matches current attribute_value, option should be enabled\n        if (isAttributeSelected && parameters[attribute_code] === attribute_value) {\n            return true;\n        }\n\n        const parameterPairs = Object.entries(parameters);\n\n        const selectedAttributes = isAttributeSelected\n            // Need to exclude itself, otherwise different attribute_values of the same attribute_code will always be disabled\n            ? parameterPairs.filter(([key]) => key !== attribute_code)\n            : parameterPairs;\n\n        return variants\n            .some(({ stock_status, attributes }) => {\n                const { attribute_value: foundValue } = attributes[attribute_code] || {};\n\n                return (\n                    stock_status === 'IN_STOCK'\n                    // Variant must have currently checked attribute_code and attribute_value\n                    && foundValue === attribute_value\n                    // Variant must have all currently selected attributes\n                    && selectedAttributes.every(([key, value]) => attributes[key].attribute_value === value)\n                );\n            });\n    }\n\n    containerProps = () => ({\n        minQuantity: ProductActionsContainer.getMinQuantity(this.props),\n        maxQuantity: ProductActionsContainer.getMaxQuantity(this.props),\n        groupedProductQuantity: this._getGroupedProductQuantity(),\n        productPrice: this.getProductPrice(),\n        productName: this.getProductName(),\n        offerCount: this.getOfferCount(),\n        offerType: this.getOfferType(),\n        stockMeta: this.getStockMeta(),\n        metaLink: this.getMetaLink()\n    });\n\n    getProductName() {\n        const {\n            product,\n            product: { variants = [] },\n            configurableVariantIndex\n        } = this.props;\n\n        const {\n            name\n        } = variants[configurableVariantIndex] || product;\n\n        return name;\n    }\n\n    getMetaLink() {\n        const { getLink } = this.props;\n        return window.location.origin + getLink().replace(/\\?.*/, '');\n    }\n\n    getStockMeta() {\n        const {\n            product,\n            product: { variants = [] },\n            configurableVariantIndex\n        } = this.props;\n\n        const {\n            stock_status\n        } = variants[configurableVariantIndex] || product;\n\n        if (stock_status === PRODUCT_OUT_OF_STOCK) {\n            return 'https://schema.org/OutOfStock';\n        }\n\n        return 'https://schema.org/InStock';\n    }\n\n    getOfferType() {\n        const { product: { variants } } = this.props;\n\n        if (variants && variants.length >= 1) {\n            return 'https://schema.org/AggregateOffer';\n        }\n\n        return 'https://schema.org/Offer';\n    }\n\n    getOfferCount() {\n        const { product: { variants } } = this.props;\n\n        if (variants && variants.length) {\n            return variants.length;\n        }\n\n        return 0;\n    }\n\n    getSelectedOptions() {\n        const {\n            productOptionsData: {\n                productOptionsMulti = [],\n                productOptions = []\n            } = {}\n        } = this.props;\n\n        return [...productOptionsMulti, ...productOptions].map((productOption) => {\n            const { option_value } = productOption;\n\n            return parseInt(option_value, 10);\n        });\n    }\n\n    getSelectedOptionsMulti() {\n        const {\n            productOptionsData: {\n                productOptionsMulti = [],\n                productOptions = []\n            } = {}\n        } = this.props;\n\n        return [...productOptionsMulti, ...productOptions].map((productOption) => {\n            const { option_id } = productOption;\n\n            return parseInt(option_id, 10);\n        });\n    }\n\n    getCustomizablePrice() {\n        const {\n            product: {\n                options = [],\n                price_range: {\n                    minimum_price: {\n                        regular_price: {\n                            value: regularPrice = 0\n                        } = {},\n                        regular_price_excl_tax: {\n                            currency,\n                            value: regularPriceExclTax = 0\n                        } = {},\n                        default_final_price_excl_tax: {\n                            value: defaultFinalPriceExclTax = 0\n                        } = {},\n                        discount: {\n                            percent_off = 0\n                        } = {}\n                    } = {}\n                } = {}\n            } = {}\n        } = this.props;\n\n        const customPrice = this._getCustomPrice(regularPrice, regularPriceExclTax, false);\n\n        const {\n            minimum_price: {\n                final_price: {\n                    value: finalCustomPrice = 0\n                } = {},\n                final_price_excl_tax: {\n                    value: finalCustomPriceExclTax = 0\n                } = {},\n                regular_price: {\n                    value: regularCustomPrice = 0\n                } = {},\n                regular_price_excl_tax: {\n                    value: regularCustomPriceExclTax = 0\n                } = {}\n            } = {}\n        } = customPrice;\n\n        const selectedOptions = this.getSelectedOptions();\n        const selectedOptionsMulti = this.getSelectedOptionsMulti();\n\n        const prices = options.reduce((acc, { data = [], option_id, type }) => {\n            /*\n            * Such types contain a single item within data\n            * as those are looked up on the option_id\n            */\n            if (['area', 'field', 'file'].includes(type)) {\n                if (selectedOptionsMulti.includes(option_id)) {\n                    /*\n                    * Since such types only have a single value\n                    * we can get the price_type directly\n                    */\n                    const [{ price_type }] = data;\n\n                    if (price_type === 'PERCENT') {\n                        const price = (data[0].price * finalCustomPrice) / ONE_HUNDRED_PERCENT;\n                        acc.push(price);\n                    } else {\n                        acc.push(data[0].price);\n                    }\n                }\n\n                return acc;\n            }\n\n            data.forEach(({ option_type_id, price, price_type }) => {\n                if (selectedOptions.includes(option_type_id)) {\n                    if (price_type === 'PERCENT') {\n                        const finalPrice = (price * finalCustomPrice) / ONE_HUNDRED_PERCENT;\n                        acc.push(finalPrice);\n                    } else {\n                        acc.push(price);\n                    }\n                }\n            });\n\n            return acc;\n        }, []);\n\n        const selectedOptionsTotal = prices.reduce((a, b) => a + b, 0);\n        return {\n            minimum_price: {\n                final_price: {\n                    currency,\n                    value: selectedOptionsTotal + finalCustomPrice\n                },\n                discount: { percent_off },\n                default_final_price_excl_tax: { value: defaultFinalPriceExclTax },\n                regular_price: { value: selectedOptionsTotal + finalCustomPriceExclTax },\n                final_price_excl_tax: { value: selectedOptionsTotal + regularCustomPrice },\n                regular_price_excl_tax: { value: selectedOptionsTotal + regularCustomPriceExclTax }\n            }\n        };\n    }\n\n    getProductPrice() {\n        const {\n            product,\n            product: { variants = [], type_id, links_purchased_separately },\n            configurableVariantIndex,\n            selectedLinkPrice\n        } = this.props;\n\n        const { options = {} } = product;\n\n        const {\n            price_range\n        } = variants[configurableVariantIndex] || product;\n\n        if (type_id === BUNDLE) {\n            const {\n                selectedBundlePrice,\n                selectedBundlePriceExclTax,\n                selectedInitialBundlePrice,\n                product: { dynamic_price }\n            } = this.props;\n\n            return this._getBundleCustomPrice(\n                selectedBundlePrice,\n                selectedBundlePriceExclTax,\n                selectedInitialBundlePrice,\n                dynamic_price\n            );\n        }\n\n        if (type_id === DOWNLOADABLE && links_purchased_separately) {\n            return this._getCustomPrice(selectedLinkPrice, selectedLinkPrice, true);\n        }\n\n        if (Object.keys(options).length !== 0) {\n            return this.getCustomizablePrice();\n        }\n\n        return price_range;\n    }\n\n    _getCustomPrice(price, withoutTax, addBase = false) {\n        const {\n            product: {\n                price_range: {\n                    minimum_price: {\n                        regular_price: { currency = '', value = 0 } = {},\n                        regular_price_excl_tax: { value: value_excl_tax = 0 } = {},\n                        discount: { percent_off = 0 } = {}\n                    } = {}\n                } = {}\n            } = {}\n        } = this.props;\n\n        const discount = (1 - percent_off / ONE_HUNDRED_PERCENT);\n\n        const basePrice = addBase ? value : 0;\n        const basePriceExclTax = addBase ? value_excl_tax : 0;\n\n        const finalPrice = (basePrice + price) * discount;\n        const finalPriceExclTax = (basePriceExclTax + withoutTax) * discount;\n\n        const priceValue = { value: finalPrice, currency };\n        const priceValueExclTax = { value: finalPriceExclTax, currency };\n\n        return {\n            minimum_price: {\n                final_price: priceValue,\n                regular_price: priceValue,\n                final_price_excl_tax: priceValueExclTax,\n                regular_price_excl_tax: priceValueExclTax\n            }\n        };\n    }\n\n    _getBundleCustomPrice(price, withoutTax, initial, isDynamicPrice) {\n        const {\n            product: {\n                price_range: {\n                    minimum_price: {\n                        default_price: { currency, value: defaultPrice },\n                        default_final_price: { value: defaultFinalPrice },\n                        default_final_price_excl_tax: { value: defaultFinalPriceExclTax },\n                        discount: discountData,\n                        discount: { percent_off }\n                    }\n                }\n            }\n        } = this.props;\n\n        // If bundle product has dynamic price, it's own base price is always 0. For fix priced bundles price it's configurable\n        const addBase = !isDynamicPrice;\n\n        // Adjusting `discount` for bundle products for discount to be displayed on PDP\n        const priceBeforeDiscount = addBase ? defaultPrice : initial;\n        const priceAfterDiscount = addBase ? defaultFinalPrice : price;\n        const finalDiscount = !percent_off && defaultPrice !== defaultFinalPrice\n            ? {\n                percent_off: (ONE_HUNDRED_PERCENT * (priceBeforeDiscount - priceAfterDiscount)) / priceBeforeDiscount,\n                amount_off: priceBeforeDiscount - priceAfterDiscount\n            }\n            : discountData;\n\n        // Set initial price different from 0 for specific product types, i.e. downloadable, bundles with fixed price\n        const baseInitialPrice = addBase ? defaultPrice : 0;\n        const baseFinalPrice = addBase ? defaultFinalPrice : 0;\n        const basePriceExclTax = addBase ? defaultFinalPriceExclTax : 0;\n\n        const initialPrice = baseInitialPrice + initial;\n        const finalPrice = baseFinalPrice + price;\n        const finalPriceExclTax = basePriceExclTax + withoutTax;\n\n        const initialPriceValue = { value: initialPrice, currency };\n        const priceValue = { value: finalPrice, currency };\n        const priceValueExclTax = { value: finalPriceExclTax, currency };\n\n        return {\n            minimum_price: {\n                final_price: priceValue,\n                regular_price: initialPriceValue,\n                final_price_excl_tax: priceValueExclTax,\n                regular_price_excl_tax: initialPriceValue,\n                discount: finalDiscount\n            }\n        };\n    }\n\n    _getGroupedProductQuantity() {\n        const { groupedProductQuantity } = this.state;\n        return groupedProductQuantity;\n    }\n\n    _setGroupedProductQuantity(id, value) {\n        this.setState(({ groupedProductQuantity }) => ({\n            groupedProductQuantity: {\n                ...groupedProductQuantity,\n                [id]: value\n            }\n        }));\n    }\n\n    _clearGroupedProductQuantity() {\n        this.setState({ groupedProductQuantity: {} });\n    }\n\n    showOnlyIfLoaded(expression, content, placeholder = content) {\n        const { areDetailsLoaded } = this.props;\n\n        if (!areDetailsLoaded) {\n            return placeholder;\n        }\n        if (areDetailsLoaded && !expression) {\n            return null;\n        }\n\n        return content;\n    }\n\n    render() {\n        return (\n            <ProductActions\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerProps() }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\n/** @namespace Component/ProductActions/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductActionsContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport GroupedProductsItem from 'Component/GroupedProductsItem';\nimport { ProductType } from 'Type/ProductList';\n\n/**\n * Product description\n * @class GroupedProductList\n * @namespace Component/GroupedProductList/Component\n */\nexport class GroupedProductList extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        groupedProductQuantity: PropTypes.objectOf(PropTypes.number).isRequired,\n        clearGroupedProductQuantity: PropTypes.func.isRequired,\n        setGroupedProductQuantity: PropTypes.func.isRequired\n    };\n\n    componentWillUnmount() {\n        const { clearGroupedProductQuantity } = this.props;\n        clearGroupedProductQuantity();\n    }\n\n    renderProductList(items) {\n        const {\n            groupedProductQuantity,\n            setGroupedProductQuantity\n        } = this.props;\n\n        return (\n            <ul>\n                { items.map(({ product, product: { id } = {}, qty }) => (\n                    <GroupedProductsItem\n                      key={ id }\n                      product={ product }\n                      defaultQuantity={ qty }\n                      groupedProductQuantity={ groupedProductQuantity }\n                      setGroupedProductQuantity={ setGroupedProductQuantity }\n                    />\n                )) }\n            </ul>\n        );\n    }\n\n    render() {\n        const {\n            product: { items, type_id }\n        } = this.props;\n\n        if (type_id !== 'grouped') {\n            return null;\n        }\n        if (!items) {\n            return null;\n        }\n\n        return this.renderProductList(items);\n    }\n}\n\nexport default GroupedProductList;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { ProductType } from 'Type/ProductList';\n\nimport GroupedProductsItem from './GroupedProductsItem.component';\n\n/** @namespace Component/GroupedProductsItem/Container */\nexport class GroupedProductsItemContainer extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        groupedProductQuantity: PropTypes.objectOf(PropTypes.number).isRequired,\n        setGroupedProductQuantity: PropTypes.func.isRequired,\n        defaultQuantity: PropTypes.number.isRequired\n    };\n\n    containerFunctions = {\n        changeCount: this.changeCount.bind(this)\n    };\n\n    __construct(props) {\n        super.__construct(props);\n\n        const { defaultQuantity } = this.props;\n        this.changeCount(defaultQuantity);\n    }\n\n    containerProps = () => ({\n        itemCount: this._getCurrentQuantity()\n    });\n\n    /**\n     * Get the selected quantity of grouped product\n     * @return {Number} product quantity\n     */\n    _getCurrentQuantity() {\n        const {\n            product: { id },\n            groupedProductQuantity\n        } = this.props;\n\n        return groupedProductQuantity[id] || 0;\n    }\n\n    changeCount(itemCount) {\n        const { setGroupedProductQuantity, product: { id } } = this.props;\n        setGroupedProductQuantity(id, itemCount);\n    }\n\n    render() {\n        return (\n            <GroupedProductsItem\n              { ...this.props }\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default GroupedProductsItemContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nimport ProductCustomizableOptionsContainer\n    from 'Component/ProductCustomizableOptions/ProductCustomizableOptions.container';\nimport { ProductItemsType } from 'Type/ProductList';\n\nimport ProductBundleItems from './ProductBundleItems.component';\n\n/** @namespace Component/ProductBundleItems/Container */\nexport class ProductBundleItemsContainer extends ProductCustomizableOptionsContainer {\n    static propTypes = {\n        ...ProductCustomizableOptionsContainer.propTypes,\n        items: ProductItemsType,\n        setBundlePrice: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        items: []\n    };\n\n    containerFunctions = {\n        ...this.containerFunctions,\n        updateQuantity: this.updateQuantity.bind(this)\n    };\n\n    componentDidMount() {\n        const { items } = this.props;\n\n        if (items) {\n            this.stopLoading();\n        }\n    }\n\n    componentDidUpdate(_, prevState) {\n        const { items } = this.props;\n        const {\n            selectedCheckboxValues,\n            selectedDropdownOptions,\n            isLoading\n        } = this.state;\n\n        const {\n            selectedCheckboxValues: prevSelectedCheckboxValues,\n            selectedDropdownOptions: prevSelectedDropdownOptions\n        } = prevState;\n\n        if (items && isLoading) {\n            this.stopLoading();\n        }\n\n        if (\n            selectedDropdownOptions !== prevSelectedDropdownOptions\n            || selectedCheckboxValues !== prevSelectedCheckboxValues\n        ) {\n            this.updateSelectedOptions();\n        }\n    }\n\n    stopLoading() {\n        this.setState({ isLoading: false });\n    }\n\n    getOptionPrice(item, selectedValues) {\n        const { option_id, options } = item;\n\n        return selectedValues\n            .filter(({ id }) => id === option_id)\n            .reduce((acc, { quantity, value }) => {\n                const { price, priceExclTax, initialPrice } = acc;\n                const selectedOption = options.find(\n                    (option) => JSON.stringify(value) === JSON.stringify([option.id.toString()])\n                        && option.product !== null\n                );\n\n                if (!selectedOption) {\n                    return acc;\n                }\n\n                const {\n                    finalOptionPrice,\n                    finalOptionPriceExclTax,\n                    regularOptionPrice\n                } = selectedOption;\n\n                return {\n                    price: price + finalOptionPrice * quantity,\n                    priceExclTax: priceExclTax + finalOptionPriceExclTax * quantity,\n                    initialPrice: initialPrice + regularOptionPrice * quantity\n                };\n            }, { price: 0, priceExclTax: 0, initialPrice: 0 });\n    }\n\n    getItemsPrice = (item) => {\n        const {\n            selectedDropdownOptions = [],\n            selectedCheckboxValues = []\n        } = this.state;\n\n        const values = [...selectedCheckboxValues, ...selectedDropdownOptions];\n\n        if (values.length) {\n            return this.getOptionPrice(item, values);\n        }\n\n        return { price: 0, priceExclTax: 0, initialPrice: 0 };\n    };\n\n    getTotalPrice() {\n        const { items } = this.props;\n\n        return items\n            .map(this.getItemsPrice)\n            .reduce(\n                ({ price, finalPrice, priceExclTax }, item) => ({\n                    price: price + item.initialPrice,\n                    finalPrice: finalPrice + item.price,\n                    priceExclTax: priceExclTax + item.priceExclTax\n                }),\n                { price: 0, finalPrice: 0, priceExclTax: 0 }\n            );\n    }\n\n    updateSelectedOptions() {\n        const { getSelectedCustomizableOptions, setBundlePrice } = this.props;\n        const { selectedDropdownOptions, selectedCheckboxValues } = this.state;\n        const bundleOptions = [];\n        const bundlePrices = this.getTotalPrice();\n\n        bundleOptions.push(\n            ...bundleOptions,\n            ...selectedCheckboxValues,\n            ...selectedDropdownOptions\n        );\n\n        getSelectedCustomizableOptions(bundleOptions);\n        setBundlePrice(bundlePrices);\n    }\n\n    setSelectedDropdownValue(id, option) {\n        const { selectedDropdownOptions } = this.state;\n        const { value, quantity, option_id } = option;\n\n        if (!id) {\n            const filteredOptions = selectedDropdownOptions.filter((item) => item.id !== option_id);\n            this.setState({ selectedDropdownOptions: filteredOptions });\n\n            return;\n        }\n\n        const optionData = { id, quantity, value: [value] };\n\n        if (selectedDropdownOptions.some(({ id: val }) => val === id)) {\n            const filteredItems = selectedDropdownOptions.filter((item) => item.id !== id);\n            this.setState({ selectedDropdownOptions: filteredItems.concat(optionData) });\n\n            return;\n        }\n\n        const newItemData = selectedDropdownOptions;\n        newItemData.push(optionData);\n\n        this.setState({\n            selectedDropdownOptions: Array.from(newItemData)\n        });\n    }\n\n    updateQuantity(value, quantity) {\n        const { selectedCheckboxValues } = this.state;\n\n        this.setState({\n            selectedCheckboxValues: selectedCheckboxValues.map((el) => (\n                JSON.stringify(el.value) === JSON.stringify(value) ? { ...el, quantity } : el\n            ))\n        });\n    }\n\n    setSelectedCheckboxValues(id, optionData) {\n        const { selectedCheckboxValues } = this.state;\n        const { value, quantity } = optionData;\n        const selectedValue = { id, quantity, value: [value] };\n\n        if (selectedCheckboxValues.some(({ value: val }) => JSON.stringify([value]) === JSON.stringify(val))) {\n            this.setState({\n                selectedCheckboxValues: selectedCheckboxValues.filter(\n                    (item) => JSON.stringify(item.value) !== JSON.stringify([value])\n                ) || []\n            });\n\n            return;\n        }\n\n        const newItemData = selectedCheckboxValues;\n        newItemData.push(selectedValue);\n\n        this.setState({\n            selectedCheckboxValues: Array.from(newItemData)\n        });\n    }\n\n    render() {\n        return (\n            <ProductBundleItems\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default ProductBundleItemsContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ProductCustomizableOption from 'Component/ProductCustomizableOption';\n\nimport './ProductCustomizableOptions.style';\n\n/** @namespace Component/ProductCustomizableOptions/Component */\nexport class ProductCustomizableOptions extends PureComponent {\n    static propTypes = {\n        isLoading: PropTypes.bool.isRequired,\n        options: PropTypes.array,\n        productOptionsData: PropTypes.object.isRequired,\n        setSelectedDropdownValue: PropTypes.func.isRequired,\n        setSelectedCheckboxValues: PropTypes.func.isRequired,\n        setCustomizableOptionTextFieldValue: PropTypes.func.isRequired,\n        setCustomizableOptionFileFieldValue: PropTypes.func.isRequired,\n        price_range: PropTypes.object.isRequired,\n        type_id: PropTypes.string.isRequired\n    };\n\n    static defaultProps = {\n        options: []\n    };\n\n    renderContent() {\n        const {\n            options,\n            productOptionsData,\n            setSelectedCheckboxValues,\n            setCustomizableOptionTextFieldValue,\n            setCustomizableOptionFileFieldValue,\n            setSelectedDropdownValue,\n            price_range,\n            type_id\n        } = this.props;\n\n        return options.map((option, key) => (\n            <ProductCustomizableOption\n              option={ option }\n              /* eslint-disable-next-line react/no-array-index-key */\n              key={ key }\n              setSelectedCheckboxValues={ setSelectedCheckboxValues }\n              setCustomizableOptionTextFieldValue={ setCustomizableOptionTextFieldValue }\n              setCustomizableOptionFileFieldValue={ setCustomizableOptionFileFieldValue }\n              setSelectedDropdownValue={ setSelectedDropdownValue }\n              productOptionsData={ productOptionsData }\n              price_range={ price_range }\n              type_id={ type_id }\n            />\n        ));\n    }\n\n    renderPlaceholder() {\n        const { isLoading } = this.props;\n\n        return (\n            <div\n              block=\"ProductCustomizableOptions\"\n              mods={ { isLoading, isPlaceholder: true } }\n            />\n        );\n    }\n\n    render() {\n        const { isLoading } = this.props;\n\n        if (isLoading) {\n            return this.renderPlaceholder();\n        }\n\n        return this.renderContent();\n    }\n}\n\nexport default ProductCustomizableOptions;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Field from 'Component/Field';\n\nimport {\n    AREA_FIELD, CHECKBOX, DROPDOWN, FILE, TEXT_FIELD\n} from './ProductCustomizableOption.config';\n\n/** @namespace Component/ProductCustomizableOption/Component */\nexport class ProductCustomizableOption extends PureComponent {\n    static propTypes = {\n        option: PropTypes.object.isRequired,\n        textValue: PropTypes.string.isRequired,\n        getSelectedCheckboxValue: PropTypes.func.isRequired,\n        renderOptionLabel: PropTypes.func.isRequired,\n        updateTextFieldValue: PropTypes.func.isRequired,\n        textFieldValid: PropTypes.bool,\n        processFileUpload: PropTypes.func,\n        setDropdownValue: PropTypes.func.isRequired,\n        selectedDropdownValue: PropTypes.number.isRequired,\n        optionType: PropTypes.string.isRequired,\n        getDropdownOptions: PropTypes.func.isRequired,\n        requiredSelected: PropTypes.bool.isRequired\n    };\n\n    static defaultProps = {\n        processFileUpload: () => {},\n        textFieldValid: null\n    };\n\n    renderMap = {\n        [CHECKBOX]: {\n            render: () => this.renderCheckboxValues(),\n            title: () => this.renderTitle()\n        },\n        [DROPDOWN]: {\n            render: () => this.renderDropdownValues(),\n            title: () => this.renderTitle()\n        },\n        [TEXT_FIELD]: {\n            render: () => this.renderTextField(),\n            title: () => this.renderTextFieldTitle()\n        },\n        [AREA_FIELD]: {\n            render: () => this.renderTextField(),\n            title: () => this.renderTextFieldTitle()\n        },\n        [FILE]: {\n            render: () => this.renderFileField(),\n            title: () => this.renderTextFieldTitle()\n        }\n    };\n\n    renderRequired(isRequired) {\n        const { requiredSelected } = this.props;\n\n        // skip undefined and false\n        if (isRequired !== true || requiredSelected) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductCustomizableOptions\"\n              elem=\"Required\"\n            >\n                { __('This field is required!') }\n            </div>\n        );\n    }\n\n    renderHeading(mainTitle, titleBold) {\n        return (\n            <>\n                <span\n                  block=\"ProductCustomizableOptions\"\n                  elem=\"Heading\"\n                >\n                    { `${ mainTitle } + ` }\n                </span>\n                <span\n                  block=\"ProductCustomizableOptions\"\n                  elem=\"HeadingBold\"\n                >\n                    { titleBold }\n                </span>\n            </>\n        );\n    }\n\n    renderOptionCheckboxValue = (item) => {\n        const { getSelectedCheckboxValue, renderOptionLabel } = this.props;\n        const {\n            option_type_id,\n            title,\n            price,\n            price_type,\n            currency\n        } = item;\n\n        const priceLabel = renderOptionLabel(price_type, price, currency);\n\n        return (\n            <Field\n              type=\"checkbox\"\n              label={ this.renderHeading(title, priceLabel) }\n              key={ option_type_id }\n              id={ `option-${ option_type_id }` }\n              name={ `option-${ option_type_id }` }\n              value={ option_type_id }\n              onChange={ getSelectedCheckboxValue }\n            />\n        );\n    };\n\n    renderOptionDropdownValues(values) {\n        const {\n            getDropdownOptions,\n            selectedDropdownValue,\n            setDropdownValue\n        } = this.props;\n        const dropdownOptions = getDropdownOptions(values);\n\n        return (\n            <Field\n              id=\"customizable-options-dropdown\"\n              name=\"customizable-options-dropdown\"\n              type=\"select\"\n              mix={ { block: 'CustomizableOptions', elem: 'Select' } }\n              placeholder={ __('Choose Option') }\n              selectOptions={ dropdownOptions }\n              value={ selectedDropdownValue }\n              onChange={ setDropdownValue }\n            />\n        );\n    }\n\n    renderMaxCharacters(max_characters) {\n        if (max_characters <= 0) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductCustomizableOptions\"\n              elem=\"Information\"\n            >\n                { __('Maximum %s characters', max_characters) }\n            </div>\n        );\n    }\n\n    renderCheckboxValues() {\n        const { option: { required, data } } = this.props;\n\n        return (\n            <>\n                { data.map(this.renderOptionCheckboxValue) }\n                { this.renderRequired(required) }\n            </>\n        );\n    }\n\n    renderDropdownValues() {\n        const { option: { required, data } } = this.props;\n\n        return (\n            <>\n                { this.renderOptionDropdownValues(data) }\n                { this.renderRequired(required) }\n            </>\n        );\n    }\n\n    renderTextField() {\n        const {\n            option: {\n                required,\n                data\n            },\n            updateTextFieldValue,\n            textValue,\n            optionType,\n            textFieldValid\n        } = this.props;\n        const [{ max_characters = 0 }] = data;\n        const fieldType = optionType === 'field' ? 'text' : 'textarea';\n\n        return (\n            <>\n                <Field\n                  id={ `customizable-options-${ optionType }` }\n                  name={ `customizable-options-${ optionType }` }\n                  type={ fieldType }\n                  maxLength={ max_characters > 0 ? max_characters : null }\n                  value={ textValue }\n                  onChange={ updateTextFieldValue }\n                  customValidationStatus={ textFieldValid }\n                />\n                { this.renderRequired(required) }\n                { this.renderMaxCharacters(max_characters) }\n            </>\n        );\n    }\n\n    renderFileField() {\n        const {\n            optionType,\n            processFileUpload,\n            option: {\n                required,\n                data: [{ file_extension = '' }] = []\n            } = {}\n        } = this.props;\n\n        return (\n            <>\n                <Field\n                  id={ `customizable-options-${ optionType }` }\n                  name={ `customizable-options-${ optionType }` }\n                  type=\"file\"\n                  onChange={ processFileUpload }\n                  fileExtensions={ file_extension }\n                />\n                { this.renderRequired(required) }\n            </>\n        );\n    }\n\n    renderTitle() {\n        const { option } = this.props;\n        const { title } = option;\n\n        return title;\n    }\n\n    renderTextFieldTitle() {\n        const {\n            renderOptionLabel,\n            option: {\n                title,\n                data: [\n                    {\n                        price_type = 'FIXED',\n                        price = 0,\n                        currency\n                    } = {}\n                ] = []\n            }\n        } = this.props;\n\n        const priceLabel = renderOptionLabel(price_type, price, currency);\n\n        return this.renderHeading(title, priceLabel);\n    }\n\n    render() {\n        const {\n            option: {\n                option_id\n            },\n            optionType\n        } = this.props;\n\n        const optionRenderMap = this.renderMap[optionType];\n\n        if (!optionRenderMap) {\n            return null;\n        }\n\n        const { render, title } = optionRenderMap;\n\n        return (\n            <ExpandableContent\n              heading={ title() }\n              mix={ { block: 'ProductCustomizableOptions', elem: 'Content' } }\n              key={ option_id }\n              isContentExpanded\n            >\n                { render() }\n            </ExpandableContent>\n        );\n    }\n}\n\nexport default ProductCustomizableOption;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { PRICE_TYPE_PERCENT } from 'Component/ProductBundleItem/ProductBundleItem.config';\nimport {\n    mapDispatchToProps,\n    mapStateToProps,\n    ProductCustomizableOptionContainer\n} from 'Component/ProductCustomizableOption/ProductCustomizableOption.container';\n\nimport ProductBundleItem from './ProductBundleItem.component';\n\n/** @namespace Component/ProductBundleItem/Container */\nexport class ProductBundleItemContainer extends ProductCustomizableOptionContainer {\n    static propTypes = {\n        ...ProductCustomizableOptionContainer.propTypes,\n        setCustomizableOptionTextFieldValue: PropTypes.func,\n        updateQuantity: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        ...ProductCustomizableOptionContainer.defaultProps,\n        setCustomizableOptionTextFieldValue: () => {}\n    };\n\n    containerFunctions = {\n        ...this.containerFunctions,\n        setDropdownItemQuantity: this.setDropdownItemQuantity.bind(this)\n    };\n\n    componentDidMount() {\n        this.getDefaultValues();\n    }\n\n    getDefaultValues() {\n        const { optionType } = this.containerProps();\n\n        switch (optionType) {\n        case 'select':\n        case 'radio': // handle radio as select\n            this.setDefaultDropdownValue();\n            break;\n        case 'checkbox':\n        case 'multi': // handle multi-select as checkbox\n            this.setDefaultCheckboxValue();\n            break;\n        default:\n            return null;\n        }\n\n        return null;\n    }\n\n    setDefaultDropdownValue() {\n        const {\n            setSelectedDropdownValue,\n            option: { option_id, options }\n        } = this.props;\n\n        return options.reduce((acc, { is_default, id, quantity }) => {\n            if (is_default) {\n                const value = id.toString();\n                setSelectedDropdownValue(option_id, { value, quantity });\n                this.setState({ selectedDropdownValue: id });\n            }\n\n            return acc;\n        }, []);\n    }\n\n    setDefaultCheckboxValue() {\n        const { option: { option_id, options }, setSelectedCheckboxValues } = this.props;\n\n        return options.reduce((acc, { is_default, id, quantity }) => {\n            if (is_default) {\n                const value = id.toString();\n                setSelectedCheckboxValues(option_id, { value, quantity });\n            }\n\n            return acc;\n        }, []);\n    }\n\n    getIsRequiredSelected() {\n        const {\n            productOptionsData,\n            productOptionsData: {\n                requiredOptions,\n                productOptions,\n                productOptionsMulti\n            },\n            option: {\n                option_id\n            }\n        } = this.props;\n\n        if (Object.keys(productOptionsData).length < 1 || !requiredOptions) {\n            return true;\n        }\n\n        const selectedItems = [...productOptions || [], ...productOptionsMulti || []];\n        const isRequired = requiredOptions.reduce((acc, item) => {\n            if (item === option_id) {\n                acc.push(item);\n            }\n\n            return acc;\n        }, []);\n\n        if (!isRequired.length) {\n            return true;\n        }\n\n        const isRequiredSelected = selectedItems.reduce((acc, { id }) => {\n            if (isRequired[0] === id) {\n                acc.push(id);\n            }\n\n            return acc;\n        }, []);\n\n        return !!isRequiredSelected.length;\n    }\n\n    getSelectedCheckboxValue(value) {\n        const {\n            option: { option_id },\n            setSelectedCheckboxValues\n        } = this.props;\n        const selectedValue = this.getSelectedOptionData(value);\n\n        setSelectedCheckboxValues(option_id, selectedValue);\n    }\n\n    setDropdownItemQuantity(quantity) {\n        const { setSelectedDropdownValue, option: { option_id } } = this.props;\n        const { selectedDropdownValue } = this.state;\n        const value = selectedDropdownValue.toString();\n        const selectedValue = { value, quantity };\n\n        setSelectedDropdownValue(option_id, selectedValue);\n    }\n\n    setDropdownValue(value) {\n        const { setSelectedDropdownValue, option, option: { option_id } } = this.props;\n        const { selectedDropdownValue } = this.state;\n\n        if (selectedDropdownValue === value) {\n            setSelectedDropdownValue(null, option);\n            this.setState({ selectedDropdownValue: 0 });\n        } else {\n            this.setState({ selectedDropdownValue: parseInt(value, 10) });\n            const selectedValue = this.getSelectedOptionData(value.toString());\n            setSelectedDropdownValue(option_id, selectedValue);\n        }\n    }\n\n    getSelectedOptionData(optionId) {\n        const { option: { options } } = this.props;\n\n        return options.reduce(\n            (parameters, { id, quantity }) => {\n                const value = id.toString();\n\n                if (optionId === value) {\n                    return { value, quantity };\n                }\n\n                return parameters;\n            }, {}\n        );\n    }\n\n    getDropdownOptions(values) {\n        const {\n            currencyCode\n        } = this.props;\n\n        return values.reduce((acc, {\n            id,\n            label,\n            price_type,\n            quantity,\n            can_change_quantity,\n            finalOptionPrice,\n            price\n        }) => {\n            const finalPrice = price_type === PRICE_TYPE_PERCENT ? price : finalOptionPrice;\n\n            const dropdownLabel = !can_change_quantity\n                ? `${ quantity } x ${ label } + ${ this.renderOptionLabel(price_type, finalPrice, currencyCode) }`\n                : `${ label } + ${ this.renderOptionLabel(price_type, finalPrice, currencyCode) }`;\n\n            acc.push({\n                id,\n                name: label,\n                value: id,\n                label: dropdownLabel\n            });\n\n            return acc;\n        }, []);\n    }\n\n    render() {\n        return (\n            <ProductBundleItem\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductBundleItemContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductCustomizableOptions.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport ProductDownloadableLinks from './ProductDownloadableLinks.component';\n\n/** @namespace Component/ProductDownloadableLinks/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isOpenInNewTab: state.ConfigReducer.downloadable_links_target_new_window\n});\n\n/** @namespace Component/ProductDownloadableLinks/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\n/** @namespace Component/ProductDownloadableLinks/Container */\nexport class ProductDownloadableLinksContainer extends PureComponent {\n    static propTypes = {\n        title: PropTypes.string,\n        isRequired: PropTypes.bool,\n        links: PropTypes.array,\n        setLinkedDownloadables: PropTypes.func.isRequired,\n        setLinkedDownloadablesPrice: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        title: '',\n        links: [],\n        isRequired: false\n    };\n\n    state = {\n        isLoading: true,\n        selectedLinks: []\n    };\n\n    containerFunctions = {\n        setSelectedCheckboxValues: this.setSelectedCheckboxValues.bind(this)\n    };\n\n    componentDidMount() {\n        const { links } = this.props;\n\n        if (links) {\n            this.stopLoading();\n        }\n    }\n\n    componentDidUpdate(_, prevState) {\n        const { links } = this.props;\n        const {\n            selectedLinks,\n            isLoading\n        } = this.state;\n\n        const {\n            selectedLinks: prevSelectedLinks\n        } = prevState;\n\n        if (links && isLoading) {\n            this.stopLoading();\n        }\n\n        if (selectedLinks !== prevSelectedLinks) {\n            this.updateSelectedOptionsArray();\n        }\n    }\n\n    stopLoading() {\n        this.setState({ isLoading: false });\n    }\n\n    updateSelectedOptionsArray() {\n        const { setLinkedDownloadables, setLinkedDownloadablesPrice } = this.props;\n        const { selectedLinks } = this.state;\n\n        setLinkedDownloadables(selectedLinks);\n\n        const price = this.getTotalPrice();\n        setLinkedDownloadablesPrice(price);\n    }\n\n    getTotalPrice() {\n        const { selectedLinks } = this.state;\n        const { links } = this.props;\n\n        return selectedLinks.reduce(\n            (base, { link_id }) => {\n                const link = links.find(({ id }) => id === link_id);\n                return base + link.price;\n            },\n            0\n        );\n    }\n\n    setSelectedCheckboxValues(option_id, option_value) {\n        const { selectedLinks } = this.state;\n\n        const optionIdInt = parseInt(option_id, 10);\n\n        if (option_value) {\n            if (selectedLinks.some(({ link_id: id }) => optionIdInt === id)) {\n                return;\n            }\n            this.setState({\n                selectedLinks: [...selectedLinks, { link_id: optionIdInt }]\n            });\n\n            return;\n        }\n\n        if (selectedLinks.some(({ link_id: id }) => optionIdInt === id)) {\n            this.setState({\n                selectedLinks: selectedLinks.filter(\n                    (link) => link.link_id !== optionIdInt\n                )\n            });\n        }\n    }\n\n    render() {\n        return (\n            <ProductDownloadableLinks\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDownloadableLinksContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport ProductDownloadableSamples from './ProductDownloadableSamples.component';\n\n/** @namespace Component/ProductDownloadableSamples/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isOpenInNewTab: state.ConfigReducer.downloadable_links_target_new_window\n});\n\n/** @namespace Component/ProductDownloadableSamples/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\n/** @namespace Component/ProductDownloadableSamples/Container */\nexport class ProductDownloadableSamplesContainer extends PureComponent {\n    render() {\n        return (\n            <ProductDownloadableSamples\n              { ...this.props }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDownloadableSamplesContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { PureComponent } from 'react';\n\nimport { ProductType } from 'Type/ProductList';\n\nimport ProductAttributes from './ProductAttributes.component';\n\n/** @namespace Component/ProductAttributes/Container */\nexport class ProductAttributesContainer extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired\n    };\n\n    containerProps = () => ({\n        attributesWithValues: this._getAttributesWithValues()\n    });\n\n    _getAttributesWithValues() {\n        const { product: { attributes = {}, parameters = {} } } = this.props;\n\n        const allAttribsWithValues = Object.entries(attributes).reduce((acc, [key, val]) => {\n            const { attribute_label, attribute_value } = val;\n            if (attribute_value) {\n                return { ...acc, [attribute_label]: val };\n            }\n\n            const valueIndexFromParameter = parameters[key];\n            if (valueIndexFromParameter) {\n                return { ...acc, [attribute_label]: { ...val, attribute_value: valueIndexFromParameter } };\n            }\n\n            return acc;\n        }, {});\n\n        return allAttribsWithValues;\n    }\n\n    render() {\n        return (\n            <ProductAttributes\n              { ...this.props }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default ProductAttributesContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { Subscribe } from 'unstated';\n\nimport ImageZoomPopup from 'Component/ImageZoomPopup';\nimport SharedTransitionContainer from 'Component/SharedTransition/SharedTransition.unstated';\nimport { ProductType } from 'Type/ProductList';\n\nimport ProductGallery from './ProductGallery.component';\nimport {\n    AMOUNT_OF_PLACEHOLDERS,\n    IMAGE_TYPE,\n    PRODUCT_GALERY_POPUP_ID,\n    THUMBNAIL_KEY\n} from './ProductGallery.config';\n\n/** @namespace Component/ProductGallery/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isMobile: state.ConfigReducer.device.isMobile\n});\n\n/** @namespace Component/ProductGallery/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\n/** @namespace Component/ProductGallery/Container */\nexport class ProductGalleryContainer extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        areDetailsLoaded: PropTypes.bool,\n        isMobile: PropTypes.bool.isRequired\n    };\n\n    static defaultProps = {\n        areDetailsLoaded: false\n    };\n\n    sliderRef = createRef();\n\n    containerFunctions = {\n        onActiveImageChange: this.onActiveImageChange.bind(this),\n        handleZoomChange: this.handleZoomChange.bind(this),\n        disableZoom: this.disableZoom.bind(this),\n        handleImageZoomPopupActiveChange: this.handleImageZoomPopupActiveChange.bind(this)\n    };\n\n    __construct(props) {\n        super.__construct(props);\n\n        const { product: { id } } = props;\n\n        this.state = {\n            activeImage: 0,\n            isZoomEnabled: false,\n            prevProdId: id,\n            isImageZoomPopupActive: false\n        };\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const { product: { id } } = props;\n        const { prevProdId } = state;\n        if (prevProdId === id) {\n            return null;\n        }\n\n        return { prevProdId: id, activeImage: 0 };\n    }\n\n    handleImageZoomPopupActiveChange(isImageZoomPopupActive) {\n        const { isMobile } = this.props;\n\n        if (isMobile) {\n            return;\n        }\n\n        this.setState({ isImageZoomPopupActive });\n    }\n\n    onActiveImageChange(activeImage) {\n        this.setState({\n            activeImage,\n            isZoomEnabled: false\n        });\n    }\n\n    getGalleryPictures() {\n        const {\n            areDetailsLoaded,\n            product: {\n                media_gallery_entries: mediaGallery = [],\n                [THUMBNAIL_KEY]: { url: thumbnailUrl } = {},\n                [IMAGE_TYPE]: { url: imageTypeUrl } = {},\n                name\n            }\n        } = this.props;\n\n        const url = imageTypeUrl || thumbnailUrl;\n\n        if (mediaGallery.length) {\n            return mediaGallery\n                .filter(({ disabled }) => !disabled)\n                .sort((a, b) => {\n                    const aThumbnail = a.types.includes(THUMBNAIL_KEY);\n                    const bThumbnail = b.types.includes(THUMBNAIL_KEY);\n                    const sortResult = a.position - b.position;\n\n                    if (aThumbnail && bThumbnail) {\n                        return sortResult;\n                    }\n\n                    if (aThumbnail) {\n                        return -1;\n                    }\n\n                    if (bThumbnail) {\n                        return 1;\n                    }\n\n                    return sortResult;\n                });\n        }\n\n        if (!url) {\n            return Array(AMOUNT_OF_PLACEHOLDERS + 1).fill({ media_type: 'placeholder' });\n        }\n\n        const placeholders = !areDetailsLoaded\n            ? Array(AMOUNT_OF_PLACEHOLDERS).fill({ media_type: 'placeholder' }) : [];\n\n        return [\n            {\n                thumbnail: { url },\n                base: { url },\n                id: THUMBNAIL_KEY,\n                label: name,\n                media_type: IMAGE_TYPE\n            },\n            ...placeholders\n        ];\n    }\n\n    containerProps = () => {\n        const { activeImage, isZoomEnabled, isImageZoomPopupActive } = this.state;\n        const { product: { id }, isMobile } = this.props;\n\n        return {\n            gallery: this.getGalleryPictures(),\n            productName: this._getProductName(),\n            activeImage,\n            isZoomEnabled,\n            productId: id,\n            isMobile,\n            isImageZoomPopupActive,\n            sliderRef: this.sliderRef\n        };\n    };\n\n    /**\n     * Returns the name of the product this gallery if for\n     * @private\n     */\n    _getProductName() {\n        const { product: { name } } = this.props;\n        return name;\n    }\n\n    disableZoom() {\n        document.documentElement.classList.remove('overscrollPrevented');\n        this.setState({ isZoomEnabled: false });\n    }\n\n    handleZoomChange(args) {\n        const { isZoomEnabled } = this.state;\n\n        if (args.scale !== 1) {\n            if (isZoomEnabled) {\n                return;\n            }\n            document.documentElement.classList.add('overscrollPrevented');\n            this.setState({ isZoomEnabled: true });\n        }\n    }\n\n    handleImageZoomPopupClose = () => {\n        this.handleImageZoomPopupActiveChange(false);\n    };\n\n    render() {\n        const { isImageZoomPopupActive, activeImage } = this.state;\n\n        return (\n            <ImageZoomPopup\n              isActive={ isImageZoomPopupActive }\n              onClose={ this.handleImageZoomPopupClose }\n              activeImageId={ activeImage }\n              popupId={ PRODUCT_GALERY_POPUP_ID }\n            >\n                <Subscribe to={ [SharedTransitionContainer] }>\n                    { ({ registerSharedElementDestination }) => (\n                        <ProductGallery\n                          registerSharedElementDestination={ registerSharedElementDestination }\n                          { ...this.containerProps() }\n                          { ...this.containerFunctions }\n                        />\n                    ) }\n                </Subscribe>\n            </ImageZoomPopup>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductGalleryContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport Popup from 'Component/Popup';\nimport { hideActiveOverlay } from 'Store/Overlay/Overlay.action';\nimport { showPopup } from 'Store/Popup/Popup.action';\nimport { ChildrenType, MixType } from 'Type/Common';\n\nimport ImageZoomPopup from './ImageZoomPopup.component';\n\n/** @namespace Component/ImageZoomPopup/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isMobile: state.ConfigReducer.device.isMobile\n});\n\n/** @namespace Component/ImageZoomPopup/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    showPopup: (id, payload) => dispatch(showPopup(id, payload)),\n    hideActiveOverlay: () => dispatch(hideActiveOverlay())\n});\n\n/** @namespace Component/MyAccountAddressBook/Container */\nexport class ImageZoomPopupContainer extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        showPopup: PropTypes.func.isRequired,\n        hideActiveOverlay: PropTypes.func.isRequired,\n        onClose: PropTypes.func,\n        popupId: PropTypes.string.isRequired,\n        isActive: PropTypes.bool.isRequired,\n        isMobile: PropTypes.bool.isRequired,\n        mix: MixType\n    };\n\n    static defaultProps = {\n        onClose: () => {},\n        mix: {}\n    };\n\n    componentDidUpdate(prevProps) {\n        const { isActive: prevIsActive, popupId } = prevProps;\n        const { isActive, showPopup } = this.props;\n\n        if (prevIsActive !== isActive && isActive) {\n            showPopup(popupId, {});\n        }\n    }\n\n    render() {\n        const {\n            isActive,\n            children,\n            mix,\n            popupId,\n            isMobile,\n            onClose\n        } = this.props;\n\n        if (!isActive || isMobile) {\n            return children;\n        }\n\n        return (\n            <Popup\n              id={ popupId }\n              clickOutside={ false }\n              mix={ { block: 'ImageZoomPopup', mix } }\n              contentMix={ { block: 'ImageZoomPopup', elem: 'PopupContent' } }\n              onClose={ onClose }\n              onHide={ onClose }\n            >\n                <ImageZoomPopup\n                  { ...this.props }\n                />\n            </Popup>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageZoomPopupContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { connect } from 'react-redux';\n\nimport TranslateOnCursorMove from './TranslateOnCursorMove.component';\n\n/** @namespace Component/Slider/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isMobile: state.ConfigReducer.device.isMobile\n});\n\n/** @namespace Component/Slider/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\n// eslint-disable-next-line @scandipwa/scandipwa-guidelines/always-both-mappings\nexport default connect(mapStateToProps, mapDispatchToProps)(TranslateOnCursorMove);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\n\nimport CarouselScrollArrow from 'Component/CarouselScrollArrow';\nimport CarouselScrollItem from 'Component/CarouselScrollItem';\nimport { ChildrenType } from 'Type/Common';\nimport CSS from 'Util/CSS';\n\nimport './CarouselScroll.style';\n\n/** @namespace Component/CarouselScroll/Component */\nexport class CarouselScroll extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        showArrow: PropTypes.bool,\n        showedItemCount: PropTypes.number,\n        showedActiveItemNr: PropTypes.number,\n        onChange: PropTypes.func,\n        activeItemId: PropTypes.number\n    };\n\n    static defaultProps = {\n        showArrow: true,\n        showedItemCount: 1,\n        showedActiveItemNr: 2,\n        onChange: () => {},\n        activeItemId: null\n    };\n\n    state = {\n        activeItemId: 0\n    };\n\n    itemRef = createRef();\n\n    carouselRef = createRef();\n\n    componentDidMount() {\n        const { showedItemCount } = this.props;\n\n        const heightSize = 100;\n        const height = `${ heightSize / showedItemCount }%`;\n\n        CSS.setVariable(this.carouselRef, 'carousel-item-height', height);\n    }\n\n    componentDidUpdate(prevProps) {\n        const { children: { length: prevChildrenLength } } = prevProps;\n        const { activeItemId, children: { length: childrenLength } } = this.props;\n        const { activeItemId: prevActiveItemId } = this.state;\n\n        if (prevChildrenLength !== childrenLength) {\n            this.handleReset();\n\n            return;\n        }\n\n        if (activeItemId !== null && activeItemId !== prevActiveItemId) {\n            this.handleChange(activeItemId);\n        }\n    }\n\n    getNextTranslate(nextId) {\n        const { showedItemCount, showedActiveItemNr, children: { length: childrenLength } } = this.props;\n        const { offsetHeight } = this.itemRef.current;\n\n        // When selected item isnt reached wanted position\n        if (nextId < (showedActiveItemNr - 1) || childrenLength <= showedItemCount) {\n            return 0;\n        }\n\n        const isEndReached = (showedItemCount - showedActiveItemNr) + nextId + 1 > childrenLength;\n\n        const position = isEndReached\n            ? childrenLength - showedItemCount\n            : nextId - (showedActiveItemNr - 1);\n\n        return `${ -position * offsetHeight }px`;\n    }\n\n    setTranslate(nextId) {\n        const { children: { length: childrenLength }, showedItemCount } = this.props;\n\n        if (childrenLength <= showedItemCount) {\n            return;\n        }\n\n        const translate = this.getNextTranslate(nextId);\n        CSS.setVariable(this.carouselRef, 'translateY', translate);\n    }\n\n    handleArrowClick = (isNextArrow) => {\n        const { children } = this.props;\n        const { activeItemId: prevActiveItemId } = this.state;\n\n        const activeItemId = prevActiveItemId + (isNextArrow ? 1 : -1);\n\n        if (children.length - 1 < activeItemId || activeItemId < 0) {\n            return;\n        }\n\n        this.handleChange(activeItemId);\n    };\n\n    handleChange = (nextId) => {\n        const { onChange } = this.props;\n\n        this.setTranslate(nextId);\n        this.setState({ activeItemId: nextId });\n        onChange(nextId);\n    };\n\n    handleReset() {\n        const { onChange } = this.props;\n\n        const activeItemId = 0;\n\n        CSS.setVariable(this.carouselRef, 'translateY', 0);\n\n        onChange(activeItemId);\n        this.setState({ activeItemId });\n    }\n\n    renderArrow(isNextArrow = false) {\n        const { showArrow, children: { length: childrenLength }, showedItemCount } = this.props;\n        const { activeItemId } = this.state;\n\n        if (!showArrow || childrenLength <= showedItemCount) {\n            return null;\n        }\n\n        const isDisabled = isNextArrow\n            ? activeItemId === childrenLength - 1\n            : !activeItemId;\n\n        return (\n            <CarouselScrollArrow\n              isNextArrow={ isNextArrow }\n              isDisabled={ isDisabled }\n              onClick={ this.handleArrowClick }\n            />\n        );\n    }\n\n    renderContentItem = (child, key) => {\n        const { activeItemId } = this.state;\n\n        return (\n            <CarouselScrollItem\n              key={ key }\n              position={ key }\n              onClick={ this.handleChange }\n              itemRef={ this.itemRef }\n              isActive={ key === activeItemId }\n            >\n                { child }\n            </CarouselScrollItem>\n        );\n    };\n\n    renderContent() {\n        const { children } = this.props;\n\n        return (\n            <div block=\"CarouselScroll\" elem=\"ContentWrapper\">\n                <div block=\"CarouselScroll\" elem=\"Content\">\n                    { children.map(this.renderContentItem) }\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <div block=\"CarouselScroll\" ref={ this.carouselRef }>\n                { this.renderArrow() }\n                { this.renderContent() }\n                { this.renderArrow(true) }\n            </div>\n        );\n    }\n}\n\nexport default CarouselScroll;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport CarouselScrollArrow from './CarouselScrollArrow.component';\n\n/** @namespace Component/CarouselScrollArrow/Container */\nexport class CarouselScrollArrowContainer extends PureComponent {\n    static propTypes = {\n        isNextArrow: PropTypes.bool.isRequired,\n        isDisabled: PropTypes.bool.isRequired,\n        onClick: PropTypes.func.isRequired\n    };\n\n    containerFunctions = {\n        onClick: this.onClick.bind(this)\n    };\n\n    containerProps = () => {\n        const { isNextArrow, isDisabled } = this.props;\n\n        return {\n            mods: {\n                isNextArrow,\n                isDisabled\n            }\n        };\n    };\n\n    onClick() {\n        const { onClick, isNextArrow } = this.props;\n        onClick(isNextArrow);\n    }\n\n    render() {\n        return (\n            <CarouselScrollArrow\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default CarouselScrollArrowContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { ChildrenType } from 'Type/Common';\n\nimport CarouselScrollItem from './CarouselScrollItem.component';\n\n/** @namespace Component/CarouselScrollItem/Container */\nexport class CarouselScrollItemContainer extends PureComponent {\n    static propTypes = {\n        isActive: PropTypes.bool,\n        itemRef: PropTypes.oneOfType([\n            PropTypes.func,\n            PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n        ]),\n        onClick: PropTypes.func,\n        children: ChildrenType,\n        position: PropTypes.number.isRequired\n    };\n\n    static defaultProps = {\n        isActive: false,\n        itemRef: () => {},\n        onClick: () => {},\n        children: []\n    };\n\n    containerFunctions = {\n        onClick: this.onClick.bind(this)\n    };\n\n    containerProps = () => {\n        const {\n            isActive,\n            itemRef,\n            children\n        } = this.props;\n\n        return {\n            isActive,\n            itemRef,\n            children\n        };\n    };\n\n    onClick() {\n        const { onClick, position } = this.props;\n        onClick(position);\n    }\n\n    render() {\n        return (\n            <CarouselScrollItem\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default CarouselScrollItemContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport { withRouter } from 'react-router';\n\nimport { LocationType } from 'Type/Common';\nimport media, { PRODUCT_MEDIA } from 'Util/Media/Media';\n\nimport ProductGallery from './ProductGalleryBaseImage.component';\nimport { INITIAL_SCALE, TRANSFORMATION_DELAY, TRANSFORMATION_SPEED } from './ProductGalleryBaseImage.config';\n\n/** @namespace Component/ProductGalleryBaseImage/Container */\nexport class ProductGalleryBaseImageContainer extends Component {\n    static propTypes = {\n        disableZoom: PropTypes.func.isRequired,\n        scale: PropTypes.number.isRequired,\n        previousScale: PropTypes.number.isRequired,\n        index: PropTypes.number.isRequired,\n        mediaData: PropTypes.shape({\n            id: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.number\n            ]),\n            label: PropTypes.string,\n            file: PropTypes.string,\n            base: PropTypes.shape({\n                url: PropTypes.string\n            })\n        }).isRequired,\n        isZoomEnabled: PropTypes.bool.isRequired,\n        setTransform: PropTypes.func.isRequired,\n        location: LocationType.isRequired\n    };\n\n    shouldComponentUpdate(nextProps) {\n        const { scale, mediaData: { id } } = this.props;\n        const { scale: nextScale, mediaData: { id: nextId } } = nextProps;\n\n        if (scale !== nextScale || id !== nextId) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentDidUpdate(prevProps) {\n        const {\n            scale,\n            previousScale,\n            disableZoom,\n            location: { pathname },\n            setTransform\n        } = this.props;\n        const { location: { pathname: prevPathname } } = prevProps;\n\n        if (pathname !== prevPathname && scale !== INITIAL_SCALE) {\n            setTimeout(\n                () => setTransform(null, null, INITIAL_SCALE, TRANSFORMATION_SPEED),\n                TRANSFORMATION_DELAY\n            );\n        }\n\n        if (scale === 1 && previousScale !== 1) {\n            disableZoom();\n        }\n    }\n\n    containerProps = () => ({\n        alt: this._getAlt(),\n        src: this._getSrc()\n    });\n\n    _getAlt() {\n        const { mediaData: { label } = {} } = this.props;\n        return label || '';\n    }\n\n    _getSrc() {\n        const {\n            mediaData: { file, base: { url: baseUrl } = {} },\n            isZoomEnabled\n        } = this.props;\n\n        if (!isZoomEnabled) {\n            return baseUrl || media(file, PRODUCT_MEDIA);\n        }\n\n        return file ? media(file, PRODUCT_MEDIA) : baseUrl;\n    }\n\n    render() {\n        return (\n            <ProductGallery\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default withRouter(\n    ProductGalleryBaseImageContainer\n);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Image from 'Component/Image';\nimport {\n    IMAGE_TYPE, PLACEHOLDER_TYPE, THUMBNAIL_KEY, VIDEO_TYPE\n} from 'Component/ProductGallery/ProductGallery.config';\nimport media, { PRODUCT_MEDIA } from 'Util/Media';\n\nimport './ProductGalleryThumbnailImage.style';\n\n/** @namespace Component/ProductGalleryThumbnailImage/Component */\nexport class ProductGalleryThumbnailImage extends PureComponent {\n    static propTypes = {\n        media: PropTypes.shape({\n            label: PropTypes.string,\n            file: PropTypes.string,\n            media_type: PropTypes.string,\n            id: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.number\n            ]),\n            thumbnail: PropTypes.shape({\n                url: PropTypes.string\n            })\n        }).isRequired\n    };\n\n    renderMedia() {\n        const { media: { media_type } } = this.props;\n\n        switch (media_type) {\n        case VIDEO_TYPE:\n            return this.renderVideo();\n        case IMAGE_TYPE:\n            return this.renderImage();\n        case PLACEHOLDER_TYPE:\n            return this.renderPlaceholder();\n        default:\n            return null;\n        }\n    }\n\n    renderPlaceholder() {\n        return (\n            <Image\n              ratio=\"custom\"\n              mix={ { block: 'ProductGalleryThumbnailImage' } }\n              isPlaceholder\n            />\n        );\n    }\n\n    renderVideo() {\n        const {\n            media: {\n                thumbnail: { url },\n                label\n            }\n        } = this.props;\n\n        return (\n            <Image\n              ratio=\"custom\"\n              src={ url }\n              alt={ label }\n              mix={ { block: 'ProductGalleryThumbnailImage' } }\n            />\n        );\n    }\n\n    renderImage() {\n        const {\n            media: {\n                label: alt,\n                file,\n                thumbnail: { url: thumbnailUrl } = {},\n                id\n            }\n        } = this.props;\n\n        if (id === THUMBNAIL_KEY) {\n            return this.renderPlaceholder();\n        }\n\n        const src = thumbnailUrl || media(file, PRODUCT_MEDIA);\n\n        return (\n            <Image\n              src={ src }\n              alt={ alt }\n              ratio=\"custom\"\n              mix={ { block: 'ProductGalleryThumbnailImage' } }\n            />\n        );\n    }\n\n    render() {\n        return (\n            <div\n              block=\"ProductGalleryThumbnailImage\"\n            >\n                { this.renderMedia() }\n            </div>\n        );\n    }\n}\n\nexport default ProductGalleryThumbnailImage;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { connect } from 'react-redux';\n\nimport VideoPopup from './VideoPopup.component';\nimport { VIDEO_POPUP_ID } from './VideoPopup.config';\n\n/** @namespace Component/VideoPopup/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    payload: state.PopupReducer.popupPayload[VIDEO_POPUP_ID] || {}\n});\n\n/** @namespace Component/VideoPopup/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VideoPopup);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { VIDEO_POPUP_ID } from 'Component/VideoPopup/VideoPopup.config';\nimport { hideActivePopup } from 'Store/Overlay/Overlay.action';\nimport { showPopup } from 'Store/Popup/Popup.action';\nimport { MediaItemType } from 'Type/ProductList';\n\nimport VideoThumbnail from './VideoThumbnail.component';\n\n/** @namespace Component/VideoThumbnail/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    showPopup: (payload) => dispatch(showPopup(VIDEO_POPUP_ID, payload)),\n    hideActivePopup: () => dispatch(hideActivePopup())\n});\n\n/**\n * @class VideoThumbnailContainer\n * @namespace Component/VideoThumbnail/Container/videoThumbnailContainer\n */\nexport class VideoThumbnailContainer extends PureComponent {\n    static propTypes = {\n        media: MediaItemType.isRequired,\n        showPopup: PropTypes.func.isRequired,\n        isVideoZoomed: PropTypes.bool.isRequired,\n        hideActivePopup: PropTypes.func.isRequired\n    };\n\n    containerFunctions = {\n        onPlayClick: this._onPlayClick.bind(this)\n    };\n\n    /**\n     * Handles events that occur when the user clicks or taps on a video thumbnail.\n     * Displays a popup with the corresponding video.\n     * @param event\n     * @private\n     */\n    _onPlayClick(event) {\n        const {\n            media,\n            media: {\n                video_content: {\n                    video_title\n                } = {}\n            } = {},\n            showPopup,\n            isVideoZoomed,\n            hideActivePopup\n        } = this.props;\n\n        event.preventDefault();\n\n        if (isVideoZoomed) {\n            hideActivePopup();\n        }\n\n        setTimeout(() => {\n            showPopup({\n                media,\n                title: video_title\n            });\n        }, 0);\n    }\n\n    render() {\n        const { media } = this.props;\n\n        return (\n            <VideoThumbnail\n              media={ media }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\n/** @namespace Component/VideoThumbnail/Container/mapStateToProps\n */\n// eslint-disable-next-line no-unused-vars\nexport const mapStateToProps = (state) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VideoThumbnailContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Html from 'Component/Html';\nimport { ProductType } from 'Type/ProductList';\n\nimport './ProductInformation.style';\n\n/** @namespace Component/ProductInformation/Component */\nexport class ProductInformation extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired\n    };\n\n    renderDescription() {\n        const { product: { description: { html } = {} } } = this.props;\n\n        if (!html) {\n            return null;\n        }\n\n        const cleanDescription = html.replace(/<\\/?[^>]+(>|$)/g, '');\n\n        return (\n            <div>\n                <meta itemProp=\"description\" content={ cleanDescription } />\n                <Html content={ html } />\n            </div>\n        );\n    }\n\n    renderContent() {\n        const { areDetailsLoaded } = this.props;\n        const heading = areDetailsLoaded ? __('Product information') : '';\n\n        return (\n            <ExpandableContent\n              // show placeholder if the details are not loaded\n              heading={ heading }\n              mix={ { block: 'ProductInformation', elem: 'Content' } }\n            >\n                { this.renderDescription() }\n            </ExpandableContent>\n        );\n    }\n\n    isHTMLWhiteSpaceOrUndefined(htmlString) {\n        if (!htmlString || htmlString.trim() === '') {\n            return true;\n        }\n\n        // creates a DOM object from string\n        const parser = new DOMParser();\n        const document = parser.parseFromString(htmlString.trim(), 'text/html');\n\n        // handles the case of plain text\n        if (document.body.children.length === 0) {\n            return false;\n        }\n\n        // check if at least one HTML element has content\n        const elementsWithContent = Array.from(document.body.children).filter((element) => element.innerText !== '');\n        return elementsWithContent.length === 0;\n    }\n\n    render() {\n        const {\n            areDetailsLoaded,\n            product: {\n                description: { html } = {}\n            }\n        } = this.props;\n\n        if (this.isHTMLWhiteSpaceOrUndefined(html) && areDetailsLoaded) {\n            return null;\n        }\n\n        return (\n            <ContentWrapper\n              label=\"Product information\"\n              mix={ { block: 'ProductInformation' } }\n              wrapperMix={ { block: 'ProductInformation', elem: 'Wrapper' } }\n            >\n                { this.renderContent() }\n            </ContentWrapper>\n        );\n    }\n}\n\nexport default ProductInformation;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { showNotification } from 'Store/Notification/Notification.action';\nimport { showPopup } from 'Store/Popup/Popup.action';\nimport { isSignedIn } from 'Util/Auth';\n\nimport ProductReviews from './ProductReviews.component';\nimport { REVIEW_POPUP_ID } from './ProductReviews.config';\n\n/** @namespace Component/ProductReviews/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isEnabled: state.ConfigReducer.reviews_are_enabled,\n    isGuestEnabled: state.ConfigReducer.reviews_allow_guest\n});\n\n/** @namespace Component/ProductReviews/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    showPopup: (payload) => dispatch(showPopup(REVIEW_POPUP_ID, payload)),\n    showInfoNotification: (message) => dispatch(showNotification('info', message))\n});\n\n/** @namespace Component/ProductReviews/Container */\nexport class ProductReviewsContainer extends PureComponent {\n    static propTypes = {\n        showInfoNotification: PropTypes.func.isRequired,\n        showPopup: PropTypes.func.isRequired,\n        isGuestEnabled: PropTypes.bool,\n        isEnabled: PropTypes.bool\n    };\n\n    static defaultProps = {\n        isEnabled: true,\n        isGuestEnabled: true\n    };\n\n    containerFunctions = {\n        showPopup: this._showPopup.bind(this)\n    };\n\n    _showPopup() {\n        const {\n            showPopup,\n            isGuestEnabled,\n            showInfoNotification\n        } = this.props;\n\n        // if not logged in and guest reviews are not enabled\n        if (!isSignedIn() && !isGuestEnabled) {\n            showInfoNotification(__('You must login or register to review products.'));\n\n            return;\n        }\n\n        showPopup({ title: __('Write a new review') });\n    }\n\n    render() {\n        const { isEnabled } = this.props;\n\n        if (!isEnabled) {\n            return null;\n        }\n\n        return (\n            <ProductReviews\n              { ...this.props }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductReviewsContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { goToPreviousNavigationState } from 'Store/Navigation/Navigation.action';\nimport { TOP_NAVIGATION_TYPE } from 'Store/Navigation/Navigation.reducer';\nimport { showNotification } from 'Store/Notification/Notification.action';\nimport { hideActiveOverlay } from 'Store/Overlay/Overlay.action';\nimport { customerType } from 'Type/Account';\nimport { ProductType } from 'Type/ProductList';\nimport { RatingItemsType } from 'Type/Rating';\n\nimport ProductReviewForm from './ProductReviewForm.component';\n\nexport const ReviewDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Review/Review.dispatcher'\n);\n\n/** @namespace Component/ProductReviewForm/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    customer: state.MyAccountReducer.customer,\n    reviewRatings: state.ConfigReducer.reviewRatings\n});\n\n/** @namespace Component/ProductReviewForm/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    addReview: (options) => ReviewDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.submitProductReview(dispatch, options)\n    ),\n    showNotification: (type, message) => dispatch(showNotification(type, message)),\n    hideActiveOverlay: () => dispatch(hideActiveOverlay()),\n    goToPreviousHeaderState: () => dispatch(goToPreviousNavigationState(TOP_NAVIGATION_TYPE))\n});\n\n/** @namespace Component/ProductReviewForm/Container */\nexport class ProductReviewFormContainer extends PureComponent {\n    static propTypes = {\n        showNotification: PropTypes.func.isRequired,\n        goToPreviousHeaderState: PropTypes.func.isRequired,\n        hideActiveOverlay: PropTypes.func.isRequired,\n        reviewRatings: RatingItemsType.isRequired,\n        product: ProductType.isRequired,\n        addReview: PropTypes.func.isRequired,\n        customer: customerType.isRequired\n    };\n\n    containerFunctions = ({\n        onReviewSubmitAttempt: this._onReviewSubmitAttempt.bind(this),\n        onReviewSubmitSuccess: this._onReviewSubmitSuccess.bind(this),\n        onStarRatingClick: this._onStarRatingClick.bind(this),\n        handleNicknameChange: this._handleFieldChange.bind(this, 'nickname'),\n        handleSummaryChange: this._handleFieldChange.bind(this, 'summary'),\n        handleDetailChange: this._handleFieldChange.bind(this, 'detail'),\n        onReviewError: this._onReviewError.bind(this)\n    });\n\n    __construct(props) {\n        super.__construct(props);\n\n        const { customer: { firstname: nickname } } = this.props;\n        const reviewData = { nickname };\n\n        this.state = {\n            isLoading: false,\n            ratingData: {},\n            reviewData,\n            isSubmitted: false\n        };\n    }\n\n    _onReviewError(_, invalidFields) {\n        const { showNotification } = this.props;\n        const reviewsAreNotValid = invalidFields;\n\n        if (reviewsAreNotValid) {\n            showNotification('info', __('Incorrect data! Please check review fields.'));\n        }\n\n        this.setState({ isLoading: !reviewsAreNotValid });\n    }\n\n    _onReviewSubmitAttempt() {\n        const { showNotification, reviewRatings } = this.props;\n        const { ratingData, isSubmitted } = this.state;\n        const reviewsAreNotValid = !reviewRatings.every(({ rating_id }) => ratingData[rating_id]);\n\n        if (reviewsAreNotValid) {\n            showNotification('info', __('Please fill all rating fields.'));\n        }\n\n        this.setState({ isSubmitted: !isSubmitted, isLoading: !reviewsAreNotValid });\n    }\n\n    _onReviewSubmitSuccess(fields) {\n        const {\n            product,\n            addReview,\n            hideActiveOverlay,\n            goToPreviousHeaderState\n        } = this.props;\n\n        const { ratingData: rating_data, isLoading } = this.state;\n\n        const {\n            nickname,\n            title,\n            detail\n        } = fields;\n\n        const { sku: product_sku } = product;\n\n        if (Object.keys(rating_data).length && isLoading) {\n            addReview({\n                nickname,\n                title,\n                detail,\n                product_sku,\n                rating_data\n            }).then(\n                /** @namespace Component/ProductReviewForm/Container/addReviewThen */\n                (success) => {\n                    if (success) {\n                        this.setState({\n                            ratingData: {},\n                            reviewData: {},\n                            isLoading: false\n                        });\n\n                        goToPreviousHeaderState();\n                        hideActiveOverlay();\n\n                        return;\n                    }\n\n                    this.setState({ isLoading: false });\n                }\n            );\n        }\n    }\n\n    _onStarRatingClick(rating_id, option_id) {\n        this.setState(({ ratingData }) => ({\n            ratingData: { ...ratingData, [rating_id]: option_id }\n        }));\n    }\n\n    _handleFieldChange(fieldName, value) {\n        this.setState(({ reviewData }) => ({\n            reviewData: { ...reviewData, [fieldName]: value }\n        }));\n    }\n\n    render() {\n        return (\n            <ProductReviewForm\n              { ...this.props }\n              { ...this.containerFunctions }\n              { ...this.state }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductReviewFormContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nexport const RatingOptionItemType = PropTypes.shape({\n    option_id: PropTypes.string,\n    value: PropTypes.string\n});\n\nexport const RatingItemsType = PropTypes.arrayOf(\n    PropTypes.shape({\n        rating_id: PropTypes.string,\n        rating_code: PropTypes.string,\n        rating_options: PropTypes.arrayOf(RatingOptionItemType)\n    })\n);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport './ReviewStar.style';\n\n/** @namespace Component/ReviewStar/Component */\nexport class ReviewStar extends PureComponent {\n    static propTypes = {\n        value: PropTypes.string.isRequired,\n        name: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired,\n        isChecked: PropTypes.bool.isRequired,\n        option_id: PropTypes.string.isRequired,\n        rating_id: PropTypes.string.isRequired,\n        onStarRatingClick: PropTypes.func.isRequired\n    };\n\n    onStarRatingClick = () => {\n        const {\n            rating_id,\n            option_id,\n            onStarRatingClick\n        } = this.props;\n\n        onStarRatingClick(rating_id, option_id);\n    };\n\n    render() {\n        const {\n            name,\n            value,\n            title,\n            isChecked,\n            rating_id,\n            option_id\n        } = this.props;\n\n        return (\n            <input\n              block=\"ReviewStar\"\n              type=\"radio\"\n              id={ option_id + rating_id }\n              name={ name }\n              value={ value }\n              title={ title }\n              checked={ isChecked }\n              onChange={ this.onStarRatingClick }\n            />\n        );\n    }\n}\n\nexport default ReviewStar;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { PureComponent } from 'react';\n\nimport ProductReviewItem from 'Component/ProductReviewItem';\nimport { ProductType } from 'Type/ProductList';\n\nimport './ProductReviewList.style';\n\n/**\n * @class ProductReviewList\n * @namespace Component/ProductReviewList/Component\n */\nexport class ProductReviewList extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired\n    };\n\n    renderReviews() {\n        const { product: { reviews } } = this.props;\n        return reviews.map((reviewItem, i) => (\n            <ProductReviewItem\n              reviewItem={ reviewItem }\n              // eslint-disable-next-line react/no-array-index-key\n              key={ i }\n            />\n        ));\n    }\n\n    render() {\n        const { product } = this.props;\n        const hasReviews = product.reviews && Object.keys(product.reviews).length > 0;\n        if (!hasReviews) {\n            return null;\n        }\n\n        return (\n            <ul block=\"ProductReviewList\">\n                { this.renderReviews() }\n            </ul>\n        );\n    }\n}\n\nexport default ProductReviewList;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ProductReviewRating from 'Component/ProductReviewRating';\n\nimport './ProductReviewItem.style';\n\n/**\n * @class ProductReviewItem\n * @namespace Component/ProductReviewItem/Component\n */\nexport class ProductReviewItem extends PureComponent {\n    static propTypes = {\n        reviewItem: PropTypes.object.isRequired\n    };\n\n    getFormattedDate(created_at) {\n        // Safari bug\n        const fixedDate = created_at.replace(/-/g, '/');\n        const date = new Date(fixedDate);\n        return date ? date.toDateString() : created_at;\n    }\n\n    renderReviewListItemRating = (ratingVoteItem, i) => {\n        const {\n            rating_code,\n            percent\n        } = ratingVoteItem;\n\n        return (\n            <div\n              key={ i }\n              block=\"ProductReviewItem\"\n              elem=\"RatingSummaryItem\"\n              itemType=\"http://schema.org/Rating\"\n              itemScope\n              itemProp=\"reviewRating\"\n            >\n                <p itemProp=\"name\">{ rating_code }</p>\n                <meta itemProp=\"ratingValue\" content={ percent } />\n                <meta itemProp=\"worstRating\" content={ 0 } />\n                <meta itemProp=\"bestRating\" content={ 100 } />\n                <ProductReviewRating\n                  summary={ percent }\n                  code={ rating_code }\n                />\n            </div>\n        );\n    };\n\n    renderAuthor(reviewItem) {\n        const { nickname, created_at } = reviewItem;\n\n        return (\n            <p block=\"ProductReviewItem\" elem=\"ReviewAuthor\">\n                { __('Written by ') }\n                <strong itemProp=\"author\">{ nickname }</strong>\n                <meta itemProp=\"datePublished\" content={ this.getFormattedDate(created_at) } />\n                { __(', written at %s', this.getFormattedDate(created_at)) }\n            </p>\n        );\n    }\n\n    render() {\n        const {\n            reviewItem,\n            reviewItem: {\n                title,\n                detail,\n                rating_votes\n            }\n        } = this.props;\n\n        return (\n            <li\n              block=\"ProductReviewItem\"\n              itemType=\"http://schema.org/Review\"\n              itemProp=\"review\"\n              itemScope\n            >\n                <h4 block=\"ProductReviewItem\" elem=\"ReviewTitle\" itemProp=\"name\">\n                    { title }\n                </h4>\n                <div block=\"ProductReviewItem\" elem=\"RatingSummary\">\n                    { rating_votes.map(this.renderReviewListItemRating) }\n                </div>\n                <div block=\"ProductReviewItem\" elem=\"ReviewContent\">\n                    <p block=\"ProductReviewItem\" elem=\"ReviewDetails\" itemProp=\"reviewBody\">\n                        { detail }\n                    </p>\n                    { this.renderAuthor(reviewItem) }\n                </div>\n            </li>\n        );\n    }\n}\n\nexport default ProductReviewItem;\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const REVIEW_POPUP_ID = 'REVIEW_POPUP_ID';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ProductTab from 'Component/ProductTab';\nimport { isMobile } from 'Util/Mobile';\n\nimport './ProductTabs.style';\n\n/** @namespace Component/ProductTabs/Component */\nexport class ProductTabs extends PureComponent {\n    static propTypes = {\n        tabs: PropTypes.arrayOf(PropTypes.shape({\n            name: PropTypes.string.isRequired,\n            render: PropTypes.func.isRequired\n        })).isRequired,\n        defaultTab: PropTypes.number\n    };\n\n    static defaultProps = {\n        defaultTab: 0\n    };\n\n    __construct(props) {\n        super.__construct(props);\n\n        const { defaultTab } = this.props;\n\n        this.state = {\n            activeTab: defaultTab\n        };\n    }\n\n    onTabClick = (tab) => {\n        const { tabs } = this.props;\n        const { activeTab } = this.state;\n\n        const currentTab = tabs.findIndex(({ name }) => name === tab);\n\n        if (activeTab !== currentTab) {\n            this.setState({\n                activeTab: currentTab\n            });\n        }\n    };\n\n    renderActiveTab() {\n        const { tabs } = this.props;\n        const { activeTab } = this.state;\n\n        return tabs[activeTab].render();\n    }\n\n    renderAllTabs() {\n        const { tabs } = this.props;\n\n        return tabs.map(({ render }) => render());\n    }\n\n    renderTab = (item, i) => {\n        const { activeTab } = this.state;\n\n        return (\n            <ProductTab\n              tabName={ item.name }\n              key={ i }\n              onClick={ this.onTabClick }\n              isActive={ i === activeTab }\n            />\n        );\n    };\n\n    renderTabs() {\n        const { tabs } = this.props;\n\n        return (\n            <>\n                <ul block=\"ProductTabs\">\n                    { tabs.map(this.renderTab) }\n                </ul>\n                { isMobile.any() ? this.renderAllTabs() : this.renderActiveTab() }\n            </>\n        );\n    }\n\n    render() {\n        return (\n            <ContentWrapper\n              wrapperMix={ { block: 'ProductTabs', elem: 'Wrapper' } }\n              label={ __('Product tabs') }\n            >\n                { this.renderTabs() }\n            </ContentWrapper>\n        );\n    }\n}\n\nexport default ProductTabs;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport './ProductTab.style';\n\n/** @namespace Component/ProductTab/Component */\nexport class ProductTab extends PureComponent {\n    static propTypes = {\n        tabName: PropTypes.string.isRequired,\n        onClick: PropTypes.func,\n        isActive: PropTypes.bool\n    };\n\n    static defaultProps = {\n        onClick: () => {},\n        isActive: false\n    };\n\n    onClick = () => {\n        const { onClick, tabName } = this.props;\n        onClick(tabName);\n    };\n\n    render() {\n        const { tabName, isActive } = this.props;\n\n        return (\n            <li\n              block=\"ProductTab\"\n              elem=\"Item\"\n              mods={ { isActive } }\n            >\n                <button\n                  mix={ { block: 'ProductTab', elem: 'Button' } }\n                  onClick={ this.onClick }\n                >\n                    { tabName.toUpperCase() }\n                </button>\n            </li>\n        );\n    }\n}\n\nexport default ProductTab;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport { updateMeta } from 'Store/Meta/Meta.action';\n\nimport NoMatchHandler from './NoMatchHandler.component';\n\nexport const NoMatchDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/NoMatch/NoMatch.dispatcher'\n);\n\n/** @namespace Route/NoMatchHandler/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    noMatch: state.NoMatchReducer.noMatch\n});\n\n/** @namespace Route/NoMatchHandler/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    updateMeta: (meta) => dispatch(updateMeta(meta)),\n    updateNoMatch: (options) => {\n        NoMatchDispatcher.then(\n            ({ default: dispatcher }) => dispatcher.updateNoMatch(dispatch, options)\n        );\n    }\n});\n\n/** @namespace Route/NoMatchHandler/Container */\nexport class NoMatchHandlerContainer extends PureComponent {\n    static propTypes = {\n        updateMeta: PropTypes.func.isRequired,\n        noMatch: PropTypes.bool.isRequired\n    };\n\n    componentDidUpdate(prevProps) {\n        const { noMatch, updateMeta } = this.props;\n        const { noMatch: prevNoMatch } = prevProps;\n\n        if (noMatch !== prevNoMatch) {\n            updateMeta({ title: __('Page not found') });\n        }\n    }\n\n    render() {\n        return (\n            <NoMatchHandler\n              { ...this.props }\n            />\n        );\n    }\n}\n\nexport default withRouter(\n    connect(mapStateToProps, mapDispatchToProps)(NoMatchHandlerContainer)\n);\n","/* eslint-disable react/no-unused-state */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-ProductReviewListtheme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ProductActions from 'Component/ProductActions';\nimport ProductAttributes from 'Component/ProductAttributes';\nimport ProductCompareButton from 'Component/ProductCompareButton';\nimport ProductCustomizableOptions from 'Component/ProductCustomizableOptions';\nimport ProductGallery from 'Component/ProductGallery';\nimport ProductInformation from 'Component/ProductInformation';\nimport ProductLinks from 'Component/ProductLinks';\nimport ProductReviews from 'Component/ProductReviews';\nimport ProductTabs from 'Component/ProductTabs';\nimport NoMatchHandler from 'Route/NoMatchHandler';\nimport {\n    PRODUCT_ATTRIBUTES,\n    PRODUCT_INFORMATION,\n    PRODUCT_REVIEWS\n} from 'Route/ProductPage/ProductPage.config';\nimport { RELATED, UPSELL } from 'Store/LinkedProducts/LinkedProducts.reducer';\nimport { DeviceType } from 'Type/Device';\nimport { ProductType } from 'Type/ProductList';\n\nimport './ProductPage.style';\n\n/** @namespace Route/ProductPage/Component */\nexport class ProductPage extends PureComponent {\n    static propTypes = {\n        configurableVariantIndex: PropTypes.number.isRequired,\n        productOrVariant: ProductType.isRequired,\n        getLink: PropTypes.func.isRequired,\n        parameters: PropTypes.objectOf(PropTypes.string).isRequired,\n        updateConfigurableVariant: PropTypes.func.isRequired,\n        dataSource: ProductType.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired,\n        getSelectedCustomizableOptions: PropTypes.func.isRequired,\n        setLinkedDownloadables: PropTypes.func.isRequired,\n        setLinkedDownloadablesPrice: PropTypes.func.isRequired,\n        productOptionsData: PropTypes.object.isRequired,\n        setBundlePrice: PropTypes.func.isRequired,\n        selectedLinkPrice: PropTypes.number.isRequired,\n        selectedBundlePrice: PropTypes.number.isRequired,\n        device: DeviceType.isRequired,\n        isInformationTabEmpty: PropTypes.bool.isRequired,\n        isAttributesTabEmpty: PropTypes.bool.isRequired,\n        selectedBundlePriceExclTax: PropTypes.number.isRequired,\n        selectedInitialBundlePrice: PropTypes.number.isRequired\n    };\n\n    tabMap = {\n        [PRODUCT_INFORMATION]: {\n            name: __('About'),\n            shouldTabRender: () => {\n                const { isInformationTabEmpty } = this.props;\n                return !isInformationTabEmpty;\n            },\n            render: (key) => this.renderProductInformationTab(key)\n        },\n        [PRODUCT_ATTRIBUTES]: {\n            name: __('Details'),\n            shouldTabRender: () => {\n                const { isAttributesTabEmpty } = this.props;\n                return !isAttributesTabEmpty;\n            },\n            render: (key) => this.renderProductAttributesTab(key)\n        },\n        [PRODUCT_REVIEWS]: {\n            name: __('Reviews'),\n            // Return true since we always show 'Add review' button\n            shouldTabRender: () => true,\n            render: (key) => this.renderProductReviewsTab(key)\n        }\n    };\n\n    renderProductCompareButton() {\n        const {\n            dataSource: { id } = {},\n            device: { isMobile } = {}\n        } = this.props;\n\n        if (!isMobile) {\n            return null;\n        }\n\n        return (\n            <div block=\"ProductPage\" elem=\"ProductCompareButtonWrapper\">\n                <ProductCompareButton\n                  productId={ id }\n                  mix={ {\n                      block: 'ProductCompareButton',\n                      mods: { isGrey: true }\n                  } }\n                />\n            </div>\n        );\n    }\n\n    renderProductPageContent() {\n        const {\n            configurableVariantIndex,\n            parameters,\n            getLink,\n            dataSource,\n            updateConfigurableVariant,\n            productOrVariant,\n            areDetailsLoaded,\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            setBundlePrice,\n            selectedBundlePrice,\n            selectedInitialBundlePrice,\n            selectedBundlePriceExclTax,\n            setLinkedDownloadables,\n            setLinkedDownloadablesPrice,\n            selectedLinkPrice\n        } = this.props;\n\n        return (\n            <>\n                <ProductGallery\n                  product={ productOrVariant }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n                { this.renderProductCompareButton() }\n                <ProductActions\n                  getLink={ getLink }\n                  updateConfigurableVariant={ updateConfigurableVariant }\n                  product={ dataSource }\n                  productOrVariant={ productOrVariant }\n                  parameters={ parameters }\n                  areDetailsLoaded={ areDetailsLoaded }\n                  configurableVariantIndex={ configurableVariantIndex }\n                  getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n                  productOptionsData={ productOptionsData }\n                  setBundlePrice={ setBundlePrice }\n                  selectedBundlePrice={ selectedBundlePrice }\n                  selectedInitialBundlePrice={ selectedInitialBundlePrice }\n                  selectedBundlePriceExclTax={ selectedBundlePriceExclTax }\n                  setLinkedDownloadables={ setLinkedDownloadables }\n                  setLinkedDownloadablesPrice={ setLinkedDownloadablesPrice }\n                  selectedLinkPrice={ selectedLinkPrice }\n                />\n            </>\n        );\n    }\n\n    renderCustomizableOptions() {\n        const {\n            dataSource: { options },\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            device\n        } = this.props;\n\n        if (!device.isMobile) {\n            return null;\n        }\n\n        return (\n            <ProductCustomizableOptions\n              options={ options || [] }\n              getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n              productOptionsData={ productOptionsData }\n            />\n        );\n    }\n\n    renderProductInformationTab(key) {\n        const {\n            dataSource,\n            parameters,\n            areDetailsLoaded\n        } = this.props;\n\n        return (\n            <ProductInformation\n              product={ { ...dataSource, parameters } }\n              areDetailsLoaded={ areDetailsLoaded }\n              key={ key }\n            />\n        );\n    }\n\n    renderProductAttributesTab(key) {\n        const {\n            dataSource,\n            parameters,\n            areDetailsLoaded\n        } = this.props;\n\n        return (\n            <ProductAttributes\n              product={ { ...dataSource, parameters } }\n              areDetailsLoaded={ areDetailsLoaded }\n              key={ key }\n            />\n        );\n    }\n\n    renderProductReviewsTab(key) {\n        const {\n            dataSource,\n            areDetailsLoaded\n        } = this.props;\n\n        return (\n            <ProductReviews\n              product={ dataSource }\n              areDetailsLoaded={ areDetailsLoaded }\n              key={ key }\n            />\n        );\n    }\n\n    shouldTabsRender() {\n        return Object.values(this.tabMap).filter(({ shouldTabRender }) => shouldTabRender());\n    }\n\n    renderProductTabs() {\n        return (\n            <ProductTabs tabs={ this.shouldTabsRender() } />\n        );\n    }\n\n    renderAdditionalSections() {\n        const {\n            areDetailsLoaded\n        } = this.props;\n\n        return (\n            <>\n                { this.renderCustomizableOptions() }\n                { this.renderProductTabs() }\n                <ProductLinks\n                  linkType={ RELATED }\n                  title={ __('Recommended for you') }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n                <ProductLinks\n                  linkType={ UPSELL }\n                  title={ __('You might also like') }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n            </>\n        );\n    }\n\n    render() {\n        return (\n            <NoMatchHandler>\n                <main\n                  block=\"ProductPage\"\n                  aria-label=\"Product page\"\n                  itemScope\n                  itemType=\"http://schema.org/Product\"\n                >\n                    <ContentWrapper\n                      wrapperMix={ { block: 'ProductPage', elem: 'Wrapper' } }\n                      label={ __('Main product details') }\n                    >\n                        { this.renderProductPageContent() }\n                    </ContentWrapper>\n                    { this.renderAdditionalSections() }\n                </main>\n            </NoMatchHandler>\n        );\n    }\n}\n\nexport default ProductPage;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductActions.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable react/no-array-index-key */\n// Disabled due placeholder needs\n\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\n\nimport AddToCart from 'Component/AddToCart';\nimport { PRODUCT_OUT_OF_STOCK } from 'Component/CartItem/CartItem.config';\nimport Field from 'Component/Field';\nimport GroupedProductList from 'Component/GroupedProductList';\nimport Html from 'Component/Html';\nimport ProductBundleItems from 'Component/ProductBundleItems';\nimport ProductCompareButton from 'Component/ProductCompareButton';\nimport ProductConfigurableAttributes from 'Component/ProductConfigurableAttributes';\nimport ProductCustomizableOptions from 'Component/ProductCustomizableOptions';\nimport ProductDownloadableLinks from 'Component/ProductDownloadableLinks';\nimport ProductDownloadableSamples from 'Component/ProductDownloadableSamples';\nimport ProductPrice from 'Component/ProductPrice';\nimport ProductReviewRating from 'Component/ProductReviewRating';\nimport ProductWishlistButton from 'Component/ProductWishlistButton';\nimport TextPlaceholder from 'Component/TextPlaceholder';\nimport TierPrices from 'Component/TierPrices';\nimport { DeviceType } from 'Type/Device';\nimport { PriceType, ProductType } from 'Type/ProductList';\nimport {\n    BUNDLE,\n    CONFIGURABLE,\n    DOWNLOADABLE,\n    GROUPED\n} from 'Util/Product';\n\nimport './ProductActions.style';\n\n/**\n * Product actions\n * @class ProductActions\n * @namespace Component/ProductActions/Component\n */\nexport class ProductActions extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        productOrVariant: ProductType.isRequired,\n        minQuantity: PropTypes.number.isRequired,\n        maxQuantity: PropTypes.number.isRequired,\n        configurableVariantIndex: PropTypes.number,\n        showOnlyIfLoaded: PropTypes.func.isRequired,\n        quantity: PropTypes.number.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired,\n        getLink: PropTypes.func.isRequired,\n        setQuantity: PropTypes.func.isRequired,\n        updateConfigurableVariant: PropTypes.func.isRequired,\n        parameters: PropTypes.objectOf(PropTypes.string).isRequired,\n        getIsConfigurableAttributeAvailable: PropTypes.func.isRequired,\n        groupedProductQuantity: PropTypes.objectOf(PropTypes.number).isRequired,\n        clearGroupedProductQuantity: PropTypes.func.isRequired,\n        setGroupedProductQuantity: PropTypes.func.isRequired,\n        setLinkedDownloadables: PropTypes.func.isRequired,\n        setLinkedDownloadablesPrice: PropTypes.func.isRequired,\n        onProductValidationError: PropTypes.func.isRequired,\n        getSelectedCustomizableOptions: PropTypes.func.isRequired,\n        productOptionsData: PropTypes.object.isRequired,\n        setBundlePrice: PropTypes.func.isRequired,\n        productPrice: PriceType,\n        productName: PropTypes.string,\n        offerCount: PropTypes.number.isRequired,\n        offerType: PropTypes.string.isRequired,\n        stockMeta: PropTypes.string.isRequired,\n        metaLink: PropTypes.string.isRequired,\n        device: DeviceType.isRequired,\n        isWishlistEnabled: PropTypes.bool.isRequired,\n        displayProductStockStatus: PropTypes.bool.isRequired\n    };\n\n    static defaultProps = {\n        configurableVariantIndex: 0,\n        productPrice: {},\n        productName: ''\n    };\n\n    configurableOptionsRef = createRef();\n\n    groupedProductsRef = createRef();\n\n    componentDidUpdate(prevProps) {\n        const { product: { id: prevId } } = prevProps;\n        const { product: { id }, minQuantity, setQuantity } = this.props;\n\n        if (id !== prevId) {\n            setQuantity(minQuantity);\n        }\n    }\n\n    renderStock(stockStatus) {\n        const stockStatusLabel = stockStatus === PRODUCT_OUT_OF_STOCK ? __('Out of stock') : __('In stock');\n        return <span block=\"ProductActions\" elem=\"Stock\">{ stockStatusLabel }</span>;\n    }\n\n    renderSkuAndStock() {\n        const {\n            product,\n            product: { variants },\n            configurableVariantIndex,\n            showOnlyIfLoaded,\n            displayProductStockStatus\n        } = this.props;\n\n        const productOrVariant = variants && variants[configurableVariantIndex] !== undefined\n            ? variants[configurableVariantIndex]\n            : product;\n\n        const { sku, stock_status } = productOrVariant;\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"Section\"\n              mods={ { type: 'sku' } }\n              aria-label=\"Product SKU and availability\"\n            >\n                { showOnlyIfLoaded(\n                    sku,\n                    (\n                        <>\n                            <span block=\"ProductActions\" elem=\"Sku\">\n                                SKU:\n                            </span>\n                            <span block=\"ProductActions\" elem=\"Sku\" itemProp=\"sku\">\n                                { `${ sku }` }\n                            </span>\n                            { displayProductStockStatus && this.renderStock(stock_status) }\n                        </>\n                    ),\n                    <TextPlaceholder />\n                ) }\n            </section>\n        );\n    }\n\n    renderConfigurableAttributes() {\n        const {\n            getLink,\n            updateConfigurableVariant,\n            parameters,\n            areDetailsLoaded,\n            product: { configurable_options, type_id },\n            getIsConfigurableAttributeAvailable\n        } = this.props;\n\n        if (type_id !== 'configurable') {\n            return null;\n        }\n\n        return (\n            <div\n              ref={ this.configurableOptionsRef }\n              block=\"ProductActions\"\n              elem=\"AttributesWrapper\"\n            >\n                <ProductConfigurableAttributes\n                    // eslint-disable-next-line no-magic-numbers\n                  numberOfPlaceholders={ [2, 4] }\n                  mix={ { block: 'ProductActions', elem: 'Attributes' } }\n                  isReady={ areDetailsLoaded }\n                  getLink={ getLink }\n                  parameters={ parameters }\n                  updateConfigurableVariant={ updateConfigurableVariant }\n                  configurable_options={ configurable_options }\n                  getIsConfigurableAttributeAvailable={ getIsConfigurableAttributeAvailable }\n                  isContentExpanded\n                />\n            </div>\n        );\n    }\n\n    renderBundleItems() {\n        const {\n            product: { items, type_id, price_range },\n            maxQuantity,\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            setBundlePrice\n        } = this.props;\n\n        if (type_id !== BUNDLE) {\n            return null;\n        }\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"Section\"\n              mods={ { type: 'bundle_items' } }\n            >\n                <ProductBundleItems\n                  items={ items }\n                  getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n                  maxQuantity={ maxQuantity }\n                  productOptionsData={ productOptionsData }\n                  setBundlePrice={ setBundlePrice }\n                  price_range={ price_range }\n                  type_id={ type_id }\n                />\n            </section>\n        );\n    }\n\n    renderShortDescriptionContent() {\n        const { product: { short_description } } = this.props;\n        const { html } = short_description || {};\n\n        const htmlWithItemProp = `<div itemProp=\"description\">${ html }</div>`;\n\n        return (\n            <div block=\"ProductActions\" elem=\"ShortDescription\">\n                { html ? <Html content={ htmlWithItemProp } /> : <p><TextPlaceholder length=\"long\" /></p> }\n            </div>\n        );\n    }\n\n    renderShortDescription() {\n        const { product: { short_description, id } } = this.props;\n        const { html } = short_description || {};\n\n        if (!html && id) {\n            return null;\n        }\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"Section\"\n              mods={ { type: 'short' } }\n              aria-label=\"Product short description\"\n            >\n                { this.renderShortDescriptionContent() }\n            </section>\n        );\n    }\n\n    renderNameAndBrand() {\n        const {\n            product:\n                {\n                    name,\n                    attributes: { brand: { attribute_value: brand } = {} } = {}\n                },\n            showOnlyIfLoaded\n        } = this.props;\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"Section\"\n              mods={ { type: 'name' } }\n            >\n                { showOnlyIfLoaded(\n                    brand,\n                    (\n                        <>\n                            <meta itemProp=\"brand\" content={ brand } />\n                            <h4 block=\"ProductActions\" elem=\"Brand\" itemProp=\"brand\">\n                                <TextPlaceholder content={ brand } />\n                            </h4>\n                        </>\n                    )\n                ) }\n                <h2 block=\"ProductActions\" elem=\"Title\" itemProp=\"name\">\n                    <TextPlaceholder content={ name } length=\"medium\" />\n                </h2>\n            </section>\n        );\n    }\n\n    renderCustomizableOptions() {\n        const {\n            product: {\n                options,\n                type_id = '',\n                price_range = {}\n            } = {},\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            device\n        } = this.props;\n\n        if (device.isMobile) {\n            return null;\n        }\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"Section\"\n              mods={ { type: 'customizable_options' } }\n            >\n                <ProductCustomizableOptions\n                  options={ options }\n                  getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n                  productOptionsData={ productOptionsData }\n                  price_range={ price_range }\n                  type_id={ type_id }\n                />\n            </section>\n        );\n    }\n\n    renderQuantityInput() {\n        const {\n            quantity,\n            maxQuantity,\n            minQuantity,\n            setQuantity,\n            product: { type_id }\n        } = this.props;\n\n        if (type_id === GROUPED) {\n            return null;\n        }\n\n        return (\n            <Field\n              id=\"item_qty\"\n              name=\"item_qty\"\n              type=\"number\"\n              value={ quantity }\n              max={ maxQuantity }\n              min={ minQuantity }\n              mix={ { block: 'ProductActions', elem: 'Qty' } }\n              onChange={ setQuantity }\n            />\n        );\n    }\n\n    renderAddToCart() {\n        const {\n            configurableVariantIndex,\n            product,\n            quantity,\n            groupedProductQuantity,\n            onProductValidationError,\n            productOptionsData\n        } = this.props;\n\n        return (\n            <AddToCart\n              product={ product }\n              configurableVariantIndex={ configurableVariantIndex }\n              mix={ { block: 'ProductActions', elem: 'AddToCart' } }\n              quantity={ quantity }\n              groupedProductQuantity={ groupedProductQuantity }\n              onProductValidationError={ onProductValidationError }\n              productOptionsData={ productOptionsData }\n            />\n        );\n    }\n\n    renderOfferCount() {\n        const { offerCount } = this.props;\n\n        if (offerCount > 1) {\n            return (\n                <meta\n                  itemProp=\"offerCount\"\n                  content={ offerCount }\n                />\n            );\n        }\n\n        return null;\n    }\n\n    renderSchema() {\n        const {\n            productName,\n            stockMeta,\n            metaLink\n        } = this.props;\n\n        return (\n            <>\n                { this.renderOfferCount() }\n                <meta itemProp=\"availability\" content={ stockMeta } />\n                <meta itemProp=\"url\" content={ metaLink } />\n                <a\n                  block=\"ProductActions\"\n                  elem=\"Schema-Url\"\n                  itemProp=\"url\"\n                  href={ metaLink }\n                >\n                    { productName }\n                </a>\n            </>\n        );\n    }\n\n    renderConfigurablePriceBadge() {\n        const {\n            configurableVariantIndex,\n            product: { type_id }\n        } = this.props;\n\n        if (\n            type_id !== CONFIGURABLE\n            || configurableVariantIndex > -1\n        ) {\n            return null;\n        }\n\n        return (\n            <p\n              mix={ {\n                  block: 'ProductActions',\n                  elem: 'ConfigurablePriceBadge'\n              } }\n            >\n                { __('As Low as') }\n            </p>\n        );\n    }\n\n    renderPriceWithSchema() {\n        const {\n            productPrice,\n            offerCount\n        } = this.props;\n\n        const {\n            minimum_price: {\n                final_price: {\n                    value: minFinalPrice = 0\n                } = {}\n            } = {},\n            maximum_price: {\n                final_price: {\n                    value: maxFinalPrice = 0\n                } = {}\n            } = {}\n        } = productPrice;\n\n        return (\n            <div\n              block=\"ProductActions\"\n              elem=\"PriceWrapper\"\n            >\n                { this.renderConfigurablePriceBadge() }\n                { this.renderSchema() }\n                <meta\n                  itemProp=\"highPrice\"\n                  content={ (minFinalPrice === maxFinalPrice) ? minFinalPrice : maxFinalPrice }\n                />\n                <ProductPrice\n                  isSchemaRequired\n                  variantsCount={ offerCount }\n                  price={ productPrice }\n                  mix={ { block: 'ProductActions', elem: 'Price' } }\n                />\n            </div>\n        );\n    }\n\n    renderPriceWithGlobalSchema() {\n        const {\n            offerType,\n            product: {\n                type_id\n            }\n        } = this.props;\n\n        if (type_id === GROUPED) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductActions\"\n              elem=\"Schema\"\n              itemType={ offerType }\n              itemProp=\"offers\"\n              itemScope\n            >\n                { this.renderPriceWithSchema() }\n            </div>\n        );\n    }\n\n    renderProductWishlistButton() {\n        const {\n            product,\n            quantity,\n            configurableVariantIndex,\n            onProductValidationError,\n            productOptionsData,\n            groupedProductQuantity,\n            isWishlistEnabled\n        } = this.props;\n\n        if (!isWishlistEnabled) {\n            return null;\n        }\n\n        return (\n            <ProductWishlistButton\n              product={ product }\n              quantity={ quantity }\n              configurableVariantIndex={ configurableVariantIndex }\n              onProductValidationError={ onProductValidationError }\n              productOptionsData={ productOptionsData }\n              groupedProductQuantity={ groupedProductQuantity }\n            />\n        );\n    }\n\n    renderProductCompareButton() {\n        const {\n            product: { id } = {},\n            device: { isMobile } = {}\n        } = this.props;\n\n        if (!id || isMobile) {\n            return null;\n        }\n\n        return (\n            <ProductCompareButton productId={ id } />\n        );\n    }\n\n    renderReviews() {\n        const {\n            product: {\n                review_summary: {\n                    rating_summary,\n                    review_count\n                } = {}\n            }\n        } = this.props;\n\n        if (!rating_summary) {\n            return null;\n        }\n\n        const ONE_FIFTH_OF_A_HUNDRED = 20;\n        const rating = parseFloat(rating_summary / ONE_FIFTH_OF_A_HUNDRED).toFixed(2);\n\n        return (\n            <div\n              block=\"ProductActions\"\n              elem=\"Reviews\"\n            >\n                <ProductReviewRating summary={ rating_summary || 0 } />\n                <p block=\"ProductActions\" elem=\"ReviewLabel\">\n                    { rating }\n                    <span>{ __('%s reviews', review_count) }</span>\n                </p>\n            </div>\n        );\n    }\n\n    renderGroupedItems() {\n        const {\n            product,\n            product: {\n                type_id\n            },\n            groupedProductQuantity,\n            setGroupedProductQuantity,\n            clearGroupedProductQuantity\n        } = this.props;\n\n        if (type_id !== GROUPED) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductActions\"\n              elem=\"GroupedItems\"\n              ref={ this.groupedProductsRef }\n            >\n                <GroupedProductList\n                  product={ product }\n                  clearGroupedProductQuantity={ clearGroupedProductQuantity }\n                  groupedProductQuantity={ groupedProductQuantity }\n                  setGroupedProductQuantity={ setGroupedProductQuantity }\n                />\n            </div>\n        );\n    }\n\n    renderTierPrices() {\n        const { productOrVariant } = this.props;\n\n        return (\n            <div block=\"ProductActions\" elem=\"TierPrices\">\n                <TierPrices product={ productOrVariant } />\n            </div>\n        );\n    }\n\n    renderDownloadableProductSample() {\n        const {\n            product: {\n                type_id,\n                samples_title,\n                downloadable_product_samples\n            }\n        } = this.props;\n\n        if (type_id !== DOWNLOADABLE || !downloadable_product_samples) {\n            return null;\n        }\n\n        return (\n            <ProductDownloadableSamples\n              title={ samples_title }\n              samples={ downloadable_product_samples }\n            />\n        );\n    }\n\n    renderDownloadableProductLinks() {\n        const {\n            setLinkedDownloadables,\n            setLinkedDownloadablesPrice,\n            product: {\n                type_id, downloadable_product_links, links_title, links_purchased_separately\n            }\n        } = this.props;\n\n        if (type_id !== DOWNLOADABLE) {\n            return null;\n        }\n\n        const isRequired = links_purchased_separately === 1;\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"SectionDownloadable\"\n              mods={ { type: 'customizable_options' } }\n            >\n                <ProductDownloadableLinks\n                  links={ downloadable_product_links }\n                  setLinkedDownloadables={ setLinkedDownloadables }\n                  setLinkedDownloadablesPrice={ setLinkedDownloadablesPrice }\n                  title={ links_title }\n                  isRequired={ isRequired }\n                />\n            </section>\n        );\n    }\n\n    render() {\n        return (\n            <article block=\"ProductActions\">\n                    { this.renderPriceWithGlobalSchema() }\n                    { this.renderShortDescription() }\n                    { this.renderDownloadableProductSample() }\n                    { this.renderDownloadableProductLinks() }\n                    <div\n                      block=\"ProductActions\"\n                      elem=\"AddToCartWrapper\"\n                      mix={ { block: 'FixedElement', elem: 'Bottom' } }\n                    >\n                        { this.renderQuantityInput() }\n                        { this.renderAddToCart() }\n                        { this.renderProductCompareButton() }\n                        { this.renderProductWishlistButton() }\n                    </div>\n                    { this.renderReviews() }\n                    { this.renderNameAndBrand() }\n                    { this.renderSkuAndStock() }\n                    { this.renderConfigurableAttributes() }\n                    { this.renderCustomizableOptions() }\n                    { this.renderBundleItems() }\n                    { this.renderGroupedItems() }\n                    { this.renderTierPrices() }\n            </article>\n        );\n    }\n}\n\nexport default ProductActions;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './GroupedProductList.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './GroupedProductsItem.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Field from 'Component/Field';\nimport Image from 'Component/Image';\nimport ProductPrice from 'Component/ProductPrice';\nimport TextPlaceholder from 'Component/TextPlaceholder';\nimport { ProductType } from 'Type/ProductList';\nimport media, { PRODUCT_MEDIA } from 'Util/Media';\n\nimport './GroupedProductsItem.style';\n\n/**\n * Grouped Product Item\n * @class GroupedProduct\n * @namespace Component/GroupedProductsItem/Component\n */\nexport class GroupedProductsItem extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        changeCount: PropTypes.func.isRequired,\n        itemCount: PropTypes.number.isRequired\n    };\n\n    renderTitle() {\n        const {\n            product: {\n                name,\n                price_range\n            }\n        } = this.props;\n\n        return (\n            <div block=\"GroupedProductsItem\" elem=\"Title\">\n                <p>\n                    <TextPlaceholder content={ name } />\n                </p>\n                <ProductPrice price={ price_range } mods={ { type: 'regular' } } />\n            </div>\n        );\n    }\n\n    renderQuantity() {\n        const {\n            changeCount,\n            itemCount\n        } = this.props;\n\n        return (\n            <div block=\"GroupedProductsItem\" elem=\"Quantity\">\n                <Field\n                  type=\"number\"\n                  id=\"HeaderInput\"\n                  name=\"HeaderInput\"\n                  onChange={ changeCount }\n                  value={ itemCount }\n                  min={ 0 }\n                />\n            </div>\n        );\n    }\n\n    renderImage() {\n        const {\n            product: {\n                thumbnail: {\n                    path: thumb_url\n                }\n            }\n        } = this.props;\n\n        return (\n            <Image\n              mix={ { block: 'GroupedProductsItem', elem: 'Image' } }\n              src={ thumb_url && media(thumb_url, PRODUCT_MEDIA) }\n              alt=\"Product Thumbnail\"\n            />\n        );\n    }\n\n    render() {\n        return (\n            <li block=\"GroupedProductsItem\" aria-label=\"Product Item\">\n                { this.renderImage() }\n                { this.renderTitle() }\n                { this.renderQuantity() }\n            </li>\n        );\n    }\n}\n\nexport default GroupedProductsItem;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductBundleItems.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductCustomizableOption.container';\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const CHECKBOX = 'checkbox';\nexport const DROPDOWN = 'dropdown';\nexport const TEXT_FIELD = 'field';\nexport const AREA_FIELD = 'area';\nexport const FILE = 'file';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ProductBundleItem from 'Component/ProductBundleItem';\nimport ProductCustomizableOptions from 'Component/ProductCustomizableOptions/ProductCustomizableOptions.component';\n\n/** @namespace Component/ProductBundleItems/Component */\nexport class ProductBundleItems extends ProductCustomizableOptions {\n    static propTypes = {\n        ...ProductCustomizableOptions.propTypes,\n        items: PropTypes.array,\n        maxQuantity: PropTypes.number.isRequired,\n        updateQuantity: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        items: []\n    };\n\n    renderContent() {\n        const {\n            items,\n            setSelectedCheckboxValues,\n            setSelectedDropdownValue,\n            maxQuantity,\n            updateQuantity,\n            productOptionsData,\n            price_range,\n            type_id,\n            price_range: { minimum_price: { regular_price: { currency } } }\n        } = this.props;\n\n        return items.map((item, key) => (\n            <ProductBundleItem\n              option={ item }\n              price_range={ price_range }\n              /* eslint-disable-next-line react/no-array-index-key */\n              key={ key }\n              setSelectedCheckboxValues={ setSelectedCheckboxValues }\n              setSelectedDropdownValue={ setSelectedDropdownValue }\n              maxQuantity={ maxQuantity }\n              updateQuantity={ updateQuantity }\n              productOptionsData={ productOptionsData }\n              currencyCode={ currency }\n              type_id={ type_id }\n            />\n        ));\n    }\n}\n\nexport default ProductBundleItems;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductBundleItem.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nimport Field from 'Component/Field';\nimport { PRICE_TYPE_PERCENT } from 'Component/ProductBundleItem/ProductBundleItem.config';\nimport ProductCustomizableOption from 'Component/ProductCustomizableOption/ProductCustomizableOption.component';\n\nimport {\n    CHECKBOX,\n    MULTI,\n    RADIO,\n    SELECT\n} from './ProductBundleItem.config';\n\nimport './ProductBundleItem.style';\n\n/** @namespace Component/ProductBundleItem/Component */\nexport class ProductBundleItem extends ProductCustomizableOption {\n    static propTypes = {\n        ...ProductCustomizableOption.propTypes,\n        maxQuantity: PropTypes.number.isRequired,\n        setDropdownItemQuantity: PropTypes.func.isRequired\n    };\n\n    renderMap = {\n        [CHECKBOX]: this.renderCheckboxValues.bind(this),\n        [MULTI]: this.renderCheckboxValues.bind(this),\n        [RADIO]: this.renderDropdownValues.bind(this),\n        [SELECT]: this.renderDropdownValues.bind(this)\n    };\n\n    renderHeading(mainTitle, titleBold, quantity) {\n        return (\n            <>\n                <span\n                  block=\"ProductBundleItem\"\n                  elem=\"Heading\"\n                >\n                    { `${ quantity } x ${ mainTitle } + ` }\n                </span>\n                <span\n                  block=\"ProductBundleItem\"\n                  elem=\"HeadingBold\"\n                >\n                    { titleBold }\n                </span>\n            </>\n        );\n    }\n\n    renderOptionCheckboxValue = (item) => {\n        const {\n            currencyCode,\n            getSelectedCheckboxValue,\n            renderOptionLabel\n        } = this.props;\n\n        if (!item.product) {\n            return null;\n        }\n\n        const {\n            id,\n            label,\n            price_type,\n            quantity,\n            is_default,\n            finalOptionPrice,\n            price\n        } = item;\n\n        const finalPrice = price_type === PRICE_TYPE_PERCENT ? price : finalOptionPrice;\n\n        const priceLabel = renderOptionLabel(price_type, finalPrice, currencyCode);\n\n        return (\n            <div key={ id }>\n                <Field\n                  type=\"checkbox\"\n                  label={ this.renderHeading(label, priceLabel, quantity) }\n                  id={ `option-${ id }` }\n                  name={ `option-${ id }` }\n                  value={ id }\n                  checked={ is_default }\n                  onChange={ getSelectedCheckboxValue }\n                />\n            </div>\n        );\n    };\n\n    renderQtyInput = (item) => {\n        const {\n            selectedDropdownValue,\n            setDropdownItemQuantity,\n            maxQuantity\n        } = this.props;\n        const { id, quantity, can_change_quantity } = item;\n\n        if (id !== selectedDropdownValue || !can_change_quantity) {\n            return null;\n        }\n\n        return (\n            <Field\n              key={ id }\n              id=\"item_qty\"\n              name=\"item_qty\"\n              type=\"number\"\n              value={ quantity }\n              max={ maxQuantity }\n              min={ 1 }\n              mix={ { block: 'ProductBundleItems', elem: 'Qty' } }\n              onChange={ setDropdownItemQuantity }\n            />\n        );\n    };\n\n    renderOptionDropdownValues(values) {\n        const {\n            option: { options },\n            getDropdownOptions,\n            selectedDropdownValue,\n            setDropdownValue\n        } = this.props;\n        const dropdownOptions = getDropdownOptions(values);\n\n        return (\n            <div block=\"ProductBundleItem\" elem=\"DropdownWrapper\">\n                <Field\n                  id=\"bundle-options-dropdown\"\n                  name=\"bundle-options-dropdown\"\n                  type=\"select\"\n                  mix={ { block: 'ProductBundleItem', elem: 'Select' } }\n                  placeholder={ __('Choose Option') }\n                  selectOptions={ dropdownOptions }\n                  value={ selectedDropdownValue }\n                  onChange={ setDropdownValue }\n                />\n                { options.map(this.renderQtyInput) }\n            </div>\n        );\n    }\n\n    renderCheckboxValues() {\n        const { option: { required, options } } = this.props;\n\n        return (\n            <>\n                { options.map(this.renderOptionCheckboxValue) }\n                { this.renderRequired(required) }\n            </>\n        );\n    }\n\n    renderDropdownValues() {\n        const { option: { required, options } } = this.props;\n\n        return (\n            <>\n                { this.renderOptionDropdownValues(options) }\n                { this.renderRequired(required) }\n            </>\n        );\n    }\n\n    render() {\n        const { optionType } = this.props;\n        const render = this.renderMap[optionType];\n\n        if (!render) {\n            return null;\n        }\n\n        const { option: { title } } = this.props;\n\n        return (\n            <div block=\"ProductBundleItem\" elem=\"Wrapper\">\n                <div block=\"ProductBundleItem\" elem=\"Title\">\n                    { title }\n                </div>\n                { render() }\n            </div>\n        );\n    }\n}\n\nexport default ProductBundleItem;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductConfigurableAttributes.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductDownloadableLinks.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Field from 'Component/Field';\nimport Link from 'Component/Link';\nimport { formatPrice } from 'Util/Price';\n\nimport './ProductDownloadableLinks.style.scss';\n\n/** @namespace Component/ProductDownloadableLinks/Component */\nexport class ProductDownloadableLinks extends PureComponent {\n    static propTypes = {\n        isLoading: PropTypes.bool.isRequired,\n        isRequired: PropTypes.bool.isRequired,\n        links: PropTypes.array,\n        title: PropTypes.string.isRequired,\n        setSelectedCheckboxValues: PropTypes.func.isRequired,\n        isOpenInNewTab: PropTypes.bool.isRequired,\n        selectedLinks: PropTypes.array\n    };\n\n    static defaultProps = {\n        links: [],\n        selectedLinks: []\n    };\n\n    getLabel(link) {\n        const { title, price } = link;\n        const { isRequired } = this.props;\n\n        if (!isRequired) {\n            return (\n            <span block=\"ProductDownloadableLink\" elem=\"SampleTitle\">\n                { title }\n            </span>\n            );\n        }\n\n        return (\n            <span block=\"ProductDownloadableLink\" elem=\"SampleTitle\">\n                { title }\n                { `(+${ formatPrice(price) })` }\n            </span>\n        );\n    }\n\n    renderLabel(link) {\n        const { isOpenInNewTab } = this.props;\n        const { sample_url } = link;\n\n        if (!sample_url) {\n            return this.getLabel(link);\n        }\n\n        return (\n            <>\n                { this.getLabel(link) }\n                <Link\n                  to={ sample_url }\n                  isOpenInNewTab={ isOpenInNewTab }\n                  block=\"ProductDownloadableLink\"\n                  elem=\"SampleLink\"\n                >\n                    { __('Sample') }\n                </Link>\n            </>\n        );\n    }\n\n    renderCheckBox(link) {\n        const { setSelectedCheckboxValues, isRequired } = this.props;\n        const { id } = link;\n\n        if (!isRequired) {\n            return null;\n        }\n\n        return (\n            <Field\n              type=\"checkbox\"\n              key={ id }\n              id={ `link-${ id }` }\n              name={ `link-${ id }` }\n              value={ id }\n              onChange={ setSelectedCheckboxValues }\n            />\n        );\n    }\n\n    renderLink = (link) => {\n        const { id } = link;\n\n        return (\n            <div block=\"ProductDownloadableLink\" key={ id }>\n                { this.renderCheckBox(link) }\n                <span block=\"ProductDownloadableLink\" elem=\"SampleLabel\">\n                    { this.renderLabel(link) }\n                </span>\n            </div>\n        );\n    };\n\n    renderRequired(isRequired) {\n        const { selectedLinks } = this.props;\n\n        if (isRequired !== true || selectedLinks.length > 0) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductDownloadableLink\"\n              elem=\"Required\"\n            >\n                { __('This field is required!') }\n            </div>\n        );\n    }\n\n    renderLinks() {\n        const { links, isRequired } = this.props;\n        return (\n            <>\n                { links.map(this.renderLink) }\n                { this.renderRequired(isRequired) }\n            </>\n        );\n    }\n\n    renderTitle() {\n        const { title } = this.props;\n\n        return (\n            <h3 block=\"ProductDownloadableLinks\" elem=\"Title\">\n                { title }\n            </h3>\n        );\n    }\n\n    renderContent() {\n        return (\n            <>\n            { this.renderTitle() }\n            { this.renderLinks() }\n            </>\n        );\n    }\n\n    renderPlaceholder() {\n        const { isLoading } = this.props;\n\n        return (\n            <div\n              block=\"ProductDownloadableLinks\"\n              mods={ { isLoading, isPlaceholder: true } }\n            />\n        );\n    }\n\n    render() {\n        const { isLoading, title } = this.props;\n\n        if (isLoading) {\n            return this.renderPlaceholder();\n        }\n\n        return (\n            <ExpandableContent\n              block=\"ProductDownloadableLinks\"\n              heading={ title }\n              mix={ { block: 'ProductDownloadableLinks' } }\n            >\n                { this.renderContent() }\n            </ExpandableContent>\n        );\n    }\n}\n\nexport default ProductDownloadableLinks;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductDownloadableSamples.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Link from 'Component/Link';\nimport { DownloadableSamplesType } from 'Type/ProductList';\n\nimport './ProductDownloadableSamples.style.scss';\n\n/** @namespace Component/ProductDownloadableSamples/Component */\nexport class ProductDownloadableSamples extends PureComponent {\n    static propTypes = {\n        title: PropTypes.string.isRequired,\n        samples: DownloadableSamplesType.isRequired,\n        isOpenInNewTab: PropTypes.bool.isRequired\n    };\n\n    renderDownloadableProductSampleItems() {\n        const {\n            samples,\n            isOpenInNewTab\n        } = this.props;\n\n        return samples.map((item, i) => {\n            const { title, sample_url } = item;\n\n            return (\n                <dd\n                  block=\"ProductDownloadableSamples\"\n                  elem=\"Link\"\n                  // eslint-disable-next-line react/no-array-index-key\n                  key={ i }\n                >\n                    <Link\n                      to={ sample_url }\n                      isOpenInNewTab={ isOpenInNewTab }\n                    >\n                        { title }\n                    </Link>\n                </dd>\n            );\n        });\n    }\n\n    render() {\n        const { title } = this.props;\n\n        return (\n            <ExpandableContent\n              heading={ title }\n              mix={ { block: 'ProductDownloadableSamples', elem: 'Wrapper' } }\n            >\n                <dl block=\"ProductDownloadableSamples\">\n                    <dt block=\"ProductDownloadableSamples\" elem=\"Title\">\n                        { title }\n                    </dt>\n                    { this.renderDownloadableProductSampleItems() }\n                </dl>\n            </ExpandableContent>\n        );\n    }\n}\n\nexport default ProductDownloadableSamples;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductAttributes.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { Fragment, PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ExpandableContent from 'Component/ExpandableContent';\nimport ProductAttributeValue from 'Component/ProductAttributeValue';\nimport { AttributeType } from 'Type/ProductList';\n\nimport './ProductAttributes.style';\n\n/** @namespace Component/ProductAttributes/Component */\nexport class ProductAttributes extends PureComponent {\n    static propTypes = {\n        areDetailsLoaded: PropTypes.bool.isRequired,\n        attributesWithValues: AttributeType.isRequired\n    };\n\n    renderGroups() {\n        const { attributesWithValues } = this.props;\n\n        const groups = Object.values(attributesWithValues).map(\n            (attribute) => ({\n                attribute_group_id: attribute.attribute_group_id,\n                attribute_group_name: attribute.attribute_group_name,\n                attribute_group_code: attribute.attribute_group_code\n            })\n        );\n\n        const uniqueGroups = groups.filter(\n            (group, index, array) => (\n                index === array.findIndex((g) => g.attribute_group_id === group.attribute_group_id)\n            )\n        );\n\n        return (\n            uniqueGroups.map(\n                (group) => (\n<Fragment key={ group.attribute_group_id }>\n                    <p block=\"ProductAttributes\" elem=\"Group\">\n                        { group.attribute_group_name }\n                    </p>\n                    { this.renderAttributes(group.attribute_group_id) }\n</Fragment>\n                )\n            )\n        );\n    }\n\n    renderAttribute = (attribute) => (\n        <Fragment key={ attribute.attribute_label }>\n            <dt block=\"ProductAttributes\" elem=\"AttributeLabel\">\n                { attribute.attribute_label }\n            </dt>\n            <dd block=\"ProductAttributes\" elem=\"ValueLabel\">\n                <ProductAttributeValue\n                  key={ attribute.attribute_label }\n                  attribute={ attribute }\n                  isFormattedAsText\n                />\n            </dd>\n        </Fragment>\n    );\n\n    renderAttributes(attribute_group_id) {\n        const { attributesWithValues } = this.props;\n\n        if (!Object.keys(attributesWithValues).length) {\n            return null;\n        }\n\n        const filteredAttributesWithValues = Object.values(attributesWithValues).filter(\n            (attribute) => attribute.attribute_group_id === attribute_group_id\n        );\n\n        if (!filteredAttributesWithValues.length) {\n            return null;\n        }\n\n        return (\n            <dl block=\"ProductAttributes\" elem=\"Attributes\">\n                { filteredAttributesWithValues.map(this.renderAttribute) }\n            </dl>\n        );\n    }\n\n    renderContent() {\n        const { areDetailsLoaded } = this.props;\n        const heading = areDetailsLoaded ? __('Product attributes') : '';\n\n        return (\n            <ExpandableContent\n              // show placeholder if the details are not loaded\n              heading={ heading }\n              mix={ { block: 'ProductAttributes', elem: 'Content' } }\n            >\n                <div>\n                    { this.renderGroups() }\n                </div>\n            </ExpandableContent>\n        );\n    }\n\n    render() {\n        const {\n            areDetailsLoaded\n        } = this.props;\n\n        if (!areDetailsLoaded) {\n            return null;\n        }\n\n        return (\n            <ContentWrapper\n              label=\"Product attributes\"\n              mix={ { block: 'ProductAttributes' } }\n              wrapperMix={ { block: 'ProductAttributes', elem: 'Wrapper' } }\n            >\n                { this.renderContent() }\n            </ContentWrapper>\n        );\n    }\n}\n\nexport default ProductAttributes;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductGallery.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ImageZoomPopup.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport TranslateOnCursorMove from 'Component/TranslateOnCursorMove';\nimport { ChildrenType } from 'Type/Common';\n\nimport './ImageZoomPopup.style';\n\n/** @namespace Component/ImageZoomPopup/Component */\nexport class ImageZoomPopup extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        activeImageId: PropTypes.number.isRequired\n    };\n\n    render() {\n        const {\n            children,\n            activeImageId\n        } = this.props;\n\n        return (\n            <div block=\"ImageZoomPopup\">\n                <TranslateOnCursorMove\n                  activeImageId={ activeImageId }\n                  itemSelector=\".ProductGallery-SliderImage\"\n                  targetSelector=\".Image-Image\"\n                >\n                    { children }\n                </TranslateOnCursorMove>\n            </div>\n        );\n    }\n}\n\nexport default ImageZoomPopup;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nexport { default } from './TranslateOnCursorMove.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\n\nimport { ChildrenType } from 'Type/Common';\nimport CSS from 'Util/CSS';\n\nimport './TranslateOnCursorMove.style';\n\n/** @namespace Component/TranslateOnCursorMove/Component */\nexport class TranslateOnCursorMove extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        activeImageId: PropTypes.number.isRequired,\n        isMobile: PropTypes.bool.isRequired,\n        itemSelector: PropTypes.string.isRequired,\n        targetSelector: PropTypes.string.isRequired\n    };\n\n    static defaultProps = {\n    };\n\n    ref = createRef();\n\n    handleMouseMove = ({ pageY: wrapperPageY }) => {\n        const {\n            activeImageId,\n            itemSelector,\n            targetSelector\n        } = this.props;\n\n        // Space from top and bottom to shrink mouse move watch area\n        const paddingY = 90;\n\n        const target = this.ref.current\n            .querySelectorAll(itemSelector)?.[activeImageId]\n            ?.querySelector(targetSelector);\n\n        if (!target) {\n            return;\n        }\n\n        const innerHeight = target.getBoundingClientRect().height;\n        const { height: wrapperHeight, top } = this.ref.current.getBoundingClientRect();\n\n        const pageY = wrapperPageY - top;\n\n        // When mouse is reached top or bottom\n        if (wrapperPageY < paddingY + top || (wrapperPageY > (wrapperHeight + top - paddingY))) {\n            return;\n        }\n\n        const ratio = (innerHeight - wrapperHeight) / (wrapperHeight - (paddingY * 2));\n        const translate = (pageY - paddingY) * ratio;\n\n        CSS.setVariable(this.ref, 'translateYOnCursorMove', `${ -translate }px`);\n    };\n\n    render() {\n        const { children, isMobile } = this.props;\n\n        if (isMobile) {\n            return children;\n        }\n\n        return (\n            <div block=\"TranslateOnCursorMove\" onMouseMove={ this.handleMouseMove } ref={ this.ref }>\n                { children }\n            </div>\n        );\n    }\n}\n\nexport default TranslateOnCursorMove;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\nimport { withRouter } from 'react-router';\nimport { TransformWrapper } from 'react-zoom-pan-pinch';\n\nimport CarouselScroll from 'Component/CarouselScroll';\nimport Image from 'Component/Image';\nimport ProductGalleryBaseImage from 'Component/ProductGalleryBaseImage';\nimport ProductGalleryThumbnailImage from 'Component/ProductGalleryThumbnailImage';\nimport Slider from 'Component/Slider';\nimport VideoPopup from 'Component/VideoPopup';\nimport VideoThumbnail from 'Component/VideoThumbnail';\nimport { LocationType } from 'Type/Common';\nimport CSS from 'Util/CSS';\n\nimport {\n    IMAGE_TYPE,\n    MAX_ZOOM_SCALE,\n    PLACEHOLDER_TYPE,\n    VIDEO_TYPE\n} from './ProductGallery.config';\n\nimport './ProductGallery.style';\n\n/**\n * Product gallery\n * @class ProductGallery\n * @namespace Component/ProductGallery/Component\n */\nexport class ProductGallery extends PureComponent {\n    static propTypes = {\n        gallery: PropTypes.arrayOf(\n            PropTypes.shape({\n                id: PropTypes.oneOfType([\n                    PropTypes.number,\n                    PropTypes.string\n                ]),\n                image: PropTypes.string,\n                isPlaceholder: PropTypes.bool,\n                alt: PropTypes.string,\n                type: PropTypes.string,\n                media_type: PropTypes.string\n            })\n        ).isRequired,\n        productId: PropTypes.number,\n        isZoomEnabled: PropTypes.bool.isRequired,\n        activeImage: PropTypes.number.isRequired,\n        onActiveImageChange: PropTypes.func.isRequired,\n        handleZoomChange: PropTypes.func.isRequired,\n        registerSharedElementDestination: PropTypes.func.isRequired,\n        disableZoom: PropTypes.func.isRequired,\n        location: LocationType.isRequired,\n        sliderRef: PropTypes.object.isRequired,\n        handleImageZoomPopupActiveChange: PropTypes.func.isRequired,\n        isMobile: PropTypes.bool.isRequired,\n        isImageZoomPopupActive: PropTypes.bool.isRequired\n    };\n\n    static defaultProps = {\n        productId: 0\n    };\n\n    maxScale = MAX_ZOOM_SCALE;\n\n    imageRef = createRef();\n\n    state = {\n        scrollEnabled: true\n    };\n\n    __construct(props, context) {\n        super.__construct(props, context);\n        this.renderSlide = this.renderSlide.bind(this);\n    }\n\n    componentDidMount() {\n        this.updateSharedDestinationElement();\n    }\n\n    componentDidUpdate(prevProps) {\n        const { productId, location: { pathname }, sliderRef } = this.props;\n        const { productId: prevProductId, location: { pathname: prevPathname } } = prevProps;\n\n        if (productId !== prevProductId) {\n            this.updateSharedDestinationElement();\n        }\n\n        if (sliderRef?.current?.draggableRef && pathname !== prevPathname) {\n            CSS.setVariable(\n                sliderRef.current.draggableRef,\n                'animation-speed',\n                0\n            );\n        }\n    }\n\n    handleSliderClick = () => {\n        const {\n            handleImageZoomPopupActiveChange,\n            gallery,\n            activeImage\n        } = this.props;\n\n        const { media_type } = gallery[activeImage];\n        if (media_type === VIDEO_TYPE) {\n            return;\n        }\n\n        handleImageZoomPopupActiveChange(true);\n    };\n\n    updateSharedDestinationElement() {\n        const { registerSharedElementDestination } = this.props;\n        registerSharedElementDestination(this.imageRef);\n    }\n\n    renderAdditionalPicture = (media, index = 0) => (\n        <ProductGalleryThumbnailImage\n          key={ index }\n          media={ media }\n        />\n    );\n\n    /**\n     * Renders a video thumbnail which opens popup player on click/tap\n     * @param media\n     * @param index\n     * @returns {*}\n     * @private\n     */\n    renderVideo(media, index) {\n        const { isImageZoomPopupActive } = this.props;\n        return (\n            <VideoThumbnail\n              key={ index }\n              media={ media }\n              isVideoZoomed={ isImageZoomPopupActive }\n            />\n        );\n    }\n\n    renderPlaceholder(index) {\n        return (\n            <Image\n              key={ index }\n              ratio=\"custom\"\n              mix={ {\n                  block: 'ProductGallery',\n                  elem: 'SliderImage',\n                  mods: { isPlaceholder: true }\n              } }\n              isPlaceholder\n            />\n        );\n    }\n\n    stopScrolling() {\n        this.setState({ scrollEnabled: false });\n        this.timeout = setTimeout(() => {\n            this.setState({ scrollEnabled: true });\n            this.timeout = null;\n\n            // 20 ms is time give to scroll down, usually that is enough\n            // eslint-disable-next-line no-magic-numbers\n        }, 20);\n    }\n\n    onWheel = (zoomState) => {\n        const { scale } = zoomState;\n\n        if (this.timeout) {\n            return;\n        }\n\n        if (scale === 1 || scale === MAX_ZOOM_SCALE) {\n            this.stopScrolling();\n        }\n    };\n\n    /**\n     * Renders a product image to be displayed in the gallery\n     * @param mediaData\n     * @param index\n     * @returns {*}\n     * @private\n     */\n    renderImage(mediaData, index) {\n        const {\n            isZoomEnabled,\n            handleZoomChange,\n            disableZoom,\n            isMobile,\n            isImageZoomPopupActive\n        } = this.props;\n        const { scrollEnabled } = this.state;\n\n        if (!isMobile) {\n            const {\n                base: { url: baseSrc } = {},\n                large: { url: largeSrc } = {}\n            } = mediaData;\n\n            const style = isImageZoomPopupActive ? { height: 'auto' } : {};\n            const src = isImageZoomPopupActive ? largeSrc : baseSrc;\n\n            return (\n                <Image\n                  key={ index }\n                  src={ src }\n                  ratio=\"custom\"\n                  mix={ {\n                      block: 'ProductGallery',\n                      elem: 'SliderImage',\n                      mods: { isPlaceholder: !src }\n                  } }\n                  isPlaceholder={ !src }\n                  style={ style }\n                />\n            );\n        }\n\n        return (\n            <TransformWrapper\n              key={ index }\n              onZoomChange={ handleZoomChange }\n              onWheelStart={ this.onWheelStart }\n              onWheel={ this.onWheel }\n              wheel={ { limitsOnWheel: true, disabled: !scrollEnabled } }\n            //   doubleClick={ { mode: 'reset' } }\n              pan={ {\n                  disabled: !isZoomEnabled,\n                  limitToWrapperBounds: true,\n                  velocity: false\n              } }\n              options={ {\n                  limitToBounds: true,\n                  minScale: 1\n              } }\n            >\n                { ({\n                    scale,\n                    previousScale,\n                    resetTransform,\n                    setTransform\n                }) => {\n                    if (scale === 1 && previousScale !== 1) {\n                        resetTransform();\n                    }\n\n                    return (\n                        <ProductGalleryBaseImage\n                          setTransform={ setTransform }\n                          index={ index }\n                          mediaData={ mediaData }\n                          scale={ scale }\n                          previousScale={ previousScale }\n                          disableZoom={ disableZoom }\n                          isZoomEnabled={ isZoomEnabled }\n                        />\n                    );\n                } }\n            </TransformWrapper>\n        );\n    }\n\n    /**\n     * Checks for the type of the slide and renders it accordingly\n     * @param media\n     * @param index\n     * @returns {null|*}\n     */\n    renderSlide(media, index) {\n        const { media_type } = media;\n\n        switch (media_type) {\n        case IMAGE_TYPE:\n            return this.renderImage(media, index);\n        case VIDEO_TYPE:\n            return this.renderVideo(media, index);\n        case PLACEHOLDER_TYPE:\n            return this.renderPlaceholder(index);\n        default:\n            return null;\n        }\n    }\n\n    renderAdditionalPictures() {\n        const {\n            gallery,\n            isImageZoomPopupActive,\n            activeImage,\n            onActiveImageChange\n        } = this.props;\n\n        if (gallery.length === 1) {\n            return <div block=\"ProductGallery\" elem=\"Additional\" />;\n        }\n\n        return (\n            <div block=\"ProductGallery\" elem=\"Additional\" mods={ { isImageZoomPopupActive } }>\n                <CarouselScroll activeItemId={ activeImage } onChange={ onActiveImageChange } showedItemCount={ 4 }>\n                    { gallery.map(this.renderAdditionalPicture) }\n                </CarouselScroll>\n            </div>\n        );\n    }\n\n    getImageUrl() {\n        const {\n            gallery: [\n                {\n                    thumbnail: {\n                        url = ''\n                    } = {}\n                }\n            ] = []\n        } = this.props;\n\n        return url;\n    }\n\n    renderSlider() {\n        const {\n            gallery,\n            activeImage,\n            isZoomEnabled,\n            onActiveImageChange,\n            isImageZoomPopupActive,\n            sliderRef\n        } = this.props;\n\n        const mods = {\n            isImageZoomPopupActive,\n            isZoomInCursor: !isImageZoomPopupActive\n        };\n\n        return (\n            <div\n              ref={ this.imageRef }\n              block=\"ProductGallery\"\n              elem=\"SliderWrapper\"\n            >\n                <meta itemProp=\"image\" content={ this.getImageUrl() } />\n                <Slider\n                  sliderRef={ sliderRef }\n                  mix={ { block: 'ProductGallery', elem: 'Slider', mods } }\n                  showCrumbs\n                  activeImage={ activeImage }\n                  onActiveImageChange={ onActiveImageChange }\n                  isInteractionDisabled={ isZoomEnabled }\n                  onClick={ this.handleSliderClick }\n                  sliderHeight={ isImageZoomPopupActive ? '100%' : 0 }\n                  isHeightTransitionDisabledOnMount\n                >\n                    { gallery.map(this.renderSlide) }\n                </Slider>\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <div block=\"ProductGallery\">\n                { this.renderAdditionalPictures() }\n                { this.renderSlider() }\n                <VideoPopup />\n            </div>\n        );\n    }\n}\n\nexport default withRouter(ProductGallery);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nexport { default } from './CarouselScroll.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nexport { default } from './CarouselScrollArrow.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport './CarouselScrollArrow.style';\n\n/** @namespace Component/CarouselScrollArrow/Component */\nexport class CarouselScrollArrow extends PureComponent {\n    static propTypes = {\n        mods: PropTypes.object,\n        onClick: PropTypes.func\n    };\n\n    static defaultProps = {\n        mods: {},\n        onClick: () => {}\n    };\n\n    render() {\n        const { mods, onClick } = this.props;\n\n        return (\n            <button\n              block=\"CarouselScrollArrow\"\n              mods={ mods }\n              onClick={ onClick }\n              aria-label=\"Arrow\"\n            />\n        );\n    }\n}\n\nexport default CarouselScrollArrow;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nexport { default } from './CarouselScrollItem.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { ChildrenType } from 'Type/Common';\n\nimport './CarouselScrollItem.style';\n\n/** @namespace Component/CarouselScrollItem/Component */\nexport class CarouselScrollItem extends PureComponent {\n    static propTypes = {\n        isActive: PropTypes.bool.isRequired,\n        itemRef: PropTypes.oneOfType([\n            PropTypes.func,\n            PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n        ]).isRequired,\n        onClick: PropTypes.func.isRequired,\n        children: ChildrenType.isRequired\n    };\n\n    render() {\n        const {\n            isActive,\n            itemRef,\n            onClick,\n            children\n        } = this.props;\n\n        return (\n            <div\n              role=\"button\"\n              tabIndex={ 0 }\n              block=\"CarouselScrollItem\"\n              mods={ { isActive } }\n              ref={ itemRef }\n              onClick={ onClick }\n              onKeyDown={ onClick }\n            >\n                { children }\n            </div>\n        );\n    }\n}\n\nexport default CarouselScrollItem;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nexport { default } from './ProductGalleryBaseImage.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { TransformComponent } from 'react-zoom-pan-pinch';\n\nimport Image from 'Component/Image';\n\n/** @namespace Component/ProductGalleryBaseImage/Component */\nexport class ProductGalleryBaseImage extends PureComponent {\n    static propTypes = {\n        src: PropTypes.string.isRequired,\n        alt: PropTypes.string.isRequired\n    };\n\n    render() {\n        const { src, alt } = this.props;\n\n        return (\n            <TransformComponent>\n                <Image\n                  src={ src }\n                  ratio=\"custom\"\n                  mix={ {\n                      block: 'ProductGallery',\n                      elem: 'SliderImage',\n                      mods: { isPlaceholder: !src }\n                  } }\n                  isPlaceholder={ !src }\n                  alt={ alt }\n                />\n                <img\n                  style={ { display: 'none' } }\n                  alt={ alt }\n                  src={ src }\n                  itemProp=\"image\"\n                />\n            </TransformComponent>\n        );\n    }\n}\n\nexport default ProductGalleryBaseImage;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nexport const TRANSFORMATION_DELAY = 0;\nexport const TRANSFORMATION_SPEED = 0;\nexport const INITIAL_SCALE = 1;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductGalleryThumbnailImage.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './VideoPopup.container';\n","/* eslint-disable react/no-unused-state */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { PureComponent } from 'react';\n\nimport Popup from 'Component/Popup';\nimport { MediaItemType } from 'Type/ProductList';\nimport { makeCancelable } from 'Util/Promise';\n\nimport { VIDEO_POPUP_ID, VIMEO_FORMAT, YOUTUBE_FORMAT } from './VideoPopup.config';\n\nimport './VideoPopup.style';\n\n/**\n * A popup capable of displaying a video\n * @class VideoPopup\n * @namespace Component/VideoPopup/Component\n */\nexport class VideoPopup extends PureComponent {\n    static propTypes = {\n        payload: MediaItemType.isRequired\n    };\n\n    componentDidMount() {\n        this.loadVimeoLibrary();\n        this.loadYouTubeLibrary();\n\n        Promise.all([\n            this.vimeoPromise,\n            this.youTubePromise\n        ]).then(\n            /** @namespace Component/VideoPopup/Component/videoLibrariesThen */\n            () => this.forceUpdate()\n        );\n    }\n\n    componentWillUnmount() {\n        if (this.youTubePromise) {\n            this.youTubePromise.cancel();\n        }\n\n        if (this.vimeoPromise) {\n            this.vimeoPromise.cancel();\n        }\n    }\n\n    /**\n     * Renders a video provided by Vimeo\n     * @param videoId\n     * @returns {*}\n     * @private\n     */\n    _renderVimeoVideo(videoId) {\n        const Vimeo = this.vimeoComponent;\n\n        if (!Vimeo) {\n            return null;\n        }\n\n        return (\n            <Vimeo\n              videoId={ videoId }\n              autoplay\n            />\n        );\n    }\n\n    /**\n     * Renders a video provided by Youtube\n     * @param videoId\n     * @returns {*}\n     * @private\n     */\n    _renderYoutubeVideo(videoId) {\n        const YouTube = this.youTubeComponent;\n\n        if (!YouTube) {\n            return null;\n        }\n\n        return (\n            <YouTube\n              videoId={ videoId }\n              containerClassName=\"VideoPopup-YouTubeContainer\"\n              // eslint-disable-next-line react/forbid-component-props\n              className=\"VideoPopup-YouTube\"\n              opts={ { playerVars: { autoplay: 1 } } }\n            />\n        );\n    }\n\n    loadVimeoLibrary() {\n        this.vimeoPromise = makeCancelable(import('react-vimeo'));\n\n        this.vimeoPromise.promise.then(\n            /** @namespace Component/VideoPopup/Component/vimeoPromisePromiseThen */\n            ({ default: vimeo }) => {\n                this.vimeoComponent = vimeo;\n            }\n        );\n    }\n\n    loadYouTubeLibrary() {\n        this.youTubePromise = makeCancelable(import('react-youtube'));\n\n        this.youTubePromise.promise.then(\n            /** @namespace Component/VideoPopup/Component/youTubePromisePromiseThen */\n            ({ default: youTube }) => {\n                this.youTubeComponent = youTube;\n            }\n        );\n    }\n\n    /**\n     * Parses the video URL and renders the video accordingly\n     * @returns {null|*}\n     * @private\n     */\n    _renderVideoContent() {\n        const {\n            payload: {\n                media: {\n                    video_content: { video_url } = {}\n                } = {}\n            }\n        } = this.props;\n\n        if (!video_url) {\n            return null;\n        }\n\n        const [, vimeoId] = VIMEO_FORMAT.exec(video_url) || [];\n        if (vimeoId) {\n            return this._renderVimeoVideo(vimeoId);\n        }\n\n        const [, youtubeId] = YOUTUBE_FORMAT.exec(video_url);\n        if (youtubeId) {\n            return this._renderYoutubeVideo(youtubeId);\n        }\n\n        return null;\n    }\n\n    render() {\n        return (\n            <Popup id={ VIDEO_POPUP_ID } mix={ { block: 'VideoPopup' } }>\n                <div block=\"VideoPopup\" elem=\"VideoPlayer\">\n                    <div block=\"VideoPopup\" elem=\"PlayerContent\">\n                        { this._renderVideoContent() }\n                    </div>\n                </div>\n            </Popup>\n        );\n    }\n}\n\nexport default VideoPopup;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './VideoThumbnail.container';\n","/* eslint-disable react/no-unused-state */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Image from 'Component/Image/Image.container';\nimport { MediaItemType } from 'Type/ProductList';\n\nimport './VideoThumbnail.style';\n\n/**\n * VideoThumbnail component\n * @class VideoThumbnail\n * @namespace Component/VideoThumbnail/Component/videoThumbnail\n */\nexport class VideoThumbnail extends PureComponent {\n    static propTypes = {\n        media: MediaItemType.isRequired,\n        onPlayClick: PropTypes.func.isRequired\n    };\n\n    /**\n     * Renders an icon indicating that the video can be played\n     * @namespace Component/VideoThumbnail/Component\n */\n    renderPlayIcon() {\n        return (\n            <span block=\"VideoThumbnail\" elem=\"PlayIcon\">\n                { __('Play video') }\n            </span>\n        );\n    }\n\n    render() {\n        const {\n            media: {\n                thumbnail: { url },\n                video_content: { video_title }\n            },\n            onPlayClick\n        } = this.props;\n\n        return (\n            <div block=\"VideoThumbnail\">\n                <button\n                  block=\"VideoThumbnail\"\n                  elem=\"Button\"\n                  onClick={ onPlayClick }\n                  title={ __('Play video %s', video_title) }\n                >\n                    <Image\n                      src={ url }\n                      ratio=\"custom\"\n                      mix={ {\n                          block: 'VideoThumbnail',\n                          elem: 'Thumbnail',\n                          mods: { isPlaceholder: !url }\n                      } }\n                      isPlaceholder={ !url }\n                      alt={ video_title }\n                    />\n                    { this.renderPlayIcon() }\n                </button>\n            </div>\n        );\n    }\n}\n\nexport default VideoThumbnail;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductInformation.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductReviews.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Popup from 'Component/Popup';\nimport ProductReviewForm from 'Component/ProductReviewForm';\nimport ProductReviewList from 'Component/ProductReviewList';\nimport ProductReviewRating from 'Component/ProductReviewRating';\nimport { ProductType } from 'Type/ProductList';\n\nimport { REVIEW_POPUP_ID } from './ProductReviews.config';\n\nimport './ProductReviews.style';\n\n/** @namespace Component/ProductReviews/Component */\nexport class ProductReviews extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        showPopup: PropTypes.func.isRequired,\n        areDetailsLoaded: PropTypes.bool\n    };\n\n    static defaultProps = {\n        areDetailsLoaded: false\n    };\n\n    renderPopup() {\n        const { product } = this.props;\n\n        return (\n            <Popup\n              id={ REVIEW_POPUP_ID }\n              mix={ { block: 'ProductReviews', elem: 'Popup' } }\n            >\n                <ProductReviewForm product={ product } />\n            </Popup>\n        );\n    }\n\n    renderButton() {\n        const { showPopup } = this.props;\n\n        return (\n            <button\n              block=\"ProductReviews\"\n              elem=\"Button\"\n              mix={ { block: 'Button' } }\n              onClick={ showPopup }\n            >\n                { __('Write a new review') }\n            </button>\n        );\n    }\n\n    renderNoRating() {\n        return (\n            <p>\n                { __('There are no reviews yet! Click button on the right to submit one!') }\n            </p>\n        );\n    }\n\n    renderRatingSchema(percent, reviewCount) {\n        return (\n            <>\n                <meta itemProp=\"ratingValue\" content={ percent } />\n                <meta itemProp=\"worstRating\" content={ 0 } />\n                <meta itemProp=\"bestRating\" content={ 100 } />\n                <meta itemProp=\"reviewCount\" content={ reviewCount } />\n            </>\n        );\n    }\n\n    renderRatingData() {\n        const {\n            product: {\n                review_summary: {\n                    rating_summary,\n                    review_count\n                } = {}\n            }\n        } = this.props;\n\n        const STARS_COUNT = 5;\n        const PERCENT = 100;\n\n        // eslint-disable-next-line no-mixed-operators\n        const percent = parseFloat(STARS_COUNT * (rating_summary || 0) / PERCENT).toFixed(2);\n\n        if (!review_count) {\n            return this.renderNoRating();\n        }\n\n        return (\n            <>\n                { this.renderRatingSchema(rating_summary, review_count) }\n                <ProductReviewRating\n                  mix={ { block: 'ProductReviews', elem: 'SummaryRating' } }\n                  summary={ rating_summary }\n                />\n                <p block=\"ProductReviews\" elem=\"SummaryDetails\">\n                    { percent }\n                    <span>{ __('%s reviews', review_count || 0) }</span>\n                </p>\n            </>\n        );\n    }\n\n    renderSummary() {\n        const {\n            product: {\n                review_summary: {\n                    review_count\n                } = {}\n            }\n        } = this.props;\n\n        const reviewSchemaObject = review_count\n            ? {\n                itemType: 'http://schema.org/AggregateRating',\n                itemProp: 'aggregateRating',\n                itemScope: true\n            } : {};\n\n        return (\n            <div\n              block=\"ProductReviews\"\n              elem=\"Summary\"\n              { ...reviewSchemaObject }\n            >\n                { this.renderRatingData() }\n                { this.renderButton() }\n            </div>\n        );\n    }\n\n    renderList() {\n        const { product } = this.props;\n\n        return (\n            <ProductReviewList\n              product={ product }\n            />\n        );\n    }\n\n    render() {\n        const {\n            product,\n            areDetailsLoaded\n        } = this.props;\n\n        const {\n            review_summary: { review_count } = {}\n        } = product;\n\n        const heading = areDetailsLoaded\n            ? __('Product reviews (%s)', review_count || '0')\n            : '';\n\n        return (\n            <ContentWrapper\n              label=\"Product reviews\"\n              mix={ { block: 'ProductReviews' } }\n              wrapperMix={ { block: 'ProductReviews', elem: 'Wrapper' } }\n            >\n                <ExpandableContent\n                  mix={ { block: 'ProductReviews', elem: 'Content' } }\n                  heading={ heading }\n                >\n                    { this.renderSummary() }\n                    { this.renderList() }\n                    { this.renderPopup() }\n                </ExpandableContent>\n            </ContentWrapper>\n        );\n    }\n}\n\nexport default ProductReviews;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductReviewForm.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Field from 'Component/Field';\nimport Form from 'Component/Form';\nimport Loader from 'Component/Loader';\nimport ReviewStar from 'Component/ReviewStar';\nimport { RatingItemsType } from 'Type/Rating';\n\nimport './ProductReviewForm.style';\n\n/**\n * ProductReviewForm\n * @class ProductReviewForm\n * @namespace Component/ProductReviewForm/Component\n */\nexport class ProductReviewForm extends PureComponent {\n    static propTypes = {\n        reviewRatings: RatingItemsType.isRequired,\n        isLoading: PropTypes.bool.isRequired,\n        onReviewSubmitAttempt: PropTypes.func.isRequired,\n        onReviewSubmitSuccess: PropTypes.func.isRequired,\n        onReviewError: PropTypes.func.isRequired,\n        onStarRatingClick: PropTypes.func.isRequired,\n        handleNicknameChange: PropTypes.func.isRequired,\n        handleSummaryChange: PropTypes.func.isRequired,\n        handleDetailChange: PropTypes.func.isRequired,\n        ratingData: PropTypes.objectOf(PropTypes.string).isRequired,\n        reviewData: PropTypes.shape({\n            nickname: PropTypes.string,\n            summary: PropTypes.string,\n            detail: PropTypes.string\n        }).isRequired,\n        isSubmitted: PropTypes.bool\n    };\n\n    static defaultProps = {\n        isSubmitted: false\n    };\n\n    ratingTitleMap = {\n        1: __('Awful'),\n        2: __('Bad'),\n        3: __('Average'),\n        4: __('Good'),\n        5: __('Awesome')\n    };\n\n    renderReviewStar(options, rating_id) {\n        const { ratingData, onStarRatingClick } = this.props;\n        const { option_id, value } = options;\n        const isChecked = !!ratingData[rating_id] && ratingData[rating_id] === option_id;\n\n        return (\n            <ReviewStar\n              key={ option_id }\n              name={ rating_id }\n              value={ value }\n              title={ this.ratingTitleMap[value] }\n              isChecked={ isChecked }\n              option_id={ option_id }\n              rating_id={ rating_id }\n              onStarRatingClick={ onStarRatingClick }\n            />\n        );\n    }\n\n    renderReviewRating() {\n        const { reviewRatings } = this.props;\n\n        return reviewRatings.map((rating) => {\n            const { rating_id, rating_code, rating_options } = rating;\n\n            return (\n                <fieldset block=\"ProductReviewForm\" elem=\"Rating\" key={ rating_id }>\n                    <legend block=\"ProductReviewForm\" elem=\"Legend\">\n                        { rating_code }\n                    </legend>\n                    { rating_options\n                        .sort(({ value }, { value: nextValue }) => nextValue - value)\n                        .map((option) => this.renderReviewStar(option, rating_id)) }\n                </fieldset>\n            );\n        });\n    }\n\n    renderButton() {\n        return (\n            <button\n              block=\"ProductReviewForm\"\n              elem=\"Button\"\n              type=\"submit\"\n              mix={ { block: 'Button' } }\n            >\n                { __('Submit Review') }\n            </button>\n        );\n    }\n\n    renderReviewFormContent() {\n        const {\n            handleNicknameChange,\n            handleSummaryChange,\n            handleDetailChange,\n            reviewData,\n            isSubmitted\n        } = this.props;\n\n        const {\n            nickname = '',\n            summary = '',\n            detail = ''\n        } = reviewData;\n\n        return (\n            <div\n              block=\"ProductReviewForm\"\n              elem=\"Wrapper\"\n            >\n                <div>\n                    { this.renderReviewRating() }\n                </div>\n                <div\n                  block=\"ProductReviewForm\"\n                  elem=\"Content\"\n                >\n                    <Field\n                      type=\"text\"\n                      label={ __('Nickname') }\n                      id=\"nickname\"\n                      name=\"nickname\"\n                      validation={ ['notEmpty'] }\n                      value={ nickname }\n                      onChange={ handleNicknameChange }\n                      validateSeparately\n                      isSubmitted={ isSubmitted }\n                    />\n                    <Field\n                      type=\"text\"\n                      label={ __('Summary') }\n                      id=\"title\"\n                      name=\"title\"\n                      validation={ ['notEmpty'] }\n                      value={ summary }\n                      onChange={ handleSummaryChange }\n                      isSubmitted={ isSubmitted }\n                      validateSeparately\n                    />\n                    <Field\n                      type=\"textarea\"\n                      label={ __('Review') }\n                      id=\"detail\"\n                      name=\"detail\"\n                      validation={ ['notEmpty'] }\n                      value={ detail }\n                      onChange={ handleDetailChange }\n                      isSubmitted={ isSubmitted }\n                      validateSeparately\n                    />\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        const {\n            isLoading,\n            onReviewSubmitAttempt,\n            onReviewSubmitSuccess,\n            onReviewError\n        } = this.props;\n\n        return (\n            <Form\n              key=\"product-review\"\n              mix={ { block: 'ProductReviewForm' } }\n              onSubmit={ onReviewSubmitAttempt }\n              onSubmitSuccess={ onReviewSubmitSuccess }\n              onSubmitError={ onReviewError }\n            >\n                <Loader isLoading={ isLoading } />\n                { this.renderReviewFormContent() }\n                { this.renderButton() }\n            </Form>\n        );\n    }\n}\n\nexport default ProductReviewForm;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ReviewStar.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductReviewList.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductReviewItem.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductTabs.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductTab.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './NoMatchHandler.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport NoMatch from 'Route/NoMatch';\nimport { ChildrenType } from 'Type/Common';\nimport { LocationType } from 'Type/Router';\n\n/** @namespace Route/NoMatchHandler/Component */\nexport class NoMatchHandler extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        noMatch: PropTypes.bool.isRequired,\n        updateNoMatch: PropTypes.func.isRequired,\n        location: LocationType.isRequired\n    };\n\n    componentDidMount() {\n        window.scrollTo(0, 0);\n    }\n\n    componentDidUpdate(prevProps) {\n        const { location: { pathname: newPathname } } = this.props;\n        const { location: { pathname } } = prevProps;\n\n        if (newPathname !== pathname) {\n            // 'window.scrollTo' is used to set correct scroll position for newly opened page. Previously we passed (0, 0)\n            // It caused scroll issue in Firefox, when navigating back from ProductPage to CategoryPage\n            // Not calling 'window.scrollTo' did not help, but passing dummy value for 'y' seems to fix it\n            if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {\n                window.scrollTo(0, 1);\n            } else {\n                window.scrollTo(0, 0);\n            }\n\n            this.onRouteChanged();\n        }\n    }\n\n    componentWillUnmount() {\n        const {\n            noMatch,\n            updateNoMatch\n        } = this.props;\n\n        if (noMatch) {\n            updateNoMatch({ noMatch: false });\n        }\n    }\n\n    /**\n     * On browser route change\n     * @return {void}\n     */\n    onRouteChanged() {\n        const {\n            noMatch,\n            updateNoMatch\n        } = this.props;\n\n        if (noMatch) {\n            updateNoMatch({ noMatch: false });\n        }\n    }\n\n    render() {\n        const { children, noMatch } = this.props;\n        if (noMatch) {\n            return <NoMatch />;\n        }\n\n        return children;\n    }\n}\n\nexport default NoMatchHandler;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\n// eslint-disable-next-line import/prefer-default-export\nexport const PRODUCT_INFORMATION = 'information';\nexport const PRODUCT_ATTRIBUTES = 'attributes';\nexport const PRODUCT_REVIEWS = 'reviews';\n"],"sourceRoot":""}